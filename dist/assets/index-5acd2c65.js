(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function am(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gd={exports:{}},Ar={},yd={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var li=Symbol.for("react.element"),um=Symbol.for("react.portal"),cm=Symbol.for("react.fragment"),dm=Symbol.for("react.strict_mode"),fm=Symbol.for("react.profiler"),pm=Symbol.for("react.provider"),mm=Symbol.for("react.context"),hm=Symbol.for("react.forward_ref"),gm=Symbol.for("react.suspense"),ym=Symbol.for("react.memo"),vm=Symbol.for("react.lazy"),Ba=Symbol.iterator;function Cm(n){return n===null||typeof n!="object"?null:(n=Ba&&n[Ba]||n["@@iterator"],typeof n=="function"?n:null)}var vd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cd=Object.assign,Td={};function mo(n,e,t){this.props=n,this.context=e,this.refs=Td,this.updater=t||vd}mo.prototype.isReactComponent={};mo.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};mo.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function xd(){}xd.prototype=mo.prototype;function Bl(n,e,t){this.props=n,this.context=e,this.refs=Td,this.updater=t||vd}var Ol=Bl.prototype=new xd;Ol.constructor=Bl;Cd(Ol,mo.prototype);Ol.isPureReactComponent=!0;var Oa=Array.isArray,_d=Object.prototype.hasOwnProperty,Hl={current:null},Sd={key:!0,ref:!0,__self:!0,__source:!0};function Ed(n,e,t){var o,i={},r=null,a=null;if(e!=null)for(o in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(r=""+e.key),e)_d.call(e,o)&&!Sd.hasOwnProperty(o)&&(i[o]=e[o]);var u=arguments.length-2;if(u===1)i.children=t;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}if(n&&n.defaultProps)for(o in u=n.defaultProps,u)i[o]===void 0&&(i[o]=u[o]);return{$$typeof:li,type:n,key:r,ref:a,props:i,_owner:Hl.current}}function Tm(n,e){return{$$typeof:li,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Wl(n){return typeof n=="object"&&n!==null&&n.$$typeof===li}function xm(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Ha=/\/+/g;function Kr(n,e){return typeof n=="object"&&n!==null&&n.key!=null?xm(""+n.key):e.toString(36)}function Fi(n,e,t,o,i){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case li:case um:a=!0}}if(a)return a=n,i=i(a),n=o===""?"."+Kr(a,0):o,Oa(i)?(t="",n!=null&&(t=n.replace(Ha,"$&/")+"/"),Fi(i,e,t,"",function(d){return d})):i!=null&&(Wl(i)&&(i=Tm(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ha,"$&/")+"/")+n)),e.push(i)),1;if(a=0,o=o===""?".":o+":",Oa(n))for(var u=0;u<n.length;u++){r=n[u];var c=o+Kr(r,u);a+=Fi(r,e,t,c,i)}else if(c=Cm(n),typeof c=="function")for(n=c.call(n),u=0;!(r=n.next()).done;)r=r.value,c=o+Kr(r,u++),a+=Fi(r,e,t,c,i);else if(r==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function hi(n,e,t){if(n==null)return n;var o=[],i=0;return Fi(n,o,"","",function(r){return e.call(t,r,i++)}),o}function _m(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Le={current:null},Ui={transition:null},Sm={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:Ui,ReactCurrentOwner:Hl};function wd(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:hi,forEach:function(n,e,t){hi(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return hi(n,function(){e++}),e},toArray:function(n){return hi(n,function(e){return e})||[]},only:function(n){if(!Wl(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};X.Component=mo;X.Fragment=cm;X.Profiler=fm;X.PureComponent=Bl;X.StrictMode=dm;X.Suspense=gm;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sm;X.act=wd;X.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var o=Cd({},n.props),i=n.key,r=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,a=Hl.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var u=n.type.defaultProps;for(c in e)_d.call(e,c)&&!Sd.hasOwnProperty(c)&&(o[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)o.children=t;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:li,type:n.type,key:i,ref:r,props:o,_owner:a}};X.createContext=function(n){return n={$$typeof:mm,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:pm,_context:n},n.Consumer=n};X.createElement=Ed;X.createFactory=function(n){var e=Ed.bind(null,n);return e.type=n,e};X.createRef=function(){return{current:null}};X.forwardRef=function(n){return{$$typeof:hm,render:n}};X.isValidElement=Wl;X.lazy=function(n){return{$$typeof:vm,_payload:{_status:-1,_result:n},_init:_m}};X.memo=function(n,e){return{$$typeof:ym,type:n,compare:e===void 0?null:e}};X.startTransition=function(n){var e=Ui.transition;Ui.transition={};try{n()}finally{Ui.transition=e}};X.unstable_act=wd;X.useCallback=function(n,e){return Le.current.useCallback(n,e)};X.useContext=function(n){return Le.current.useContext(n)};X.useDebugValue=function(){};X.useDeferredValue=function(n){return Le.current.useDeferredValue(n)};X.useEffect=function(n,e){return Le.current.useEffect(n,e)};X.useId=function(){return Le.current.useId()};X.useImperativeHandle=function(n,e,t){return Le.current.useImperativeHandle(n,e,t)};X.useInsertionEffect=function(n,e){return Le.current.useInsertionEffect(n,e)};X.useLayoutEffect=function(n,e){return Le.current.useLayoutEffect(n,e)};X.useMemo=function(n,e){return Le.current.useMemo(n,e)};X.useReducer=function(n,e,t){return Le.current.useReducer(n,e,t)};X.useRef=function(n){return Le.current.useRef(n)};X.useState=function(n){return Le.current.useState(n)};X.useSyncExternalStore=function(n,e,t){return Le.current.useSyncExternalStore(n,e,t)};X.useTransition=function(){return Le.current.useTransition()};X.version="18.3.1";yd.exports=X;var H=yd.exports;const Em=am(H);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm=H,km=Symbol.for("react.element"),Im=Symbol.for("react.fragment"),Mm=Object.prototype.hasOwnProperty,Am=wm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rm={key:!0,ref:!0,__self:!0,__source:!0};function kd(n,e,t){var o,i={},r=null,a=null;t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(a=e.ref);for(o in e)Mm.call(e,o)&&!Rm.hasOwnProperty(o)&&(i[o]=e[o]);if(n&&n.defaultProps)for(o in e=n.defaultProps,e)i[o]===void 0&&(i[o]=e[o]);return{$$typeof:km,type:n,key:r,ref:a,props:i,_owner:Am.current}}Ar.Fragment=Im;Ar.jsx=kd;Ar.jsxs=kd;gd.exports=Ar;var _=gd.exports,_s={},Id={exports:{}},Ke={},Md={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(V,x){var E=V.length;V.push(x);e:for(;0<E;){var M=E-1>>>1,D=V[M];if(0<i(D,x))V[M]=x,V[E]=D,E=M;else break e}}function t(V){return V.length===0?null:V[0]}function o(V){if(V.length===0)return null;var x=V[0],E=V.pop();if(E!==x){V[0]=E;e:for(var M=0,D=V.length,O=D>>>1;M<O;){var W=2*(M+1)-1,J=V[W],ue=W+1,Xe=V[ue];if(0>i(J,E))ue<D&&0>i(Xe,J)?(V[M]=Xe,V[ue]=E,M=ue):(V[M]=J,V[W]=E,M=W);else if(ue<D&&0>i(Xe,E))V[M]=Xe,V[ue]=E,M=ue;else break e}}return x}function i(V,x){var E=V.sortIndex-x.sortIndex;return E!==0?E:V.id-x.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var c=[],d=[],f=1,p=null,m=3,y=!1,C=!1,T=!1,w=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(V){for(var x=t(d);x!==null;){if(x.callback===null)o(d);else if(x.startTime<=V)o(d),x.sortIndex=x.expirationTime,e(c,x);else break;x=t(d)}}function S(V){if(T=!1,v(V),!C)if(t(c)!==null)C=!0,xt(I);else{var x=t(d);x!==null&&_t(S,x.startTime-V)}}function I(V,x){C=!1,T&&(T=!1,h(R),R=-1),y=!0;var E=m;try{for(v(x),p=t(c);p!==null&&(!(p.expirationTime>x)||V&&!b());){var M=p.callback;if(typeof M=="function"){p.callback=null,m=p.priorityLevel;var D=M(p.expirationTime<=x);x=n.unstable_now(),typeof D=="function"?p.callback=D:p===t(c)&&o(c),v(x)}else o(c);p=t(c)}if(p!==null)var O=!0;else{var W=t(d);W!==null&&_t(S,W.startTime-x),O=!1}return O}finally{p=null,m=E,y=!1}}var A=!1,k=null,R=-1,L=5,F=-1;function b(){return!(n.unstable_now()-F<L)}function Ue(){if(k!==null){var V=n.unstable_now();F=V;var x=!0;try{x=k(!0,V)}finally{x?Ve():(A=!1,k=null)}}else A=!1}var Ve;if(typeof g=="function")Ve=function(){g(Ue)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,$e=ye.port2;ye.port1.onmessage=Ue,Ve=function(){$e.postMessage(null)}}else Ve=function(){w(Ue,0)};function xt(V){k=V,A||(A=!0,Ve())}function _t(V,x){R=w(function(){V(n.unstable_now())},x)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){C||y||(C=!0,xt(I))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(V){switch(m){case 1:case 2:case 3:var x=3;break;default:x=m}var E=m;m=x;try{return V()}finally{m=E}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,x){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var E=m;m=V;try{return x()}finally{m=E}},n.unstable_scheduleCallback=function(V,x,E){var M=n.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?M+E:M):E=M,V){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=E+D,V={id:f++,callback:x,priorityLevel:V,startTime:E,expirationTime:D,sortIndex:-1},E>M?(V.sortIndex=E,e(d,V),t(c)===null&&V===t(d)&&(T?(h(R),R=-1):T=!0,_t(S,E-M))):(V.sortIndex=D,e(c,V),C||y||(C=!0,xt(I))),V},n.unstable_shouldYield=b,n.unstable_wrapCallback=function(V){var x=m;return function(){var E=m;m=x;try{return V.apply(this,arguments)}finally{m=E}}}})(Ad);Md.exports=Ad;var Pm=Md.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=H,Je=Pm;function P(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rd=new Set,Wo={};function In(n,e){eo(n,e),eo(n+"Capture",e)}function eo(n,e){for(Wo[n]=e,n=0;n<e.length;n++)Rd.add(e[n])}var Rt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ss=Object.prototype.hasOwnProperty,Dm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wa={},qa={};function Lm(n){return Ss.call(qa,n)?!0:Ss.call(Wa,n)?!1:Dm.test(n)?qa[n]=!0:(Wa[n]=!0,!1)}function Fm(n,e,t,o){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Um(n,e,t,o){if(e===null||typeof e>"u"||Fm(n,e,t,o))return!0;if(o)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fe(n,e,t,o,i,r,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=r,this.removeEmptyString=a}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){we[n]=new Fe(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];we[e]=new Fe(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){we[n]=new Fe(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){we[n]=new Fe(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){we[n]=new Fe(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){we[n]=new Fe(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){we[n]=new Fe(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){we[n]=new Fe(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){we[n]=new Fe(n,5,!1,n.toLowerCase(),null,!1,!1)});var ql=/[\-:]([a-z])/g;function Yl(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(ql,Yl);we[e]=new Fe(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(ql,Yl);we[e]=new Fe(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(ql,Yl);we[e]=new Fe(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){we[n]=new Fe(n,1,!1,n.toLowerCase(),null,!1,!1)});we.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){we[n]=new Fe(n,1,!1,n.toLowerCase(),null,!0,!0)});function Jl(n,e,t,o){var i=we.hasOwnProperty(e)?we[e]:null;(i!==null?i.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Um(e,t,i,o)&&(t=null),o||i===null?Lm(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,o=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,o?n.setAttributeNS(o,e,t):n.setAttribute(e,t))))}var Ft=Nm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gi=Symbol.for("react.element"),Dn=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),Kl=Symbol.for("react.strict_mode"),Es=Symbol.for("react.profiler"),Pd=Symbol.for("react.provider"),Nd=Symbol.for("react.context"),Zl=Symbol.for("react.forward_ref"),ws=Symbol.for("react.suspense"),ks=Symbol.for("react.suspense_list"),Xl=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Dd=Symbol.for("react.offscreen"),Ya=Symbol.iterator;function Co(n){return n===null||typeof n!="object"?null:(n=Ya&&n[Ya]||n["@@iterator"],typeof n=="function"?n:null)}var fe=Object.assign,Zr;function Mo(n){if(Zr===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Zr=e&&e[1]||""}return`
`+Zr+n}var Xr=!1;function Qr(n,e){if(!n||Xr)return"";Xr=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var o=d}Reflect.construct(n,[],e)}else{try{e.call()}catch(d){o=d}n.call(e.prototype)}else{try{throw Error()}catch(d){o=d}n()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),r=o.stack.split(`
`),a=i.length-1,u=r.length-1;1<=a&&0<=u&&i[a]!==r[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==r[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==r[u]){var c=`
`+i[a].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=a&&0<=u);break}}}finally{Xr=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Mo(n):""}function Vm(n){switch(n.tag){case 5:return Mo(n.type);case 16:return Mo("Lazy");case 13:return Mo("Suspense");case 19:return Mo("SuspenseList");case 0:case 2:case 15:return n=Qr(n.type,!1),n;case 11:return n=Qr(n.type.render,!1),n;case 1:return n=Qr(n.type,!0),n;default:return""}}function Is(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ln:return"Fragment";case Dn:return"Portal";case Es:return"Profiler";case Kl:return"StrictMode";case ws:return"Suspense";case ks:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Nd:return(n.displayName||"Context")+".Consumer";case Pd:return(n._context.displayName||"Context")+".Provider";case Zl:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Xl:return e=n.displayName||null,e!==null?e:Is(n.type)||"Memo";case Vt:e=n._payload,n=n._init;try{return Is(n(e))}catch{}}return null}function $m(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Is(e);case 8:return e===Kl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function en(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ld(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zm(n){var e=Ld(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),o=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,r=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){o=""+a,r.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return o},setValue:function(a){o=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function yi(n){n._valueTracker||(n._valueTracker=zm(n))}function Fd(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),o="";return n&&(o=Ld(n)?n.checked?"true":"false":n.value),n=o,n!==t?(e.setValue(n),!0):!1}function Xi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ms(n,e){var t=e.checked;return fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Ja(n,e){var t=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;t=en(e.value!=null?e.value:t),n._wrapperState={initialChecked:o,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ud(n,e){e=e.checked,e!=null&&Jl(n,"checked",e,!1)}function As(n,e){Ud(n,e);var t=en(e.value),o=e.type;if(t!=null)o==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(o==="submit"||o==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Rs(n,e.type,t):e.hasOwnProperty("defaultValue")&&Rs(n,e.type,en(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Ka(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Rs(n,e,t){(e!=="number"||Xi(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Ao=Array.isArray;function Yn(n,e,t,o){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&o&&(n[t].defaultSelected=!0)}else{for(t=""+en(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,o&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Ps(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return fe({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Za(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(P(92));if(Ao(t)){if(1<t.length)throw Error(P(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:en(t)}}function Vd(n,e){var t=en(e.value),o=en(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),o!=null&&(n.defaultValue=""+o)}function Xa(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function $d(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ns(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?$d(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var vi,zd=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,o,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,o,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(vi=vi||document.createElement("div"),vi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vi.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function qo(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gm=["Webkit","ms","Moz","O"];Object.keys(Lo).forEach(function(n){Gm.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Lo[e]=Lo[n]})});function Gd(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Lo.hasOwnProperty(n)&&Lo[n]?(""+e).trim():e+"px"}function Bd(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var o=t.indexOf("--")===0,i=Gd(t,e[t],o);t==="float"&&(t="cssFloat"),o?n.setProperty(t,i):n[t]=i}}var Bm=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ds(n,e){if(e){if(Bm[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Ls(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fs=null;function Ql(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Us=null,Jn=null,Kn=null;function Qa(n){if(n=ci(n)){if(typeof Us!="function")throw Error(P(280));var e=n.stateNode;e&&(e=Lr(e),Us(n.stateNode,n.type,e))}}function Od(n){Jn?Kn?Kn.push(n):Kn=[n]:Jn=n}function Hd(){if(Jn){var n=Jn,e=Kn;if(Kn=Jn=null,Qa(n),e)for(n=0;n<e.length;n++)Qa(e[n])}}function Wd(n,e){return n(e)}function qd(){}var br=!1;function Yd(n,e,t){if(br)return n(e,t);br=!0;try{return Wd(n,e,t)}finally{br=!1,(Jn!==null||Kn!==null)&&(qd(),Hd())}}function Yo(n,e){var t=n.stateNode;if(t===null)return null;var o=Lr(t);if(o===null)return null;t=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(P(231,e,typeof t));return t}var Vs=!1;if(Rt)try{var To={};Object.defineProperty(To,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{Vs=!1}function Om(n,e,t,o,i,r,a,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(t,d)}catch(f){this.onError(f)}}var Fo=!1,Qi=null,bi=!1,$s=null,Hm={onError:function(n){Fo=!0,Qi=n}};function Wm(n,e,t,o,i,r,a,u,c){Fo=!1,Qi=null,Om.apply(Hm,arguments)}function qm(n,e,t,o,i,r,a,u,c){if(Wm.apply(this,arguments),Fo){if(Fo){var d=Qi;Fo=!1,Qi=null}else throw Error(P(198));bi||(bi=!0,$s=d)}}function Mn(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Jd(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function ba(n){if(Mn(n)!==n)throw Error(P(188))}function Ym(n){var e=n.alternate;if(!e){if(e=Mn(n),e===null)throw Error(P(188));return e!==n?null:n}for(var t=n,o=e;;){var i=t.return;if(i===null)break;var r=i.alternate;if(r===null){if(o=i.return,o!==null){t=o;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===t)return ba(i),n;if(r===o)return ba(i),e;r=r.sibling}throw Error(P(188))}if(t.return!==o.return)t=i,o=r;else{for(var a=!1,u=i.child;u;){if(u===t){a=!0,t=i,o=r;break}if(u===o){a=!0,o=i,t=r;break}u=u.sibling}if(!a){for(u=r.child;u;){if(u===t){a=!0,t=r,o=i;break}if(u===o){a=!0,o=r,t=i;break}u=u.sibling}if(!a)throw Error(P(189))}}if(t.alternate!==o)throw Error(P(190))}if(t.tag!==3)throw Error(P(188));return t.stateNode.current===t?n:e}function Kd(n){return n=Ym(n),n!==null?Zd(n):null}function Zd(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Zd(n);if(e!==null)return e;n=n.sibling}return null}var Xd=Je.unstable_scheduleCallback,ja=Je.unstable_cancelCallback,Jm=Je.unstable_shouldYield,Km=Je.unstable_requestPaint,he=Je.unstable_now,Zm=Je.unstable_getCurrentPriorityLevel,bl=Je.unstable_ImmediatePriority,Qd=Je.unstable_UserBlockingPriority,ji=Je.unstable_NormalPriority,Xm=Je.unstable_LowPriority,bd=Je.unstable_IdlePriority,Rr=null,yt=null;function Qm(n){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Rr,n,void 0,(n.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:eh,bm=Math.log,jm=Math.LN2;function eh(n){return n>>>=0,n===0?32:31-(bm(n)/jm|0)|0}var Ci=64,Ti=4194304;function Ro(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function er(n,e){var t=n.pendingLanes;if(t===0)return 0;var o=0,i=n.suspendedLanes,r=n.pingedLanes,a=t&268435455;if(a!==0){var u=a&~i;u!==0?o=Ro(u):(r&=a,r!==0&&(o=Ro(r)))}else a=t&~i,a!==0?o=Ro(a):r!==0&&(o=Ro(r));if(o===0)return 0;if(e!==0&&e!==o&&!(e&i)&&(i=o&-o,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(o&4&&(o|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=o;0<e;)t=31-ut(e),i=1<<t,o|=n[t],e&=~i;return o}function th(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nh(n,e){for(var t=n.suspendedLanes,o=n.pingedLanes,i=n.expirationTimes,r=n.pendingLanes;0<r;){var a=31-ut(r),u=1<<a,c=i[a];c===-1?(!(u&t)||u&o)&&(i[a]=th(u,e)):c<=e&&(n.expiredLanes|=u),r&=~u}}function zs(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function jd(){var n=Ci;return Ci<<=1,!(Ci&4194240)&&(Ci=64),n}function jr(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function ai(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ut(e),n[e]=t}function oh(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var o=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-ut(t),r=1<<i;e[i]=0,o[i]=-1,n[i]=-1,t&=~r}}function jl(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var o=31-ut(t),i=1<<o;i&e|n[o]&e&&(n[o]|=e),t&=~i}}var te=0;function ef(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var tf,ea,nf,of,rf,Gs=!1,xi=[],qt=null,Yt=null,Jt=null,Jo=new Map,Ko=new Map,Gt=[],ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eu(n,e){switch(n){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":Jo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(e.pointerId)}}function xo(n,e,t,o,i,r){return n===null||n.nativeEvent!==r?(n={blockedOn:e,domEventName:t,eventSystemFlags:o,nativeEvent:r,targetContainers:[i]},e!==null&&(e=ci(e),e!==null&&ea(e)),n):(n.eventSystemFlags|=o,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function rh(n,e,t,o,i){switch(e){case"focusin":return qt=xo(qt,n,e,t,o,i),!0;case"dragenter":return Yt=xo(Yt,n,e,t,o,i),!0;case"mouseover":return Jt=xo(Jt,n,e,t,o,i),!0;case"pointerover":var r=i.pointerId;return Jo.set(r,xo(Jo.get(r)||null,n,e,t,o,i)),!0;case"gotpointercapture":return r=i.pointerId,Ko.set(r,xo(Ko.get(r)||null,n,e,t,o,i)),!0}return!1}function sf(n){var e=mn(n.target);if(e!==null){var t=Mn(e);if(t!==null){if(e=t.tag,e===13){if(e=Jd(t),e!==null){n.blockedOn=e,rf(n.priority,function(){nf(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Vi(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Bs(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var o=new t.constructor(t.type,t);Fs=o,t.target.dispatchEvent(o),Fs=null}else return e=ci(t),e!==null&&ea(e),n.blockedOn=t,!1;e.shift()}return!0}function tu(n,e,t){Vi(n)&&t.delete(e)}function sh(){Gs=!1,qt!==null&&Vi(qt)&&(qt=null),Yt!==null&&Vi(Yt)&&(Yt=null),Jt!==null&&Vi(Jt)&&(Jt=null),Jo.forEach(tu),Ko.forEach(tu)}function _o(n,e){n.blockedOn===e&&(n.blockedOn=null,Gs||(Gs=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,sh)))}function Zo(n){function e(i){return _o(i,n)}if(0<xi.length){_o(xi[0],n);for(var t=1;t<xi.length;t++){var o=xi[t];o.blockedOn===n&&(o.blockedOn=null)}}for(qt!==null&&_o(qt,n),Yt!==null&&_o(Yt,n),Jt!==null&&_o(Jt,n),Jo.forEach(e),Ko.forEach(e),t=0;t<Gt.length;t++)o=Gt[t],o.blockedOn===n&&(o.blockedOn=null);for(;0<Gt.length&&(t=Gt[0],t.blockedOn===null);)sf(t),t.blockedOn===null&&Gt.shift()}var Zn=Ft.ReactCurrentBatchConfig,tr=!0;function lh(n,e,t,o){var i=te,r=Zn.transition;Zn.transition=null;try{te=1,ta(n,e,t,o)}finally{te=i,Zn.transition=r}}function ah(n,e,t,o){var i=te,r=Zn.transition;Zn.transition=null;try{te=4,ta(n,e,t,o)}finally{te=i,Zn.transition=r}}function ta(n,e,t,o){if(tr){var i=Bs(n,e,t,o);if(i===null)us(n,e,o,nr,t),eu(n,o);else if(rh(i,n,e,t,o))o.stopPropagation();else if(eu(n,o),e&4&&-1<ih.indexOf(n)){for(;i!==null;){var r=ci(i);if(r!==null&&tf(r),r=Bs(n,e,t,o),r===null&&us(n,e,o,nr,t),r===i)break;i=r}i!==null&&o.stopPropagation()}else us(n,e,o,null,t)}}var nr=null;function Bs(n,e,t,o){if(nr=null,n=Ql(o),n=mn(n),n!==null)if(e=Mn(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Jd(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return nr=n,null}function lf(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zm()){case bl:return 1;case Qd:return 4;case ji:case Xm:return 16;case bd:return 536870912;default:return 16}default:return 16}}var Ht=null,na=null,$i=null;function af(){if($i)return $i;var n,e=na,t=e.length,o,i="value"in Ht?Ht.value:Ht.textContent,r=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(o=1;o<=a&&e[t-o]===i[r-o];o++);return $i=i.slice(n,1<o?1-o:void 0)}function zi(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function _i(){return!0}function nu(){return!1}function Ze(n){function e(t,o,i,r,a){this._reactName=t,this._targetInst=i,this.type=o,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(t=n[u],this[u]=t?t(r):r[u]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?_i:nu,this.isPropagationStopped=nu,this}return fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),e}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oa=Ze(ho),ui=fe({},ho,{view:0,detail:0}),uh=Ze(ui),es,ts,So,Pr=fe({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==So&&(So&&n.type==="mousemove"?(es=n.screenX-So.screenX,ts=n.screenY-So.screenY):ts=es=0,So=n),es)},movementY:function(n){return"movementY"in n?n.movementY:ts}}),ou=Ze(Pr),ch=fe({},Pr,{dataTransfer:0}),dh=Ze(ch),fh=fe({},ui,{relatedTarget:0}),ns=Ze(fh),ph=fe({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),mh=Ze(ph),hh=fe({},ho,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),gh=Ze(hh),yh=fe({},ho,{data:0}),iu=Ze(yh),vh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xh(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Th[n])?!!e[n]:!1}function ia(){return xh}var _h=fe({},ui,{key:function(n){if(n.key){var e=vh[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=zi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ch[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(n){return n.type==="keypress"?zi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?zi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Sh=Ze(_h),Eh=fe({},Pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ru=Ze(Eh),wh=fe({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),kh=Ze(wh),Ih=fe({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mh=Ze(Ih),Ah=fe({},Pr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Rh=Ze(Ah),Ph=[9,13,27,32],ra=Rt&&"CompositionEvent"in window,Uo=null;Rt&&"documentMode"in document&&(Uo=document.documentMode);var Nh=Rt&&"TextEvent"in window&&!Uo,uf=Rt&&(!ra||Uo&&8<Uo&&11>=Uo),su=String.fromCharCode(32),lu=!1;function cf(n,e){switch(n){case"keyup":return Ph.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function df(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fn=!1;function Dh(n,e){switch(n){case"compositionend":return df(e);case"keypress":return e.which!==32?null:(lu=!0,su);case"textInput":return n=e.data,n===su&&lu?null:n;default:return null}}function Lh(n,e){if(Fn)return n==="compositionend"||!ra&&cf(n,e)?(n=af(),$i=na=Ht=null,Fn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uf&&e.locale!=="ko"?null:e.data;default:return null}}var Fh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function au(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Fh[n.type]:e==="textarea"}function ff(n,e,t,o){Od(o),e=or(e,"onChange"),0<e.length&&(t=new oa("onChange","change",null,t,o),n.push({event:t,listeners:e}))}var Vo=null,Xo=null;function Uh(n){Sf(n,0)}function Nr(n){var e=$n(n);if(Fd(e))return n}function Vh(n,e){if(n==="change")return e}var pf=!1;if(Rt){var os;if(Rt){var is="oninput"in document;if(!is){var uu=document.createElement("div");uu.setAttribute("oninput","return;"),is=typeof uu.oninput=="function"}os=is}else os=!1;pf=os&&(!document.documentMode||9<document.documentMode)}function cu(){Vo&&(Vo.detachEvent("onpropertychange",mf),Xo=Vo=null)}function mf(n){if(n.propertyName==="value"&&Nr(Xo)){var e=[];ff(e,Xo,n,Ql(n)),Yd(Uh,e)}}function $h(n,e,t){n==="focusin"?(cu(),Vo=e,Xo=t,Vo.attachEvent("onpropertychange",mf)):n==="focusout"&&cu()}function zh(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Nr(Xo)}function Gh(n,e){if(n==="click")return Nr(e)}function Bh(n,e){if(n==="input"||n==="change")return Nr(e)}function Oh(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ft=typeof Object.is=="function"?Object.is:Oh;function Qo(n,e){if(ft(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),o=Object.keys(e);if(t.length!==o.length)return!1;for(o=0;o<t.length;o++){var i=t[o];if(!Ss.call(e,i)||!ft(n[i],e[i]))return!1}return!0}function du(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function fu(n,e){var t=du(n);n=0;for(var o;t;){if(t.nodeType===3){if(o=n+t.textContent.length,n<=e&&o>=e)return{node:t,offset:e-n};n=o}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=du(t)}}function hf(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?hf(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function gf(){for(var n=window,e=Xi();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Xi(n.document)}return e}function sa(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Hh(n){var e=gf(),t=n.focusedElem,o=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&hf(t.ownerDocument.documentElement,t)){if(o!==null&&sa(t)){if(e=o.start,n=o.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,r=Math.min(o.start,i);o=o.end===void 0?r:Math.min(o.end,i),!n.extend&&r>o&&(i=o,o=r,r=i),i=fu(t,r);var a=fu(t,o);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),r>o?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Wh=Rt&&"documentMode"in document&&11>=document.documentMode,Un=null,Os=null,$o=null,Hs=!1;function pu(n,e,t){var o=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Hs||Un==null||Un!==Xi(o)||(o=Un,"selectionStart"in o&&sa(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),$o&&Qo($o,o)||($o=o,o=or(Os,"onSelect"),0<o.length&&(e=new oa("onSelect","select",null,e,t),n.push({event:e,listeners:o}),e.target=Un)))}function Si(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Vn={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionend:Si("Transition","TransitionEnd")},rs={},yf={};Rt&&(yf=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function Dr(n){if(rs[n])return rs[n];if(!Vn[n])return n;var e=Vn[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in yf)return rs[n]=e[t];return n}var vf=Dr("animationend"),Cf=Dr("animationiteration"),Tf=Dr("animationstart"),xf=Dr("transitionend"),_f=new Map,mu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rn(n,e){_f.set(n,e),In(e,[n])}for(var ss=0;ss<mu.length;ss++){var ls=mu[ss],qh=ls.toLowerCase(),Yh=ls[0].toUpperCase()+ls.slice(1);rn(qh,"on"+Yh)}rn(vf,"onAnimationEnd");rn(Cf,"onAnimationIteration");rn(Tf,"onAnimationStart");rn("dblclick","onDoubleClick");rn("focusin","onFocus");rn("focusout","onBlur");rn(xf,"onTransitionEnd");eo("onMouseEnter",["mouseout","mouseover"]);eo("onMouseLeave",["mouseout","mouseover"]);eo("onPointerEnter",["pointerout","pointerover"]);eo("onPointerLeave",["pointerout","pointerover"]);In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));In("onBeforeInput",["compositionend","keypress","textInput","paste"]);In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function hu(n,e,t){var o=n.type||"unknown-event";n.currentTarget=t,qm(o,e,void 0,n),n.currentTarget=null}function Sf(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var o=n[t],i=o.event;o=o.listeners;e:{var r=void 0;if(e)for(var a=o.length-1;0<=a;a--){var u=o[a],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==r&&i.isPropagationStopped())break e;hu(i,u,d),r=c}else for(a=0;a<o.length;a++){if(u=o[a],c=u.instance,d=u.currentTarget,u=u.listener,c!==r&&i.isPropagationStopped())break e;hu(i,u,d),r=c}}}if(bi)throw n=$s,bi=!1,$s=null,n}function ie(n,e){var t=e[Ks];t===void 0&&(t=e[Ks]=new Set);var o=n+"__bubble";t.has(o)||(Ef(e,n,2,!1),t.add(o))}function as(n,e,t){var o=0;e&&(o|=4),Ef(t,n,o,e)}var Ei="_reactListening"+Math.random().toString(36).slice(2);function bo(n){if(!n[Ei]){n[Ei]=!0,Rd.forEach(function(t){t!=="selectionchange"&&(Jh.has(t)||as(t,!1,n),as(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Ei]||(e[Ei]=!0,as("selectionchange",!1,e))}}function Ef(n,e,t,o){switch(lf(e)){case 1:var i=lh;break;case 4:i=ah;break;default:i=ta}t=i.bind(null,e,t,n),i=void 0,!Vs||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),o?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function us(n,e,t,o,i){var r=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var a=o.tag;if(a===3||a===4){var u=o.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=o.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;u!==null;){if(a=mn(u),a===null)return;if(c=a.tag,c===5||c===6){o=r=a;continue e}u=u.parentNode}}o=o.return}Yd(function(){var d=r,f=Ql(t),p=[];e:{var m=_f.get(n);if(m!==void 0){var y=oa,C=n;switch(n){case"keypress":if(zi(t)===0)break e;case"keydown":case"keyup":y=Sh;break;case"focusin":C="focus",y=ns;break;case"focusout":C="blur",y=ns;break;case"beforeblur":case"afterblur":y=ns;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=kh;break;case vf:case Cf:case Tf:y=mh;break;case xf:y=Mh;break;case"scroll":y=uh;break;case"wheel":y=Rh;break;case"copy":case"cut":case"paste":y=gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ru}var T=(e&4)!==0,w=!T&&n==="scroll",h=T?m!==null?m+"Capture":null:m;T=[];for(var g=d,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,h!==null&&(S=Yo(g,h),S!=null&&T.push(jo(g,S,v)))),w)break;g=g.return}0<T.length&&(m=new y(m,C,null,t,f),p.push({event:m,listeners:T}))}}if(!(e&7)){e:{if(m=n==="mouseover"||n==="pointerover",y=n==="mouseout"||n==="pointerout",m&&t!==Fs&&(C=t.relatedTarget||t.fromElement)&&(mn(C)||C[Pt]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(C=t.relatedTarget||t.toElement,y=d,C=C?mn(C):null,C!==null&&(w=Mn(C),C!==w||C.tag!==5&&C.tag!==6)&&(C=null)):(y=null,C=d),y!==C)){if(T=ou,S="onMouseLeave",h="onMouseEnter",g="mouse",(n==="pointerout"||n==="pointerover")&&(T=ru,S="onPointerLeave",h="onPointerEnter",g="pointer"),w=y==null?m:$n(y),v=C==null?m:$n(C),m=new T(S,g+"leave",y,t,f),m.target=w,m.relatedTarget=v,S=null,mn(f)===d&&(T=new T(h,g+"enter",C,t,f),T.target=v,T.relatedTarget=w,S=T),w=S,y&&C)t:{for(T=y,h=C,g=0,v=T;v;v=Rn(v))g++;for(v=0,S=h;S;S=Rn(S))v++;for(;0<g-v;)T=Rn(T),g--;for(;0<v-g;)h=Rn(h),v--;for(;g--;){if(T===h||h!==null&&T===h.alternate)break t;T=Rn(T),h=Rn(h)}T=null}else T=null;y!==null&&gu(p,m,y,T,!1),C!==null&&w!==null&&gu(p,w,C,T,!0)}}e:{if(m=d?$n(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var I=Vh;else if(au(m))if(pf)I=Bh;else{I=zh;var A=$h}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(I=Gh);if(I&&(I=I(n,d))){ff(p,I,t,f);break e}A&&A(n,m,d),n==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&Rs(m,"number",m.value)}switch(A=d?$n(d):window,n){case"focusin":(au(A)||A.contentEditable==="true")&&(Un=A,Os=d,$o=null);break;case"focusout":$o=Os=Un=null;break;case"mousedown":Hs=!0;break;case"contextmenu":case"mouseup":case"dragend":Hs=!1,pu(p,t,f);break;case"selectionchange":if(Wh)break;case"keydown":case"keyup":pu(p,t,f)}var k;if(ra)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Fn?cf(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(uf&&t.locale!=="ko"&&(Fn||R!=="onCompositionStart"?R==="onCompositionEnd"&&Fn&&(k=af()):(Ht=f,na="value"in Ht?Ht.value:Ht.textContent,Fn=!0)),A=or(d,R),0<A.length&&(R=new iu(R,n,null,t,f),p.push({event:R,listeners:A}),k?R.data=k:(k=df(t),k!==null&&(R.data=k)))),(k=Nh?Dh(n,t):Lh(n,t))&&(d=or(d,"onBeforeInput"),0<d.length&&(f=new iu("onBeforeInput","beforeinput",null,t,f),p.push({event:f,listeners:d}),f.data=k))}Sf(p,e)})}function jo(n,e,t){return{instance:n,listener:e,currentTarget:t}}function or(n,e){for(var t=e+"Capture",o=[];n!==null;){var i=n,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=Yo(n,t),r!=null&&o.unshift(jo(n,r,i)),r=Yo(n,e),r!=null&&o.push(jo(n,r,i))),n=n.return}return o}function Rn(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function gu(n,e,t,o,i){for(var r=e._reactName,a=[];t!==null&&t!==o;){var u=t,c=u.alternate,d=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&d!==null&&(u=d,i?(c=Yo(t,r),c!=null&&a.unshift(jo(t,c,u))):i||(c=Yo(t,r),c!=null&&a.push(jo(t,c,u)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var Kh=/\r\n?/g,Zh=/\u0000|\uFFFD/g;function yu(n){return(typeof n=="string"?n:""+n).replace(Kh,`
`).replace(Zh,"")}function wi(n,e,t){if(e=yu(e),yu(n)!==e&&t)throw Error(P(425))}function ir(){}var Ws=null,qs=null;function Ys(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Js=typeof setTimeout=="function"?setTimeout:void 0,Xh=typeof clearTimeout=="function"?clearTimeout:void 0,vu=typeof Promise=="function"?Promise:void 0,Qh=typeof queueMicrotask=="function"?queueMicrotask:typeof vu<"u"?function(n){return vu.resolve(null).then(n).catch(bh)}:Js;function bh(n){setTimeout(function(){throw n})}function cs(n,e){var t=e,o=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(o===0){n.removeChild(i),Zo(e);return}o--}else t!=="$"&&t!=="$?"&&t!=="$!"||o++;t=i}while(t);Zo(e)}function Kt(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Cu(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var go=Math.random().toString(36).slice(2),ht="__reactFiber$"+go,ei="__reactProps$"+go,Pt="__reactContainer$"+go,Ks="__reactEvents$"+go,jh="__reactListeners$"+go,eg="__reactHandles$"+go;function mn(n){var e=n[ht];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Pt]||t[ht]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Cu(n);n!==null;){if(t=n[ht])return t;n=Cu(n)}return e}n=t,t=n.parentNode}return null}function ci(n){return n=n[ht]||n[Pt],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function $n(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(P(33))}function Lr(n){return n[ei]||null}var Zs=[],zn=-1;function sn(n){return{current:n}}function se(n){0>zn||(n.current=Zs[zn],Zs[zn]=null,zn--)}function ne(n,e){zn++,Zs[zn]=n.current,n.current=e}var tn={},Ae=sn(tn),Be=sn(!1),Cn=tn;function to(n,e){var t=n.type.contextTypes;if(!t)return tn;var o=n.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in t)i[r]=e[r];return o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Oe(n){return n=n.childContextTypes,n!=null}function rr(){se(Be),se(Ae)}function Tu(n,e,t){if(Ae.current!==tn)throw Error(P(168));ne(Ae,e),ne(Be,t)}function wf(n,e,t){var o=n.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return t;o=o.getChildContext();for(var i in o)if(!(i in e))throw Error(P(108,$m(n)||"Unknown",i));return fe({},t,o)}function sr(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||tn,Cn=Ae.current,ne(Ae,n),ne(Be,Be.current),!0}function xu(n,e,t){var o=n.stateNode;if(!o)throw Error(P(169));t?(n=wf(n,e,Cn),o.__reactInternalMemoizedMergedChildContext=n,se(Be),se(Ae),ne(Ae,n)):se(Be),ne(Be,t)}var kt=null,Fr=!1,ds=!1;function kf(n){kt===null?kt=[n]:kt.push(n)}function tg(n){Fr=!0,kf(n)}function ln(){if(!ds&&kt!==null){ds=!0;var n=0,e=te;try{var t=kt;for(te=1;n<t.length;n++){var o=t[n];do o=o(!0);while(o!==null)}kt=null,Fr=!1}catch(i){throw kt!==null&&(kt=kt.slice(n+1)),Xd(bl,ln),i}finally{te=e,ds=!1}}return null}var Gn=[],Bn=0,lr=null,ar=0,Qe=[],be=0,Tn=null,It=1,Mt="";function fn(n,e){Gn[Bn++]=ar,Gn[Bn++]=lr,lr=n,ar=e}function If(n,e,t){Qe[be++]=It,Qe[be++]=Mt,Qe[be++]=Tn,Tn=n;var o=It;n=Mt;var i=32-ut(o)-1;o&=~(1<<i),t+=1;var r=32-ut(e)+i;if(30<r){var a=i-i%5;r=(o&(1<<a)-1).toString(32),o>>=a,i-=a,It=1<<32-ut(e)+i|t<<i|o,Mt=r+n}else It=1<<r|t<<i|o,Mt=n}function la(n){n.return!==null&&(fn(n,1),If(n,1,0))}function aa(n){for(;n===lr;)lr=Gn[--Bn],Gn[Bn]=null,ar=Gn[--Bn],Gn[Bn]=null;for(;n===Tn;)Tn=Qe[--be],Qe[be]=null,Mt=Qe[--be],Qe[be]=null,It=Qe[--be],Qe[be]=null}var Ye=null,qe=null,le=!1,at=null;function Mf(n,e){var t=je(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function _u(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ye=n,qe=Kt(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ye=n,qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Tn!==null?{id:It,overflow:Mt}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=je(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ye=n,qe=null,!0):!1;default:return!1}}function Xs(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Qs(n){if(le){var e=qe;if(e){var t=e;if(!_u(n,e)){if(Xs(n))throw Error(P(418));e=Kt(t.nextSibling);var o=Ye;e&&_u(n,e)?Mf(o,t):(n.flags=n.flags&-4097|2,le=!1,Ye=n)}}else{if(Xs(n))throw Error(P(418));n.flags=n.flags&-4097|2,le=!1,Ye=n}}}function Su(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ye=n}function ki(n){if(n!==Ye)return!1;if(!le)return Su(n),le=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Ys(n.type,n.memoizedProps)),e&&(e=qe)){if(Xs(n))throw Af(),Error(P(418));for(;e;)Mf(n,e),e=Kt(e.nextSibling)}if(Su(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(P(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){qe=Kt(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}qe=null}}else qe=Ye?Kt(n.stateNode.nextSibling):null;return!0}function Af(){for(var n=qe;n;)n=Kt(n.nextSibling)}function no(){qe=Ye=null,le=!1}function ua(n){at===null?at=[n]:at.push(n)}var ng=Ft.ReactCurrentBatchConfig;function Eo(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(P(309));var o=t.stateNode}if(!o)throw Error(P(147,n));var i=o,r=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(a){var u=i.refs;a===null?delete u[r]:u[r]=a},e._stringRef=r,e)}if(typeof n!="string")throw Error(P(284));if(!t._owner)throw Error(P(290,n))}return n}function Ii(n,e){throw n=Object.prototype.toString.call(e),Error(P(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Eu(n){var e=n._init;return e(n._payload)}function Rf(n){function e(h,g){if(n){var v=h.deletions;v===null?(h.deletions=[g],h.flags|=16):v.push(g)}}function t(h,g){if(!n)return null;for(;g!==null;)e(h,g),g=g.sibling;return null}function o(h,g){for(h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function i(h,g){return h=bt(h,g),h.index=0,h.sibling=null,h}function r(h,g,v){return h.index=v,n?(v=h.alternate,v!==null?(v=v.index,v<g?(h.flags|=2,g):v):(h.flags|=2,g)):(h.flags|=1048576,g)}function a(h){return n&&h.alternate===null&&(h.flags|=2),h}function u(h,g,v,S){return g===null||g.tag!==6?(g=vs(v,h.mode,S),g.return=h,g):(g=i(g,v),g.return=h,g)}function c(h,g,v,S){var I=v.type;return I===Ln?f(h,g,v.props.children,S,v.key):g!==null&&(g.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Vt&&Eu(I)===g.type)?(S=i(g,v.props),S.ref=Eo(h,g,v),S.return=h,S):(S=Yi(v.type,v.key,v.props,null,h.mode,S),S.ref=Eo(h,g,v),S.return=h,S)}function d(h,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Cs(v,h.mode,S),g.return=h,g):(g=i(g,v.children||[]),g.return=h,g)}function f(h,g,v,S,I){return g===null||g.tag!==7?(g=vn(v,h.mode,S,I),g.return=h,g):(g=i(g,v),g.return=h,g)}function p(h,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=vs(""+g,h.mode,v),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case gi:return v=Yi(g.type,g.key,g.props,null,h.mode,v),v.ref=Eo(h,null,g),v.return=h,v;case Dn:return g=Cs(g,h.mode,v),g.return=h,g;case Vt:var S=g._init;return p(h,S(g._payload),v)}if(Ao(g)||Co(g))return g=vn(g,h.mode,v,null),g.return=h,g;Ii(h,g)}return null}function m(h,g,v,S){var I=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return I!==null?null:u(h,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gi:return v.key===I?c(h,g,v,S):null;case Dn:return v.key===I?d(h,g,v,S):null;case Vt:return I=v._init,m(h,g,I(v._payload),S)}if(Ao(v)||Co(v))return I!==null?null:f(h,g,v,S,null);Ii(h,v)}return null}function y(h,g,v,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(v)||null,u(g,h,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gi:return h=h.get(S.key===null?v:S.key)||null,c(g,h,S,I);case Dn:return h=h.get(S.key===null?v:S.key)||null,d(g,h,S,I);case Vt:var A=S._init;return y(h,g,v,A(S._payload),I)}if(Ao(S)||Co(S))return h=h.get(v)||null,f(g,h,S,I,null);Ii(g,S)}return null}function C(h,g,v,S){for(var I=null,A=null,k=g,R=g=0,L=null;k!==null&&R<v.length;R++){k.index>R?(L=k,k=null):L=k.sibling;var F=m(h,k,v[R],S);if(F===null){k===null&&(k=L);break}n&&k&&F.alternate===null&&e(h,k),g=r(F,g,R),A===null?I=F:A.sibling=F,A=F,k=L}if(R===v.length)return t(h,k),le&&fn(h,R),I;if(k===null){for(;R<v.length;R++)k=p(h,v[R],S),k!==null&&(g=r(k,g,R),A===null?I=k:A.sibling=k,A=k);return le&&fn(h,R),I}for(k=o(h,k);R<v.length;R++)L=y(k,h,R,v[R],S),L!==null&&(n&&L.alternate!==null&&k.delete(L.key===null?R:L.key),g=r(L,g,R),A===null?I=L:A.sibling=L,A=L);return n&&k.forEach(function(b){return e(h,b)}),le&&fn(h,R),I}function T(h,g,v,S){var I=Co(v);if(typeof I!="function")throw Error(P(150));if(v=I.call(v),v==null)throw Error(P(151));for(var A=I=null,k=g,R=g=0,L=null,F=v.next();k!==null&&!F.done;R++,F=v.next()){k.index>R?(L=k,k=null):L=k.sibling;var b=m(h,k,F.value,S);if(b===null){k===null&&(k=L);break}n&&k&&b.alternate===null&&e(h,k),g=r(b,g,R),A===null?I=b:A.sibling=b,A=b,k=L}if(F.done)return t(h,k),le&&fn(h,R),I;if(k===null){for(;!F.done;R++,F=v.next())F=p(h,F.value,S),F!==null&&(g=r(F,g,R),A===null?I=F:A.sibling=F,A=F);return le&&fn(h,R),I}for(k=o(h,k);!F.done;R++,F=v.next())F=y(k,h,R,F.value,S),F!==null&&(n&&F.alternate!==null&&k.delete(F.key===null?R:F.key),g=r(F,g,R),A===null?I=F:A.sibling=F,A=F);return n&&k.forEach(function(Ue){return e(h,Ue)}),le&&fn(h,R),I}function w(h,g,v,S){if(typeof v=="object"&&v!==null&&v.type===Ln&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case gi:e:{for(var I=v.key,A=g;A!==null;){if(A.key===I){if(I=v.type,I===Ln){if(A.tag===7){t(h,A.sibling),g=i(A,v.props.children),g.return=h,h=g;break e}}else if(A.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Vt&&Eu(I)===A.type){t(h,A.sibling),g=i(A,v.props),g.ref=Eo(h,A,v),g.return=h,h=g;break e}t(h,A);break}else e(h,A);A=A.sibling}v.type===Ln?(g=vn(v.props.children,h.mode,S,v.key),g.return=h,h=g):(S=Yi(v.type,v.key,v.props,null,h.mode,S),S.ref=Eo(h,g,v),S.return=h,h=S)}return a(h);case Dn:e:{for(A=v.key;g!==null;){if(g.key===A)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){t(h,g.sibling),g=i(g,v.children||[]),g.return=h,h=g;break e}else{t(h,g);break}else e(h,g);g=g.sibling}g=Cs(v,h.mode,S),g.return=h,h=g}return a(h);case Vt:return A=v._init,w(h,g,A(v._payload),S)}if(Ao(v))return C(h,g,v,S);if(Co(v))return T(h,g,v,S);Ii(h,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(t(h,g.sibling),g=i(g,v),g.return=h,h=g):(t(h,g),g=vs(v,h.mode,S),g.return=h,h=g),a(h)):t(h,g)}return w}var oo=Rf(!0),Pf=Rf(!1),ur=sn(null),cr=null,On=null,ca=null;function da(){ca=On=cr=null}function fa(n){var e=ur.current;se(ur),n._currentValue=e}function bs(n,e,t){for(;n!==null;){var o=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),n===t)break;n=n.return}}function Xn(n,e){cr=n,ca=On=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ge=!0),n.firstContext=null)}function tt(n){var e=n._currentValue;if(ca!==n)if(n={context:n,memoizedValue:e,next:null},On===null){if(cr===null)throw Error(P(308));On=n,cr.dependencies={lanes:0,firstContext:n}}else On=On.next=n;return e}var hn=null;function pa(n){hn===null?hn=[n]:hn.push(n)}function Nf(n,e,t,o){var i=e.interleaved;return i===null?(t.next=t,pa(e)):(t.next=i.next,i.next=t),e.interleaved=t,Nt(n,o)}function Nt(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var $t=!1;function ma(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Df(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function At(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Zt(n,e,t){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,j&2){var i=o.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),o.pending=e,Nt(n,t)}return i=o.interleaved,i===null?(e.next=e,pa(o)):(e.next=i.next,i.next=e),o.interleaved=e,Nt(n,t)}function Gi(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,jl(n,t)}}function wu(n,e){var t=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,t===o)){var i=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};r===null?i=r=a:r=r.next=a,t=t.next}while(t!==null);r===null?i=r=e:r=r.next=e}else i=r=e;t={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:o.shared,effects:o.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function dr(n,e,t,o){var i=n.updateQueue;$t=!1;var r=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,d=c.next;c.next=null,a===null?r=d:a.next=d,a=c;var f=n.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==a&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(r!==null){var p=i.baseState;a=0,f=d=c=null,u=r;do{var m=u.lane,y=u.eventTime;if((o&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var C=n,T=u;switch(m=e,y=t,T.tag){case 1:if(C=T.payload,typeof C=="function"){p=C.call(y,p,m);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=T.payload,m=typeof C=="function"?C.call(y,p,m):C,m==null)break e;p=fe({},p,m);break e;case 2:$t=!0}}u.callback!==null&&u.lane!==0&&(n.flags|=64,m=i.effects,m===null?i.effects=[u]:m.push(u))}else y={eventTime:y,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=y,c=p):f=f.next=y,a|=m;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;m=u,u=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);_n|=a,n.lanes=a,n.memoizedState=p}}function ku(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var o=n[e],i=o.callback;if(i!==null){if(o.callback=null,o=t,typeof i!="function")throw Error(P(191,i));i.call(o)}}}var di={},vt=sn(di),ti=sn(di),ni=sn(di);function gn(n){if(n===di)throw Error(P(174));return n}function ha(n,e){switch(ne(ni,e),ne(ti,n),ne(vt,di),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ns(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Ns(e,n)}se(vt),ne(vt,e)}function io(){se(vt),se(ti),se(ni)}function Lf(n){gn(ni.current);var e=gn(vt.current),t=Ns(e,n.type);e!==t&&(ne(ti,n),ne(vt,t))}function ga(n){ti.current===n&&(se(vt),se(ti))}var ce=sn(0);function fr(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fs=[];function ya(){for(var n=0;n<fs.length;n++)fs[n]._workInProgressVersionPrimary=null;fs.length=0}var Bi=Ft.ReactCurrentDispatcher,ps=Ft.ReactCurrentBatchConfig,xn=0,de=null,ve=null,Te=null,pr=!1,zo=!1,oi=0,og=0;function ke(){throw Error(P(321))}function va(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ft(n[t],e[t]))return!1;return!0}function Ca(n,e,t,o,i,r){if(xn=r,de=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bi.current=n===null||n.memoizedState===null?lg:ag,n=t(o,i),zo){r=0;do{if(zo=!1,oi=0,25<=r)throw Error(P(301));r+=1,Te=ve=null,e.updateQueue=null,Bi.current=ug,n=t(o,i)}while(zo)}if(Bi.current=mr,e=ve!==null&&ve.next!==null,xn=0,Te=ve=de=null,pr=!1,e)throw Error(P(300));return n}function Ta(){var n=oi!==0;return oi=0,n}function mt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?de.memoizedState=Te=n:Te=Te.next=n,Te}function nt(){if(ve===null){var n=de.alternate;n=n!==null?n.memoizedState:null}else n=ve.next;var e=Te===null?de.memoizedState:Te.next;if(e!==null)Te=e,ve=n;else{if(n===null)throw Error(P(310));ve=n,n={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Te===null?de.memoizedState=Te=n:Te=Te.next=n}return Te}function ii(n,e){return typeof e=="function"?e(n):e}function ms(n){var e=nt(),t=e.queue;if(t===null)throw Error(P(311));t.lastRenderedReducer=n;var o=ve,i=o.baseQueue,r=t.pending;if(r!==null){if(i!==null){var a=i.next;i.next=r.next,r.next=a}o.baseQueue=i=r,t.pending=null}if(i!==null){r=i.next,o=o.baseState;var u=a=null,c=null,d=r;do{var f=d.lane;if((xn&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:n(o,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=p,a=o):c=c.next=p,de.lanes|=f,_n|=f}d=d.next}while(d!==null&&d!==r);c===null?a=o:c.next=u,ft(o,e.memoizedState)||(Ge=!0),e.memoizedState=o,e.baseState=a,e.baseQueue=c,t.lastRenderedState=o}if(n=t.interleaved,n!==null){i=n;do r=i.lane,de.lanes|=r,_n|=r,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function hs(n){var e=nt(),t=e.queue;if(t===null)throw Error(P(311));t.lastRenderedReducer=n;var o=t.dispatch,i=t.pending,r=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do r=n(r,a.action),a=a.next;while(a!==i);ft(r,e.memoizedState)||(Ge=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),t.lastRenderedState=r}return[r,o]}function Ff(){}function Uf(n,e){var t=de,o=nt(),i=e(),r=!ft(o.memoizedState,i);if(r&&(o.memoizedState=i,Ge=!0),o=o.queue,xa(zf.bind(null,t,o,n),[n]),o.getSnapshot!==e||r||Te!==null&&Te.memoizedState.tag&1){if(t.flags|=2048,ri(9,$f.bind(null,t,o,i,e),void 0,null),xe===null)throw Error(P(349));xn&30||Vf(t,e,i)}return i}function Vf(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function $f(n,e,t,o){e.value=t,e.getSnapshot=o,Gf(e)&&Bf(n)}function zf(n,e,t){return t(function(){Gf(e)&&Bf(n)})}function Gf(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ft(n,t)}catch{return!0}}function Bf(n){var e=Nt(n,1);e!==null&&ct(e,n,1,-1)}function Iu(n){var e=mt();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:n},e.queue=n,n=n.dispatch=sg.bind(null,de,n),[e.memoizedState,n]}function ri(n,e,t,o){return n={tag:n,create:e,destroy:t,deps:o,next:null},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(o=t.next,t.next=n,n.next=o,e.lastEffect=n)),n}function Of(){return nt().memoizedState}function Oi(n,e,t,o){var i=mt();de.flags|=n,i.memoizedState=ri(1|e,t,void 0,o===void 0?null:o)}function Ur(n,e,t,o){var i=nt();o=o===void 0?null:o;var r=void 0;if(ve!==null){var a=ve.memoizedState;if(r=a.destroy,o!==null&&va(o,a.deps)){i.memoizedState=ri(e,t,r,o);return}}de.flags|=n,i.memoizedState=ri(1|e,t,r,o)}function Mu(n,e){return Oi(8390656,8,n,e)}function xa(n,e){return Ur(2048,8,n,e)}function Hf(n,e){return Ur(4,2,n,e)}function Wf(n,e){return Ur(4,4,n,e)}function qf(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Yf(n,e,t){return t=t!=null?t.concat([n]):null,Ur(4,4,qf.bind(null,e,n),t)}function _a(){}function Jf(n,e){var t=nt();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&va(e,o[1])?o[0]:(t.memoizedState=[n,e],n)}function Kf(n,e){var t=nt();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&va(e,o[1])?o[0]:(n=n(),t.memoizedState=[n,e],n)}function Zf(n,e,t){return xn&21?(ft(t,e)||(t=jd(),de.lanes|=t,_n|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ge=!0),n.memoizedState=t)}function ig(n,e){var t=te;te=t!==0&&4>t?t:4,n(!0);var o=ps.transition;ps.transition={};try{n(!1),e()}finally{te=t,ps.transition=o}}function Xf(){return nt().memoizedState}function rg(n,e,t){var o=Qt(n);if(t={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null},Qf(n))bf(e,t);else if(t=Nf(n,e,t,o),t!==null){var i=Ne();ct(t,n,o,i),jf(t,e,o)}}function sg(n,e,t){var o=Qt(n),i={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null};if(Qf(n))bf(e,i);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,u=r(a,t);if(i.hasEagerState=!0,i.eagerState=u,ft(u,a)){var c=e.interleaved;c===null?(i.next=i,pa(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}t=Nf(n,e,i,o),t!==null&&(i=Ne(),ct(t,n,o,i),jf(t,e,o))}}function Qf(n){var e=n.alternate;return n===de||e!==null&&e===de}function bf(n,e){zo=pr=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function jf(n,e,t){if(t&4194240){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,jl(n,t)}}var mr={readContext:tt,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},lg={readContext:tt,useCallback:function(n,e){return mt().memoizedState=[n,e===void 0?null:e],n},useContext:tt,useEffect:Mu,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Oi(4194308,4,qf.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Oi(4194308,4,n,e)},useInsertionEffect:function(n,e){return Oi(4,2,n,e)},useMemo:function(n,e){var t=mt();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var o=mt();return e=t!==void 0?t(e):e,o.memoizedState=o.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},o.queue=n,n=n.dispatch=rg.bind(null,de,n),[o.memoizedState,n]},useRef:function(n){var e=mt();return n={current:n},e.memoizedState=n},useState:Iu,useDebugValue:_a,useDeferredValue:function(n){return mt().memoizedState=n},useTransition:function(){var n=Iu(!1),e=n[0];return n=ig.bind(null,n[1]),mt().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var o=de,i=mt();if(le){if(t===void 0)throw Error(P(407));t=t()}else{if(t=e(),xe===null)throw Error(P(349));xn&30||Vf(o,e,t)}i.memoizedState=t;var r={value:t,getSnapshot:e};return i.queue=r,Mu(zf.bind(null,o,r,n),[n]),o.flags|=2048,ri(9,$f.bind(null,o,r,t,e),void 0,null),t},useId:function(){var n=mt(),e=xe.identifierPrefix;if(le){var t=Mt,o=It;t=(o&~(1<<32-ut(o)-1)).toString(32)+t,e=":"+e+"R"+t,t=oi++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=og++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},ag={readContext:tt,useCallback:Jf,useContext:tt,useEffect:xa,useImperativeHandle:Yf,useInsertionEffect:Hf,useLayoutEffect:Wf,useMemo:Kf,useReducer:ms,useRef:Of,useState:function(){return ms(ii)},useDebugValue:_a,useDeferredValue:function(n){var e=nt();return Zf(e,ve.memoizedState,n)},useTransition:function(){var n=ms(ii)[0],e=nt().memoizedState;return[n,e]},useMutableSource:Ff,useSyncExternalStore:Uf,useId:Xf,unstable_isNewReconciler:!1},ug={readContext:tt,useCallback:Jf,useContext:tt,useEffect:xa,useImperativeHandle:Yf,useInsertionEffect:Hf,useLayoutEffect:Wf,useMemo:Kf,useReducer:hs,useRef:Of,useState:function(){return hs(ii)},useDebugValue:_a,useDeferredValue:function(n){var e=nt();return ve===null?e.memoizedState=n:Zf(e,ve.memoizedState,n)},useTransition:function(){var n=hs(ii)[0],e=nt().memoizedState;return[n,e]},useMutableSource:Ff,useSyncExternalStore:Uf,useId:Xf,unstable_isNewReconciler:!1};function st(n,e){if(n&&n.defaultProps){e=fe({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function js(n,e,t,o){e=n.memoizedState,t=t(o,e),t=t==null?e:fe({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Vr={isMounted:function(n){return(n=n._reactInternals)?Mn(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var o=Ne(),i=Qt(n),r=At(o,i);r.payload=e,t!=null&&(r.callback=t),e=Zt(n,r,i),e!==null&&(ct(e,n,i,o),Gi(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var o=Ne(),i=Qt(n),r=At(o,i);r.tag=1,r.payload=e,t!=null&&(r.callback=t),e=Zt(n,r,i),e!==null&&(ct(e,n,i,o),Gi(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ne(),o=Qt(n),i=At(t,o);i.tag=2,e!=null&&(i.callback=e),e=Zt(n,i,o),e!==null&&(ct(e,n,o,t),Gi(e,n,o))}};function Au(n,e,t,o,i,r,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,r,a):e.prototype&&e.prototype.isPureReactComponent?!Qo(t,o)||!Qo(i,r):!0}function ep(n,e,t){var o=!1,i=tn,r=e.contextType;return typeof r=="object"&&r!==null?r=tt(r):(i=Oe(e)?Cn:Ae.current,o=e.contextTypes,r=(o=o!=null)?to(n,i):tn),e=new e(t,r),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vr,n.stateNode=e,e._reactInternals=n,o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=r),e}function Ru(n,e,t,o){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,o),e.state!==n&&Vr.enqueueReplaceState(e,e.state,null)}function el(n,e,t,o){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},ma(n);var r=e.contextType;typeof r=="object"&&r!==null?i.context=tt(r):(r=Oe(e)?Cn:Ae.current,i.context=to(n,r)),i.state=n.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(js(n,e,r,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vr.enqueueReplaceState(i,i.state,null),dr(n,t,i,o),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function ro(n,e){try{var t="",o=e;do t+=Vm(o),o=o.return;while(o);var i=t}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:e,stack:i,digest:null}}function gs(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function tl(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var cg=typeof WeakMap=="function"?WeakMap:Map;function tp(n,e,t){t=At(-1,t),t.tag=3,t.payload={element:null};var o=e.value;return t.callback=function(){gr||(gr=!0,dl=o),tl(n,e)},t}function np(n,e,t){t=At(-1,t),t.tag=3;var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var i=e.value;t.payload=function(){return o(i)},t.callback=function(){tl(n,e)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){tl(n,e),typeof o!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function Pu(n,e,t){var o=n.pingCache;if(o===null){o=n.pingCache=new cg;var i=new Set;o.set(e,i)}else i=o.get(e),i===void 0&&(i=new Set,o.set(e,i));i.has(t)||(i.add(t),n=Eg.bind(null,n,e,t),e.then(n,n))}function Nu(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Du(n,e,t,o,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=At(-1,1),e.tag=2,Zt(t,e,1))),t.lanes|=1),n)}var dg=Ft.ReactCurrentOwner,Ge=!1;function Re(n,e,t,o){e.child=n===null?Pf(e,null,t,o):oo(e,n.child,t,o)}function Lu(n,e,t,o,i){t=t.render;var r=e.ref;return Xn(e,i),o=Ca(n,e,t,o,r,i),t=Ta(),n!==null&&!Ge?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Dt(n,e,i)):(le&&t&&la(e),e.flags|=1,Re(n,e,o,i),e.child)}function Fu(n,e,t,o,i){if(n===null){var r=t.type;return typeof r=="function"&&!Ra(r)&&r.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=r,op(n,e,r,o,i)):(n=Yi(t.type,null,o,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(r=n.child,!(n.lanes&i)){var a=r.memoizedProps;if(t=t.compare,t=t!==null?t:Qo,t(a,o)&&n.ref===e.ref)return Dt(n,e,i)}return e.flags|=1,n=bt(r,o),n.ref=e.ref,n.return=e,e.child=n}function op(n,e,t,o,i){if(n!==null){var r=n.memoizedProps;if(Qo(r,o)&&n.ref===e.ref)if(Ge=!1,e.pendingProps=o=r,(n.lanes&i)!==0)n.flags&131072&&(Ge=!0);else return e.lanes=n.lanes,Dt(n,e,i)}return nl(n,e,t,o,i)}function ip(n,e,t){var o=e.pendingProps,i=o.children,r=n!==null?n.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(Wn,We),We|=t;else{if(!(t&1073741824))return n=r!==null?r.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,ne(Wn,We),We|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=r!==null?r.baseLanes:t,ne(Wn,We),We|=o}else r!==null?(o=r.baseLanes|t,e.memoizedState=null):o=t,ne(Wn,We),We|=o;return Re(n,e,i,t),e.child}function rp(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function nl(n,e,t,o,i){var r=Oe(t)?Cn:Ae.current;return r=to(e,r),Xn(e,i),t=Ca(n,e,t,o,r,i),o=Ta(),n!==null&&!Ge?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Dt(n,e,i)):(le&&o&&la(e),e.flags|=1,Re(n,e,t,i),e.child)}function Uu(n,e,t,o,i){if(Oe(t)){var r=!0;sr(e)}else r=!1;if(Xn(e,i),e.stateNode===null)Hi(n,e),ep(e,t,o),el(e,t,o,i),o=!0;else if(n===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,d=t.contextType;typeof d=="object"&&d!==null?d=tt(d):(d=Oe(t)?Cn:Ae.current,d=to(e,d));var f=t.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==o||c!==d)&&Ru(e,a,o,d),$t=!1;var m=e.memoizedState;a.state=m,dr(e,o,a,i),c=e.memoizedState,u!==o||m!==c||Be.current||$t?(typeof f=="function"&&(js(e,t,f,o),c=e.memoizedState),(u=$t||Au(e,t,u,o,m,c,d))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=c),a.props=o,a.state=c,a.context=d,o=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{a=e.stateNode,Df(n,e),u=e.memoizedProps,d=e.type===e.elementType?u:st(e.type,u),a.props=d,p=e.pendingProps,m=a.context,c=t.contextType,typeof c=="object"&&c!==null?c=tt(c):(c=Oe(t)?Cn:Ae.current,c=to(e,c));var y=t.getDerivedStateFromProps;(f=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==p||m!==c)&&Ru(e,a,o,c),$t=!1,m=e.memoizedState,a.state=m,dr(e,o,a,i);var C=e.memoizedState;u!==p||m!==C||Be.current||$t?(typeof y=="function"&&(js(e,t,y,o),C=e.memoizedState),(d=$t||Au(e,t,d,o,m,C,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(o,C,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(o,C,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=C),a.props=o,a.state=C,a.context=c,o=d):(typeof a.componentDidUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),o=!1)}return ol(n,e,t,o,r,i)}function ol(n,e,t,o,i,r){rp(n,e);var a=(e.flags&128)!==0;if(!o&&!a)return i&&xu(e,t,!1),Dt(n,e,r);o=e.stateNode,dg.current=e;var u=a&&typeof t.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,n!==null&&a?(e.child=oo(e,n.child,null,r),e.child=oo(e,null,u,r)):Re(n,e,u,r),e.memoizedState=o.state,i&&xu(e,t,!0),e.child}function sp(n){var e=n.stateNode;e.pendingContext?Tu(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Tu(n,e.context,!1),ha(n,e.containerInfo)}function Vu(n,e,t,o,i){return no(),ua(i),e.flags|=256,Re(n,e,t,o),e.child}var il={dehydrated:null,treeContext:null,retryLane:0};function rl(n){return{baseLanes:n,cachePool:null,transitions:null}}function lp(n,e,t){var o=e.pendingProps,i=ce.current,r=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=n!==null&&n.memoizedState===null?!1:(i&2)!==0),u?(r=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),ne(ce,i&1),n===null)return Qs(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=o.children,n=o.fallback,r?(o=e.mode,r=e.child,a={mode:"hidden",children:a},!(o&1)&&r!==null?(r.childLanes=0,r.pendingProps=a):r=Gr(a,o,0,null),n=vn(n,o,t,null),r.return=e,n.return=e,r.sibling=n,e.child=r,e.child.memoizedState=rl(t),e.memoizedState=il,n):Sa(e,a));if(i=n.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return fg(n,e,a,o,u,i,t);if(r){r=o.fallback,a=e.mode,i=n.child,u=i.sibling;var c={mode:"hidden",children:o.children};return!(a&1)&&e.child!==i?(o=e.child,o.childLanes=0,o.pendingProps=c,e.deletions=null):(o=bt(i,c),o.subtreeFlags=i.subtreeFlags&14680064),u!==null?r=bt(u,r):(r=vn(r,a,t,null),r.flags|=2),r.return=e,o.return=e,o.sibling=r,e.child=o,o=r,r=e.child,a=n.child.memoizedState,a=a===null?rl(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},r.memoizedState=a,r.childLanes=n.childLanes&~t,e.memoizedState=il,o}return r=n.child,n=r.sibling,o=bt(r,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=t),o.return=e,o.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=o,e.memoizedState=null,o}function Sa(n,e){return e=Gr({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Mi(n,e,t,o){return o!==null&&ua(o),oo(e,n.child,null,t),n=Sa(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function fg(n,e,t,o,i,r,a){if(t)return e.flags&256?(e.flags&=-257,o=gs(Error(P(422))),Mi(n,e,a,o)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(r=o.fallback,i=e.mode,o=Gr({mode:"visible",children:o.children},i,0,null),r=vn(r,i,a,null),r.flags|=2,o.return=e,r.return=e,o.sibling=r,e.child=o,e.mode&1&&oo(e,n.child,null,a),e.child.memoizedState=rl(a),e.memoizedState=il,r);if(!(e.mode&1))return Mi(n,e,a,null);if(i.data==="$!"){if(o=i.nextSibling&&i.nextSibling.dataset,o)var u=o.dgst;return o=u,r=Error(P(419)),o=gs(r,o,void 0),Mi(n,e,a,o)}if(u=(a&n.childLanes)!==0,Ge||u){if(o=xe,o!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(o.suspendedLanes|a)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Nt(n,i),ct(o,n,i,-1))}return Aa(),o=gs(Error(P(421))),Mi(n,e,a,o)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=wg.bind(null,n),i._reactRetry=e,null):(n=r.treeContext,qe=Kt(i.nextSibling),Ye=e,le=!0,at=null,n!==null&&(Qe[be++]=It,Qe[be++]=Mt,Qe[be++]=Tn,It=n.id,Mt=n.overflow,Tn=e),e=Sa(e,o.children),e.flags|=4096,e)}function $u(n,e,t){n.lanes|=e;var o=n.alternate;o!==null&&(o.lanes|=e),bs(n.return,e,t)}function ys(n,e,t,o,i){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:t,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=o,r.tail=t,r.tailMode=i)}function ap(n,e,t){var o=e.pendingProps,i=o.revealOrder,r=o.tail;if(Re(n,e,o.children,t),o=ce.current,o&2)o=o&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$u(n,t,e);else if(n.tag===19)$u(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}if(ne(ce,o),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&fr(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),ys(e,!1,i,t,r);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&fr(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}ys(e,!0,t,null,r);break;case"together":ys(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hi(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Dt(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),_n|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(P(153));if(e.child!==null){for(n=e.child,t=bt(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=bt(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function pg(n,e,t){switch(e.tag){case 3:sp(e),no();break;case 5:Lf(e);break;case 1:Oe(e.type)&&sr(e);break;case 4:ha(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,i=e.memoizedProps.value;ne(ur,o._currentValue),o._currentValue=i;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(ne(ce,ce.current&1),e.flags|=128,null):t&e.child.childLanes?lp(n,e,t):(ne(ce,ce.current&1),n=Dt(n,e,t),n!==null?n.sibling:null);ne(ce,ce.current&1);break;case 19:if(o=(t&e.childLanes)!==0,n.flags&128){if(o)return ap(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ne(ce,ce.current),o)break;return null;case 22:case 23:return e.lanes=0,ip(n,e,t)}return Dt(n,e,t)}var up,sl,cp,dp;up=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};sl=function(){};cp=function(n,e,t,o){var i=n.memoizedProps;if(i!==o){n=e.stateNode,gn(vt.current);var r=null;switch(t){case"input":i=Ms(n,i),o=Ms(n,o),r=[];break;case"select":i=fe({},i,{value:void 0}),o=fe({},o,{value:void 0}),r=[];break;case"textarea":i=Ps(n,i),o=Ps(n,o),r=[];break;default:typeof i.onClick!="function"&&typeof o.onClick=="function"&&(n.onclick=ir)}Ds(t,o);var a;t=null;for(d in i)if(!o.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(a in u)u.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Wo.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in o){var c=o[d];if(u=i!=null?i[d]:void 0,o.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(t||(t={}),t[a]=c[a])}else t||(r||(r=[]),r.push(d,t)),t=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(r=r||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Wo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ie("scroll",n),r||u===c||(r=[])):(r=r||[]).push(d,c))}t&&(r=r||[]).push("style",t);var d=r;(e.updateQueue=d)&&(e.flags|=4)}};dp=function(n,e,t,o){t!==o&&(e.flags|=4)};function wo(n,e){if(!le)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function Ie(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,o=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,o|=i.subtreeFlags&14680064,o|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=o,n.childLanes=t,e}function mg(n,e,t){var o=e.pendingProps;switch(aa(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(e),null;case 1:return Oe(e.type)&&rr(),Ie(e),null;case 3:return o=e.stateNode,io(),se(Be),se(Ae),ya(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ki(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,at!==null&&(ml(at),at=null))),sl(n,e),Ie(e),null;case 5:ga(e);var i=gn(ni.current);if(t=e.type,n!==null&&e.stateNode!=null)cp(n,e,t,o,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(P(166));return Ie(e),null}if(n=gn(vt.current),ki(e)){o=e.stateNode,t=e.type;var r=e.memoizedProps;switch(o[ht]=e,o[ei]=r,n=(e.mode&1)!==0,t){case"dialog":ie("cancel",o),ie("close",o);break;case"iframe":case"object":case"embed":ie("load",o);break;case"video":case"audio":for(i=0;i<Po.length;i++)ie(Po[i],o);break;case"source":ie("error",o);break;case"img":case"image":case"link":ie("error",o),ie("load",o);break;case"details":ie("toggle",o);break;case"input":Ja(o,r),ie("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!r.multiple},ie("invalid",o);break;case"textarea":Za(o,r),ie("invalid",o)}Ds(t,r),i=null;for(var a in r)if(r.hasOwnProperty(a)){var u=r[a];a==="children"?typeof u=="string"?o.textContent!==u&&(r.suppressHydrationWarning!==!0&&wi(o.textContent,u,n),i=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(r.suppressHydrationWarning!==!0&&wi(o.textContent,u,n),i=["children",""+u]):Wo.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&ie("scroll",o)}switch(t){case"input":yi(o),Ka(o,r,!0);break;case"textarea":yi(o),Xa(o);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(o.onclick=ir)}o=i,e.updateQueue=o,o!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=$d(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof o.is=="string"?n=a.createElement(t,{is:o.is}):(n=a.createElement(t),t==="select"&&(a=n,o.multiple?a.multiple=!0:o.size&&(a.size=o.size))):n=a.createElementNS(n,t),n[ht]=e,n[ei]=o,up(n,e,!1,!1),e.stateNode=n;e:{switch(a=Ls(t,o),t){case"dialog":ie("cancel",n),ie("close",n),i=o;break;case"iframe":case"object":case"embed":ie("load",n),i=o;break;case"video":case"audio":for(i=0;i<Po.length;i++)ie(Po[i],n);i=o;break;case"source":ie("error",n),i=o;break;case"img":case"image":case"link":ie("error",n),ie("load",n),i=o;break;case"details":ie("toggle",n),i=o;break;case"input":Ja(n,o),i=Ms(n,o),ie("invalid",n);break;case"option":i=o;break;case"select":n._wrapperState={wasMultiple:!!o.multiple},i=fe({},o,{value:void 0}),ie("invalid",n);break;case"textarea":Za(n,o),i=Ps(n,o),ie("invalid",n);break;default:i=o}Ds(t,i),u=i;for(r in u)if(u.hasOwnProperty(r)){var c=u[r];r==="style"?Bd(n,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zd(n,c)):r==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&qo(n,c):typeof c=="number"&&qo(n,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Wo.hasOwnProperty(r)?c!=null&&r==="onScroll"&&ie("scroll",n):c!=null&&Jl(n,r,c,a))}switch(t){case"input":yi(n),Ka(n,o,!1);break;case"textarea":yi(n),Xa(n);break;case"option":o.value!=null&&n.setAttribute("value",""+en(o.value));break;case"select":n.multiple=!!o.multiple,r=o.value,r!=null?Yn(n,!!o.multiple,r,!1):o.defaultValue!=null&&Yn(n,!!o.multiple,o.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=ir)}switch(t){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ie(e),null;case 6:if(n&&e.stateNode!=null)dp(n,e,n.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(P(166));if(t=gn(ni.current),gn(vt.current),ki(e)){if(o=e.stateNode,t=e.memoizedProps,o[ht]=e,(r=o.nodeValue!==t)&&(n=Ye,n!==null))switch(n.tag){case 3:wi(o.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&wi(o.nodeValue,t,(n.mode&1)!==0)}r&&(e.flags|=4)}else o=(t.nodeType===9?t:t.ownerDocument).createTextNode(o),o[ht]=e,e.stateNode=o}return Ie(e),null;case 13:if(se(ce),o=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(le&&qe!==null&&e.mode&1&&!(e.flags&128))Af(),no(),e.flags|=98560,r=!1;else if(r=ki(e),o!==null&&o.dehydrated!==null){if(n===null){if(!r)throw Error(P(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));r[ht]=e}else no(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ie(e),r=!1}else at!==null&&(ml(at),at=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(o=o!==null,o!==(n!==null&&n.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(n===null||ce.current&1?Ce===0&&(Ce=3):Aa())),e.updateQueue!==null&&(e.flags|=4),Ie(e),null);case 4:return io(),sl(n,e),n===null&&bo(e.stateNode.containerInfo),Ie(e),null;case 10:return fa(e.type._context),Ie(e),null;case 17:return Oe(e.type)&&rr(),Ie(e),null;case 19:if(se(ce),r=e.memoizedState,r===null)return Ie(e),null;if(o=(e.flags&128)!==0,a=r.rendering,a===null)if(o)wo(r,!1);else{if(Ce!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=fr(n),a!==null){for(e.flags|=128,wo(r,!1),o=a.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=t,t=e.child;t!==null;)r=t,n=o,r.flags&=14680066,a=r.alternate,a===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,n=a.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return ne(ce,ce.current&1|2),e.child}n=n.sibling}r.tail!==null&&he()>so&&(e.flags|=128,o=!0,wo(r,!1),e.lanes=4194304)}else{if(!o)if(n=fr(a),n!==null){if(e.flags|=128,o=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),wo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!le)return Ie(e),null}else 2*he()-r.renderingStartTime>so&&t!==1073741824&&(e.flags|=128,o=!0,wo(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=he(),e.sibling=null,t=ce.current,ne(ce,o?t&1|2:t&1),e):(Ie(e),null);case 22:case 23:return Ma(),o=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?We&1073741824&&(Ie(e),e.subtreeFlags&6&&(e.flags|=8192)):Ie(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function hg(n,e){switch(aa(e),e.tag){case 1:return Oe(e.type)&&rr(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return io(),se(Be),se(Ae),ya(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return ga(e),null;case 13:if(se(ce),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(P(340));no()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return se(ce),null;case 4:return io(),null;case 10:return fa(e.type._context),null;case 22:case 23:return Ma(),null;case 24:return null;default:return null}}var Ai=!1,Me=!1,gg=typeof WeakSet=="function"?WeakSet:Set,z=null;function Hn(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(o){me(n,e,o)}else t.current=null}function ll(n,e,t){try{t()}catch(o){me(n,e,o)}}var zu=!1;function yg(n,e){if(Ws=tr,n=gf(),sa(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var o=t.getSelection&&t.getSelection();if(o&&o.rangeCount!==0){t=o.anchorNode;var i=o.anchorOffset,r=o.focusNode;o=o.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var a=0,u=-1,c=-1,d=0,f=0,p=n,m=null;t:for(;;){for(var y;p!==t||i!==0&&p.nodeType!==3||(u=a+i),p!==r||o!==0&&p.nodeType!==3||(c=a+o),p.nodeType===3&&(a+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===n)break t;if(m===t&&++d===i&&(u=a),m===r&&++f===o&&(c=a),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}t=u===-1||c===-1?null:{start:u,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(qs={focusedElem:n,selectionRange:t},tr=!1,z=e;z!==null;)if(e=z,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,z=n;else for(;z!==null;){e=z;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var T=C.memoizedProps,w=C.memoizedState,h=e.stateNode,g=h.getSnapshotBeforeUpdate(e.elementType===e.type?T:st(e.type,T),w);h.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){me(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}return C=zu,zu=!1,C}function Go(n,e,t){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var i=o=o.next;do{if((i.tag&n)===n){var r=i.destroy;i.destroy=void 0,r!==void 0&&ll(e,t,r)}i=i.next}while(i!==o)}}function $r(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var o=t.create;t.destroy=o()}t=t.next}while(t!==e)}}function al(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function fp(n){var e=n.alternate;e!==null&&(n.alternate=null,fp(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ht],delete e[ei],delete e[Ks],delete e[jh],delete e[eg])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function pp(n){return n.tag===5||n.tag===3||n.tag===4}function Gu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||pp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ul(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=ir));else if(o!==4&&(n=n.child,n!==null))for(ul(n,e,t),n=n.sibling;n!==null;)ul(n,e,t),n=n.sibling}function cl(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(o!==4&&(n=n.child,n!==null))for(cl(n,e,t),n=n.sibling;n!==null;)cl(n,e,t),n=n.sibling}var Se=null,lt=!1;function Ut(n,e,t){for(t=t.child;t!==null;)mp(n,e,t),t=t.sibling}function mp(n,e,t){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Rr,t)}catch{}switch(t.tag){case 5:Me||Hn(t,e);case 6:var o=Se,i=lt;Se=null,Ut(n,e,t),Se=o,lt=i,Se!==null&&(lt?(n=Se,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Se.removeChild(t.stateNode));break;case 18:Se!==null&&(lt?(n=Se,t=t.stateNode,n.nodeType===8?cs(n.parentNode,t):n.nodeType===1&&cs(n,t),Zo(n)):cs(Se,t.stateNode));break;case 4:o=Se,i=lt,Se=t.stateNode.containerInfo,lt=!0,Ut(n,e,t),Se=o,lt=i;break;case 0:case 11:case 14:case 15:if(!Me&&(o=t.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){i=o=o.next;do{var r=i,a=r.destroy;r=r.tag,a!==void 0&&(r&2||r&4)&&ll(t,e,a),i=i.next}while(i!==o)}Ut(n,e,t);break;case 1:if(!Me&&(Hn(t,e),o=t.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=t.memoizedProps,o.state=t.memoizedState,o.componentWillUnmount()}catch(u){me(t,e,u)}Ut(n,e,t);break;case 21:Ut(n,e,t);break;case 22:t.mode&1?(Me=(o=Me)||t.memoizedState!==null,Ut(n,e,t),Me=o):Ut(n,e,t);break;default:Ut(n,e,t)}}function Bu(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new gg),e.forEach(function(o){var i=kg.bind(null,n,o);t.has(o)||(t.add(o),o.then(i,i))})}}function rt(n,e){var t=e.deletions;if(t!==null)for(var o=0;o<t.length;o++){var i=t[o];try{var r=n,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:Se=u.stateNode,lt=!1;break e;case 3:Se=u.stateNode.containerInfo,lt=!0;break e;case 4:Se=u.stateNode.containerInfo,lt=!0;break e}u=u.return}if(Se===null)throw Error(P(160));mp(r,a,i),Se=null,lt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){me(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hp(e,n),e=e.sibling}function hp(n,e){var t=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(rt(e,n),pt(n),o&4){try{Go(3,n,n.return),$r(3,n)}catch(T){me(n,n.return,T)}try{Go(5,n,n.return)}catch(T){me(n,n.return,T)}}break;case 1:rt(e,n),pt(n),o&512&&t!==null&&Hn(t,t.return);break;case 5:if(rt(e,n),pt(n),o&512&&t!==null&&Hn(t,t.return),n.flags&32){var i=n.stateNode;try{qo(i,"")}catch(T){me(n,n.return,T)}}if(o&4&&(i=n.stateNode,i!=null)){var r=n.memoizedProps,a=t!==null?t.memoizedProps:r,u=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{u==="input"&&r.type==="radio"&&r.name!=null&&Ud(i,r),Ls(u,a);var d=Ls(u,r);for(a=0;a<c.length;a+=2){var f=c[a],p=c[a+1];f==="style"?Bd(i,p):f==="dangerouslySetInnerHTML"?zd(i,p):f==="children"?qo(i,p):Jl(i,f,p,d)}switch(u){case"input":As(i,r);break;case"textarea":Vd(i,r);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var y=r.value;y!=null?Yn(i,!!r.multiple,y,!1):m!==!!r.multiple&&(r.defaultValue!=null?Yn(i,!!r.multiple,r.defaultValue,!0):Yn(i,!!r.multiple,r.multiple?[]:"",!1))}i[ei]=r}catch(T){me(n,n.return,T)}}break;case 6:if(rt(e,n),pt(n),o&4){if(n.stateNode===null)throw Error(P(162));i=n.stateNode,r=n.memoizedProps;try{i.nodeValue=r}catch(T){me(n,n.return,T)}}break;case 3:if(rt(e,n),pt(n),o&4&&t!==null&&t.memoizedState.isDehydrated)try{Zo(e.containerInfo)}catch(T){me(n,n.return,T)}break;case 4:rt(e,n),pt(n);break;case 13:rt(e,n),pt(n),i=n.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(ka=he())),o&4&&Bu(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(Me=(d=Me)||f,rt(e,n),Me=d):rt(e,n),pt(n),o&8192){if(d=n.memoizedState!==null,(n.stateNode.isHidden=d)&&!f&&n.mode&1)for(z=n,f=n.child;f!==null;){for(p=z=f;z!==null;){switch(m=z,y=m.child,m.tag){case 0:case 11:case 14:case 15:Go(4,m,m.return);break;case 1:Hn(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){o=m,t=m.return;try{e=o,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(T){me(o,t,T)}}break;case 5:Hn(m,m.return);break;case 22:if(m.memoizedState!==null){Hu(p);continue}}y!==null?(y.return=m,z=y):Hu(p)}f=f.sibling}e:for(f=null,p=n;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,d?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(u=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Gd("display",a))}catch(T){me(n,n.return,T)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(T){me(n,n.return,T)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:rt(e,n),pt(n),o&4&&Bu(n);break;case 21:break;default:rt(e,n),pt(n)}}function pt(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(pp(t)){var o=t;break e}t=t.return}throw Error(P(160))}switch(o.tag){case 5:var i=o.stateNode;o.flags&32&&(qo(i,""),o.flags&=-33);var r=Gu(n);cl(n,r,i);break;case 3:case 4:var a=o.stateNode.containerInfo,u=Gu(n);ul(n,u,a);break;default:throw Error(P(161))}}catch(c){me(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function vg(n,e,t){z=n,gp(n)}function gp(n,e,t){for(var o=(n.mode&1)!==0;z!==null;){var i=z,r=i.child;if(i.tag===22&&o){var a=i.memoizedState!==null||Ai;if(!a){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Me;u=Ai;var d=Me;if(Ai=a,(Me=c)&&!d)for(z=i;z!==null;)a=z,c=a.child,a.tag===22&&a.memoizedState!==null?Wu(i):c!==null?(c.return=a,z=c):Wu(i);for(;r!==null;)z=r,gp(r),r=r.sibling;z=i,Ai=u,Me=d}Ou(n)}else i.subtreeFlags&8772&&r!==null?(r.return=i,z=r):Ou(n)}}function Ou(n){for(;z!==null;){var e=z;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Me||$r(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!Me)if(t===null)o.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:st(e.type,t.memoizedProps);o.componentDidUpdate(i,t.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&ku(e,r,o);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}ku(e,a,t)}break;case 5:var u=e.stateNode;if(t===null&&e.flags&4){t=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Zo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Me||e.flags&512&&al(e)}catch(m){me(e,e.return,m)}}if(e===n){z=null;break}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}}function Hu(n){for(;z!==null;){var e=z;if(e===n){z=null;break}var t=e.sibling;if(t!==null){t.return=e.return,z=t;break}z=e.return}}function Wu(n){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{$r(4,e)}catch(c){me(e,t,c)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var i=e.return;try{o.componentDidMount()}catch(c){me(e,i,c)}}var r=e.return;try{al(e)}catch(c){me(e,r,c)}break;case 5:var a=e.return;try{al(e)}catch(c){me(e,a,c)}}}catch(c){me(e,e.return,c)}if(e===n){z=null;break}var u=e.sibling;if(u!==null){u.return=e.return,z=u;break}z=e.return}}var Cg=Math.ceil,hr=Ft.ReactCurrentDispatcher,Ea=Ft.ReactCurrentOwner,et=Ft.ReactCurrentBatchConfig,j=0,xe=null,ge=null,Ee=0,We=0,Wn=sn(0),Ce=0,si=null,_n=0,zr=0,wa=0,Bo=null,ze=null,ka=0,so=1/0,wt=null,gr=!1,dl=null,Xt=null,Ri=!1,Wt=null,yr=0,Oo=0,fl=null,Wi=-1,qi=0;function Ne(){return j&6?he():Wi!==-1?Wi:Wi=he()}function Qt(n){return n.mode&1?j&2&&Ee!==0?Ee&-Ee:ng.transition!==null?(qi===0&&(qi=jd()),qi):(n=te,n!==0||(n=window.event,n=n===void 0?16:lf(n.type)),n):1}function ct(n,e,t,o){if(50<Oo)throw Oo=0,fl=null,Error(P(185));ai(n,t,o),(!(j&2)||n!==xe)&&(n===xe&&(!(j&2)&&(zr|=t),Ce===4&&Bt(n,Ee)),He(n,o),t===1&&j===0&&!(e.mode&1)&&(so=he()+500,Fr&&ln()))}function He(n,e){var t=n.callbackNode;nh(n,e);var o=er(n,n===xe?Ee:0);if(o===0)t!==null&&ja(t),n.callbackNode=null,n.callbackPriority=0;else if(e=o&-o,n.callbackPriority!==e){if(t!=null&&ja(t),e===1)n.tag===0?tg(qu.bind(null,n)):kf(qu.bind(null,n)),Qh(function(){!(j&6)&&ln()}),t=null;else{switch(ef(o)){case 1:t=bl;break;case 4:t=Qd;break;case 16:t=ji;break;case 536870912:t=bd;break;default:t=ji}t=Ep(t,yp.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function yp(n,e){if(Wi=-1,qi=0,j&6)throw Error(P(327));var t=n.callbackNode;if(Qn()&&n.callbackNode!==t)return null;var o=er(n,n===xe?Ee:0);if(o===0)return null;if(o&30||o&n.expiredLanes||e)e=vr(n,o);else{e=o;var i=j;j|=2;var r=Cp();(xe!==n||Ee!==e)&&(wt=null,so=he()+500,yn(n,e));do try{_g();break}catch(u){vp(n,u)}while(1);da(),hr.current=r,j=i,ge!==null?e=0:(xe=null,Ee=0,e=Ce)}if(e!==0){if(e===2&&(i=zs(n),i!==0&&(o=i,e=pl(n,i))),e===1)throw t=si,yn(n,0),Bt(n,o),He(n,he()),t;if(e===6)Bt(n,o);else{if(i=n.current.alternate,!(o&30)&&!Tg(i)&&(e=vr(n,o),e===2&&(r=zs(n),r!==0&&(o=r,e=pl(n,r))),e===1))throw t=si,yn(n,0),Bt(n,o),He(n,he()),t;switch(n.finishedWork=i,n.finishedLanes=o,e){case 0:case 1:throw Error(P(345));case 2:pn(n,ze,wt);break;case 3:if(Bt(n,o),(o&130023424)===o&&(e=ka+500-he(),10<e)){if(er(n,0)!==0)break;if(i=n.suspendedLanes,(i&o)!==o){Ne(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Js(pn.bind(null,n,ze,wt),e);break}pn(n,ze,wt);break;case 4:if(Bt(n,o),(o&4194240)===o)break;for(e=n.eventTimes,i=-1;0<o;){var a=31-ut(o);r=1<<a,a=e[a],a>i&&(i=a),o&=~r}if(o=i,o=he()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Cg(o/1960))-o,10<o){n.timeoutHandle=Js(pn.bind(null,n,ze,wt),o);break}pn(n,ze,wt);break;case 5:pn(n,ze,wt);break;default:throw Error(P(329))}}}return He(n,he()),n.callbackNode===t?yp.bind(null,n):null}function pl(n,e){var t=Bo;return n.current.memoizedState.isDehydrated&&(yn(n,e).flags|=256),n=vr(n,e),n!==2&&(e=ze,ze=t,e!==null&&ml(e)),n}function ml(n){ze===null?ze=n:ze.push.apply(ze,n)}function Tg(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var o=0;o<t.length;o++){var i=t[o],r=i.getSnapshot;i=i.value;try{if(!ft(r(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bt(n,e){for(e&=~wa,e&=~zr,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ut(e),o=1<<t;n[t]=-1,e&=~o}}function qu(n){if(j&6)throw Error(P(327));Qn();var e=er(n,0);if(!(e&1))return He(n,he()),null;var t=vr(n,e);if(n.tag!==0&&t===2){var o=zs(n);o!==0&&(e=o,t=pl(n,o))}if(t===1)throw t=si,yn(n,0),Bt(n,e),He(n,he()),t;if(t===6)throw Error(P(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,pn(n,ze,wt),He(n,he()),null}function Ia(n,e){var t=j;j|=1;try{return n(e)}finally{j=t,j===0&&(so=he()+500,Fr&&ln())}}function Sn(n){Wt!==null&&Wt.tag===0&&!(j&6)&&Qn();var e=j;j|=1;var t=et.transition,o=te;try{if(et.transition=null,te=1,n)return n()}finally{te=o,et.transition=t,j=e,!(j&6)&&ln()}}function Ma(){We=Wn.current,se(Wn)}function yn(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Xh(t)),ge!==null)for(t=ge.return;t!==null;){var o=t;switch(aa(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&rr();break;case 3:io(),se(Be),se(Ae),ya();break;case 5:ga(o);break;case 4:io();break;case 13:se(ce);break;case 19:se(ce);break;case 10:fa(o.type._context);break;case 22:case 23:Ma()}t=t.return}if(xe=n,ge=n=bt(n.current,null),Ee=We=e,Ce=0,si=null,wa=zr=_n=0,ze=Bo=null,hn!==null){for(e=0;e<hn.length;e++)if(t=hn[e],o=t.interleaved,o!==null){t.interleaved=null;var i=o.next,r=t.pending;if(r!==null){var a=r.next;r.next=i,o.next=a}t.pending=o}hn=null}return n}function vp(n,e){do{var t=ge;try{if(da(),Bi.current=mr,pr){for(var o=de.memoizedState;o!==null;){var i=o.queue;i!==null&&(i.pending=null),o=o.next}pr=!1}if(xn=0,Te=ve=de=null,zo=!1,oi=0,Ea.current=null,t===null||t.return===null){Ce=1,si=e,ge=null;break}e:{var r=n,a=t.return,u=t,c=e;if(e=Ee,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Nu(a);if(y!==null){y.flags&=-257,Du(y,a,u,r,e),y.mode&1&&Pu(r,d,e),e=y,c=d;var C=e.updateQueue;if(C===null){var T=new Set;T.add(c),e.updateQueue=T}else C.add(c);break e}else{if(!(e&1)){Pu(r,d,e),Aa();break e}c=Error(P(426))}}else if(le&&u.mode&1){var w=Nu(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Du(w,a,u,r,e),ua(ro(c,u));break e}}r=c=ro(c,u),Ce!==4&&(Ce=2),Bo===null?Bo=[r]:Bo.push(r),r=a;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var h=tp(r,c,e);wu(r,h);break e;case 1:u=c;var g=r.type,v=r.stateNode;if(!(r.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Xt===null||!Xt.has(v)))){r.flags|=65536,e&=-e,r.lanes|=e;var S=np(r,u,e);wu(r,S);break e}}r=r.return}while(r!==null)}xp(t)}catch(I){e=I,ge===t&&t!==null&&(ge=t=t.return);continue}break}while(1)}function Cp(){var n=hr.current;return hr.current=mr,n===null?mr:n}function Aa(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),xe===null||!(_n&268435455)&&!(zr&268435455)||Bt(xe,Ee)}function vr(n,e){var t=j;j|=2;var o=Cp();(xe!==n||Ee!==e)&&(wt=null,yn(n,e));do try{xg();break}catch(i){vp(n,i)}while(1);if(da(),j=t,hr.current=o,ge!==null)throw Error(P(261));return xe=null,Ee=0,Ce}function xg(){for(;ge!==null;)Tp(ge)}function _g(){for(;ge!==null&&!Jm();)Tp(ge)}function Tp(n){var e=Sp(n.alternate,n,We);n.memoizedProps=n.pendingProps,e===null?xp(n):ge=e,Ea.current=null}function xp(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=hg(t,e),t!==null){t.flags&=32767,ge=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ce=6,ge=null;return}}else if(t=mg(t,e,We),t!==null){ge=t;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=n}while(e!==null);Ce===0&&(Ce=5)}function pn(n,e,t){var o=te,i=et.transition;try{et.transition=null,te=1,Sg(n,e,t,o)}finally{et.transition=i,te=o}return null}function Sg(n,e,t,o){do Qn();while(Wt!==null);if(j&6)throw Error(P(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(P(177));n.callbackNode=null,n.callbackPriority=0;var r=t.lanes|t.childLanes;if(oh(n,r),n===xe&&(ge=xe=null,Ee=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Ri||(Ri=!0,Ep(ji,function(){return Qn(),null})),r=(t.flags&15990)!==0,t.subtreeFlags&15990||r){r=et.transition,et.transition=null;var a=te;te=1;var u=j;j|=4,Ea.current=null,yg(n,t),hp(t,n),Hh(qs),tr=!!Ws,qs=Ws=null,n.current=t,vg(t),Km(),j=u,te=a,et.transition=r}else n.current=t;if(Ri&&(Ri=!1,Wt=n,yr=i),r=n.pendingLanes,r===0&&(Xt=null),Qm(t.stateNode),He(n,he()),e!==null)for(o=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],o(i.value,{componentStack:i.stack,digest:i.digest});if(gr)throw gr=!1,n=dl,dl=null,n;return yr&1&&n.tag!==0&&Qn(),r=n.pendingLanes,r&1?n===fl?Oo++:(Oo=0,fl=n):Oo=0,ln(),null}function Qn(){if(Wt!==null){var n=ef(yr),e=et.transition,t=te;try{if(et.transition=null,te=16>n?16:n,Wt===null)var o=!1;else{if(n=Wt,Wt=null,yr=0,j&6)throw Error(P(331));var i=j;for(j|=4,z=n.current;z!==null;){var r=z,a=r.child;if(z.flags&16){var u=r.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(z=d;z!==null;){var f=z;switch(f.tag){case 0:case 11:case 15:Go(8,f,r)}var p=f.child;if(p!==null)p.return=f,z=p;else for(;z!==null;){f=z;var m=f.sibling,y=f.return;if(fp(f),f===d){z=null;break}if(m!==null){m.return=y,z=m;break}z=y}}}var C=r.alternate;if(C!==null){var T=C.child;if(T!==null){C.child=null;do{var w=T.sibling;T.sibling=null,T=w}while(T!==null)}}z=r}}if(r.subtreeFlags&2064&&a!==null)a.return=r,z=a;else e:for(;z!==null;){if(r=z,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Go(9,r,r.return)}var h=r.sibling;if(h!==null){h.return=r.return,z=h;break e}z=r.return}}var g=n.current;for(z=g;z!==null;){a=z;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,z=v;else e:for(a=g;z!==null;){if(u=z,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:$r(9,u)}}catch(I){me(u,u.return,I)}if(u===a){z=null;break e}var S=u.sibling;if(S!==null){S.return=u.return,z=S;break e}z=u.return}}if(j=i,ln(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Rr,n)}catch{}o=!0}return o}finally{te=t,et.transition=e}}return!1}function Yu(n,e,t){e=ro(t,e),e=tp(n,e,1),n=Zt(n,e,1),e=Ne(),n!==null&&(ai(n,1,e),He(n,e))}function me(n,e,t){if(n.tag===3)Yu(n,n,t);else for(;e!==null;){if(e.tag===3){Yu(e,n,t);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xt===null||!Xt.has(o))){n=ro(t,n),n=np(e,n,1),e=Zt(e,n,1),n=Ne(),e!==null&&(ai(e,1,n),He(e,n));break}}e=e.return}}function Eg(n,e,t){var o=n.pingCache;o!==null&&o.delete(e),e=Ne(),n.pingedLanes|=n.suspendedLanes&t,xe===n&&(Ee&t)===t&&(Ce===4||Ce===3&&(Ee&130023424)===Ee&&500>he()-ka?yn(n,0):wa|=t),He(n,e)}function _p(n,e){e===0&&(n.mode&1?(e=Ti,Ti<<=1,!(Ti&130023424)&&(Ti=4194304)):e=1);var t=Ne();n=Nt(n,e),n!==null&&(ai(n,e,t),He(n,t))}function wg(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),_p(n,t)}function kg(n,e){var t=0;switch(n.tag){case 13:var o=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:o=n.stateNode;break;default:throw Error(P(314))}o!==null&&o.delete(e),_p(n,t)}var Sp;Sp=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Be.current)Ge=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ge=!1,pg(n,e,t);Ge=!!(n.flags&131072)}else Ge=!1,le&&e.flags&1048576&&If(e,ar,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;Hi(n,e),n=e.pendingProps;var i=to(e,Ae.current);Xn(e,t),i=Ca(null,e,o,n,i,t);var r=Ta();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Oe(o)?(r=!0,sr(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ma(e),i.updater=Vr,e.stateNode=i,i._reactInternals=e,el(e,o,n,t),e=ol(null,e,o,!0,r,t)):(e.tag=0,le&&r&&la(e),Re(null,e,i,t),e=e.child),e;case 16:o=e.elementType;e:{switch(Hi(n,e),n=e.pendingProps,i=o._init,o=i(o._payload),e.type=o,i=e.tag=Mg(o),n=st(o,n),i){case 0:e=nl(null,e,o,n,t);break e;case 1:e=Uu(null,e,o,n,t);break e;case 11:e=Lu(null,e,o,n,t);break e;case 14:e=Fu(null,e,o,st(o.type,n),t);break e}throw Error(P(306,o,""))}return e;case 0:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:st(o,i),nl(n,e,o,i,t);case 1:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:st(o,i),Uu(n,e,o,i,t);case 3:e:{if(sp(e),n===null)throw Error(P(387));o=e.pendingProps,r=e.memoizedState,i=r.element,Df(n,e),dr(e,o,null,t);var a=e.memoizedState;if(o=a.element,r.isDehydrated)if(r={element:o,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=ro(Error(P(423)),e),e=Vu(n,e,o,t,i);break e}else if(o!==i){i=ro(Error(P(424)),e),e=Vu(n,e,o,t,i);break e}else for(qe=Kt(e.stateNode.containerInfo.firstChild),Ye=e,le=!0,at=null,t=Pf(e,null,o,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(no(),o===i){e=Dt(n,e,t);break e}Re(n,e,o,t)}e=e.child}return e;case 5:return Lf(e),n===null&&Qs(e),o=e.type,i=e.pendingProps,r=n!==null?n.memoizedProps:null,a=i.children,Ys(o,i)?a=null:r!==null&&Ys(o,r)&&(e.flags|=32),rp(n,e),Re(n,e,a,t),e.child;case 6:return n===null&&Qs(e),null;case 13:return lp(n,e,t);case 4:return ha(e,e.stateNode.containerInfo),o=e.pendingProps,n===null?e.child=oo(e,null,o,t):Re(n,e,o,t),e.child;case 11:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:st(o,i),Lu(n,e,o,i,t);case 7:return Re(n,e,e.pendingProps,t),e.child;case 8:return Re(n,e,e.pendingProps.children,t),e.child;case 12:return Re(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(o=e.type._context,i=e.pendingProps,r=e.memoizedProps,a=i.value,ne(ur,o._currentValue),o._currentValue=a,r!==null)if(ft(r.value,a)){if(r.children===i.children&&!Be.current){e=Dt(n,e,t);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){a=r.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(r.tag===1){c=At(-1,t&-t),c.tag=2;var d=r.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}r.lanes|=t,c=r.alternate,c!==null&&(c.lanes|=t),bs(r.return,t,e),u.lanes|=t;break}c=c.next}}else if(r.tag===10)a=r.type===e.type?null:r.child;else if(r.tag===18){if(a=r.return,a===null)throw Error(P(341));a.lanes|=t,u=a.alternate,u!==null&&(u.lanes|=t),bs(a,t,e),a=r.sibling}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}Re(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps.children,Xn(e,t),i=tt(i),o=o(i),e.flags|=1,Re(n,e,o,t),e.child;case 14:return o=e.type,i=st(o,e.pendingProps),i=st(o.type,i),Fu(n,e,o,i,t);case 15:return op(n,e,e.type,e.pendingProps,t);case 17:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:st(o,i),Hi(n,e),e.tag=1,Oe(o)?(n=!0,sr(e)):n=!1,Xn(e,t),ep(e,o,i),el(e,o,i,t),ol(null,e,o,!0,n,t);case 19:return ap(n,e,t);case 22:return ip(n,e,t)}throw Error(P(156,e.tag))};function Ep(n,e){return Xd(n,e)}function Ig(n,e,t,o){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function je(n,e,t,o){return new Ig(n,e,t,o)}function Ra(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Mg(n){if(typeof n=="function")return Ra(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Zl)return 11;if(n===Xl)return 14}return 2}function bt(n,e){var t=n.alternate;return t===null?(t=je(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Yi(n,e,t,o,i,r){var a=2;if(o=n,typeof n=="function")Ra(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Ln:return vn(t.children,i,r,e);case Kl:a=8,i|=8;break;case Es:return n=je(12,t,e,i|2),n.elementType=Es,n.lanes=r,n;case ws:return n=je(13,t,e,i),n.elementType=ws,n.lanes=r,n;case ks:return n=je(19,t,e,i),n.elementType=ks,n.lanes=r,n;case Dd:return Gr(t,i,r,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Pd:a=10;break e;case Nd:a=9;break e;case Zl:a=11;break e;case Xl:a=14;break e;case Vt:a=16,o=null;break e}throw Error(P(130,n==null?n:typeof n,""))}return e=je(a,t,e,i),e.elementType=n,e.type=o,e.lanes=r,e}function vn(n,e,t,o){return n=je(7,n,o,e),n.lanes=t,n}function Gr(n,e,t,o){return n=je(22,n,o,e),n.elementType=Dd,n.lanes=t,n.stateNode={isHidden:!1},n}function vs(n,e,t){return n=je(6,n,null,e),n.lanes=t,n}function Cs(n,e,t){return e=je(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Ag(n,e,t,o,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jr(0),this.expirationTimes=jr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.identifierPrefix=o,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pa(n,e,t,o,i,r,a,u,c){return n=new Ag(n,e,t,u,c),e===1?(e=1,r===!0&&(e|=8)):e=0,r=je(3,null,null,e),n.current=r,r.stateNode=n,r.memoizedState={element:o,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},ma(r),n}function Rg(n,e,t){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dn,key:o==null?null:""+o,children:n,containerInfo:e,implementation:t}}function wp(n){if(!n)return tn;n=n._reactInternals;e:{if(Mn(n)!==n||n.tag!==1)throw Error(P(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Oe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(n.tag===1){var t=n.type;if(Oe(t))return wf(n,t,e)}return e}function kp(n,e,t,o,i,r,a,u,c){return n=Pa(t,o,!0,n,i,r,a,u,c),n.context=wp(null),t=n.current,o=Ne(),i=Qt(t),r=At(o,i),r.callback=e??null,Zt(t,r,i),n.current.lanes=i,ai(n,i,o),He(n,o),n}function Br(n,e,t,o){var i=e.current,r=Ne(),a=Qt(i);return t=wp(t),e.context===null?e.context=t:e.pendingContext=t,e=At(r,a),e.payload={element:n},o=o===void 0?null:o,o!==null&&(e.callback=o),n=Zt(i,e,a),n!==null&&(ct(n,i,a,r),Gi(n,i,a)),a}function Cr(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ju(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Na(n,e){Ju(n,e),(n=n.alternate)&&Ju(n,e)}function Pg(){return null}var Ip=typeof reportError=="function"?reportError:function(n){console.error(n)};function Da(n){this._internalRoot=n}Or.prototype.render=Da.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(P(409));Br(n,e,null,null)};Or.prototype.unmount=Da.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Sn(function(){Br(null,n,null,null)}),e[Pt]=null}};function Or(n){this._internalRoot=n}Or.prototype.unstable_scheduleHydration=function(n){if(n){var e=of();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Gt.length&&e!==0&&e<Gt[t].priority;t++);Gt.splice(t,0,n),t===0&&sf(n)}};function La(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Hr(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ku(){}function Ng(n,e,t,o,i){if(i){if(typeof o=="function"){var r=o;o=function(){var d=Cr(a);r.call(d)}}var a=kp(e,o,n,0,null,!1,!1,"",Ku);return n._reactRootContainer=a,n[Pt]=a.current,bo(n.nodeType===8?n.parentNode:n),Sn(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof o=="function"){var u=o;o=function(){var d=Cr(c);u.call(d)}}var c=Pa(n,0,!1,null,null,!1,!1,"",Ku);return n._reactRootContainer=c,n[Pt]=c.current,bo(n.nodeType===8?n.parentNode:n),Sn(function(){Br(e,c,t,o)}),c}function Wr(n,e,t,o,i){var r=t._reactRootContainer;if(r){var a=r;if(typeof i=="function"){var u=i;i=function(){var c=Cr(a);u.call(c)}}Br(e,a,n,i)}else a=Ng(t,e,n,i,o);return Cr(a)}tf=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Ro(e.pendingLanes);t!==0&&(jl(e,t|1),He(e,he()),!(j&6)&&(so=he()+500,ln()))}break;case 13:Sn(function(){var o=Nt(n,1);if(o!==null){var i=Ne();ct(o,n,1,i)}}),Na(n,1)}};ea=function(n){if(n.tag===13){var e=Nt(n,134217728);if(e!==null){var t=Ne();ct(e,n,134217728,t)}Na(n,134217728)}};nf=function(n){if(n.tag===13){var e=Qt(n),t=Nt(n,e);if(t!==null){var o=Ne();ct(t,n,e,o)}Na(n,e)}};of=function(){return te};rf=function(n,e){var t=te;try{return te=n,e()}finally{te=t}};Us=function(n,e,t){switch(e){case"input":if(As(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var o=t[e];if(o!==n&&o.form===n.form){var i=Lr(o);if(!i)throw Error(P(90));Fd(o),As(o,i)}}}break;case"textarea":Vd(n,t);break;case"select":e=t.value,e!=null&&Yn(n,!!t.multiple,e,!1)}};Wd=Ia;qd=Sn;var Dg={usingClientEntryPoint:!1,Events:[ci,$n,Lr,Od,Hd,Ia]},ko={findFiberByHostInstance:mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lg={bundleType:ko.bundleType,version:ko.version,rendererPackageName:ko.rendererPackageName,rendererConfig:ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Kd(n),n===null?null:n.stateNode},findFiberByHostInstance:ko.findFiberByHostInstance||Pg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pi.isDisabled&&Pi.supportsFiber)try{Rr=Pi.inject(Lg),yt=Pi}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dg;Ke.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!La(e))throw Error(P(200));return Rg(n,e,null,t)};Ke.createRoot=function(n,e){if(!La(n))throw Error(P(299));var t=!1,o="",i=Ip;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Pa(n,1,!1,null,null,t,!1,o,i),n[Pt]=e.current,bo(n.nodeType===8?n.parentNode:n),new Da(e)};Ke.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(P(188)):(n=Object.keys(n).join(","),Error(P(268,n)));return n=Kd(e),n=n===null?null:n.stateNode,n};Ke.flushSync=function(n){return Sn(n)};Ke.hydrate=function(n,e,t){if(!Hr(e))throw Error(P(200));return Wr(null,n,e,!0,t)};Ke.hydrateRoot=function(n,e,t){if(!La(n))throw Error(P(405));var o=t!=null&&t.hydratedSources||null,i=!1,r="",a=Ip;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=kp(e,null,n,1,t??null,i,!1,r,a),n[Pt]=e.current,bo(n),o)for(n=0;n<o.length;n++)t=o[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Or(e)};Ke.render=function(n,e,t){if(!Hr(e))throw Error(P(200));return Wr(null,n,e,!1,t)};Ke.unmountComponentAtNode=function(n){if(!Hr(n))throw Error(P(40));return n._reactRootContainer?(Sn(function(){Wr(null,null,n,!1,function(){n._reactRootContainer=null,n[Pt]=null})}),!0):!1};Ke.unstable_batchedUpdates=Ia;Ke.unstable_renderSubtreeIntoContainer=function(n,e,t,o){if(!Hr(t))throw Error(P(200));if(n==null||n._reactInternals===void 0)throw Error(P(38));return Wr(n,e,t,!1,o)};Ke.version="18.3.1-next-f1338f8080-20240426";function Mp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mp)}catch(n){console.error(n)}}Mp(),Id.exports=Ke;var Fg=Id.exports,Zu=Fg;_s.createRoot=Zu.createRoot,_s.hydrateRoot=Zu.hydrateRoot;const Ap=H.createContext(void 0),fi=()=>{const n=H.useContext(Ap);if(!n)throw new Error("useDiagramContext must be used within a DiagramProvider");return n},Ug=({children:n})=>{const[e,t]=H.useState([]),[o,i]=H.useState([]),[r,a]=H.useState(null),[u,c]=H.useState(null),[d,f]=H.useState("select"),[p,m]=H.useState(null),[y,C]=H.useState(!1),[T,w]=H.useState({scale:1,offsetX:0,offsetY:0,showGrid:!0,showConnections:!0}),[h,g]=H.useState([{elements:[],connections:[],timestamp:new Date,description:"初始状态"}]),[v,S]=H.useState(0),I=H.useCallback(E=>{t(E)},[]),A=H.useCallback(E=>{t(M=>[...M,E])},[]),k=H.useCallback((E,M)=>{t(D=>D.map(O=>O.id===E?{...O,...M}:O))},[]),R=H.useCallback(E=>{t(M=>M.filter(D=>D.id!==E)),i(M=>M.filter(D=>D.fromElementId!==E&&D.toElementId!==E)),r===E&&a(null)},[r]),L=H.useCallback(E=>{i(E)},[]),F=H.useCallback(E=>{i(M=>[...M,E])},[]),b=H.useCallback((E,M)=>{i(D=>D.map(O=>O.id===E?{...O,...M}:O))},[]),Ue=H.useCallback(E=>{i(M=>M.filter(D=>D.id!==E)),u===E&&c(null)},[u]),Ve=H.useCallback(E=>{w(M=>({...M,...E}))},[]),ye=H.useCallback(E=>{const M={elements:[...e],connections:[...o],timestamp:new Date,description:E},D=h.slice(0,v+1);D.push(M),D.length>50?D.shift():S(O=>O+1),g(D)},[e,o,h,v]),$e=H.useCallback(()=>{if(v>0){const E=h[v-1];t(E.elements),i(E.connections),S(M=>M-1)}},[h,v]),xt=H.useCallback(()=>{if(v<h.length-1){const E=h[v+1];t(E.elements),i(E.connections),S(M=>M+1)}},[h,v]),_t=v>0,V=v<h.length-1,x={elements:e,setElements:I,addElement:A,updateElement:k,removeElement:R,connections:o,setConnections:L,addConnection:F,updateConnection:b,removeConnection:Ue,selectedElement:r,setSelectedElement:a,selectedConnection:u,setSelectedConnection:c,canvasState:T,setCanvasState:Ve,history:h,historyIndex:v,saveToHistory:ye,undo:$e,redo:xt,canUndo:_t,canRedo:V,activeTool:d,setActiveTool:f,uploadedImage:p,setUploadedImage:m,isProcessing:y,setIsProcessing:C};return _.jsx(Ap.Provider,{value:x,children:n})};var Vg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $g=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zg=(n,e)=>{const t=H.forwardRef(({color:o="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:a,children:u,...c},d)=>H.createElement("svg",{ref:d,...Vg,width:i,height:i,stroke:o,strokeWidth:a?Number(r)*24/Number(i):r,className:`lucide lucide-${$g(n)}`,...c},[...e.map(([f,p])=>H.createElement(f,p)),...(Array.isArray(u)?u:[u])||[]]));return t.displayName=`${n}`,t};var ae=zg;const Gg=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Bg=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Og=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Hg=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Rp=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Wg=ae("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),qg=ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Yg=ae("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),Jg=ae("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0",key:"aigmz7"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2",key:"1n6bmn"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8",key:"a9iiix"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]),Kg=ae("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Zg=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Xg=ae("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Qg=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),bg=ae("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]),jg=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),ey=ae("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),ty=ae("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),ny=ae("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),oy=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),iy=ae("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),ry=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),sy=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Pp=ae("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Np=ae("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),ly=({onExport:n})=>{const{activeTool:e,setActiveTool:t,canvasState:o,setCanvasState:i,undo:r,redo:a,canUndo:u,canRedo:c,elements:d,connections:f}=fi(),p=[{id:"select",icon:_.jsx(bg,{size:18}),label:"选择",shortcut:"V"},{id:"pan",icon:_.jsx(Jg,{size:18}),label:"平移",shortcut:"H"},{id:"add-text",icon:_.jsx(iy,{size:18}),label:"文本",shortcut:"T"},{id:"add-box",icon:_.jsx(ny,{size:18}),label:"矩形",shortcut:"R"},{id:"add-circle",icon:_.jsx(Hg,{size:18}),label:"圆形",shortcut:"O"},{id:"add-arrow",icon:_.jsx(Gg,{size:18}),label:"箭头",shortcut:"A"},{id:"connect",icon:_.jsx(Xg,{size:18}),label:"连接",shortcut:"C"},{id:"delete",icon:_.jsx(oy,{size:18}),label:"删除",shortcut:"Del"}],m=()=>{const h=Math.min(3,o.scale*1.2);i({scale:h})},y=()=>{const h=Math.max(.1,o.scale/1.2);i({scale:h})},C=()=>{i({scale:1,offsetX:0,offsetY:0})},T=()=>{i({showGrid:!o.showGrid})},w=()=>{i({showConnections:!o.showConnections})};return _.jsxs("div",{className:"toolbar",style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",backgroundColor:"#ffffff",borderBottom:"1px solid #e0e0e0",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",flexWrap:"wrap"},children:[_.jsx("div",{style:{display:"flex",gap:"4px",marginRight:"16px"},children:_.jsxs("button",{className:"btn btn-outline",onClick:n,disabled:d.length===0,title:"导出图表",children:[_.jsx(Rp,{size:16}),"导出"]})}),_.jsx("div",{style:{width:"1px",height:"24px",backgroundColor:"#e0e0e0",margin:"0 8px"}}),_.jsxs("div",{style:{display:"flex",gap:"4px",marginRight:"16px"},children:[_.jsx("button",{className:"btn btn-outline",onClick:r,disabled:!u,title:"撤销 (Ctrl+Z)",children:_.jsx(jg,{size:16})}),_.jsx("button",{className:"btn btn-outline",onClick:a,disabled:!c,title:"重做 (Ctrl+Y)",children:_.jsx(ey,{size:16})})]}),_.jsx("div",{style:{width:"1px",height:"24px",backgroundColor:"#e0e0e0",margin:"0 8px"}}),_.jsx("div",{style:{display:"flex",gap:"4px",marginRight:"16px"},children:p.map(h=>_.jsx("button",{className:`btn ${e===h.id?"btn-primary":"btn-outline"}`,onClick:()=>t(h.id),title:`${h.label} ${h.shortcut?`(${h.shortcut})`:""}`,style:{minWidth:"40px",padding:"8px"},children:h.icon},h.id))}),_.jsx("div",{style:{width:"1px",height:"24px",backgroundColor:"#e0e0e0",margin:"0 8px"}}),_.jsxs("div",{style:{display:"flex",gap:"4px",marginRight:"16px"},children:[_.jsx("button",{className:"btn btn-outline",onClick:y,title:"缩小",children:_.jsx(Np,{size:16})}),_.jsxs("button",{className:"btn btn-outline",onClick:C,title:"重置视图",style:{minWidth:"60px"},children:[_.jsx(Kg,{size:16}),Math.round(o.scale*100),"%"]}),_.jsx("button",{className:"btn btn-outline",onClick:m,title:"放大",children:_.jsx(Pp,{size:16})})]}),_.jsx("div",{style:{width:"1px",height:"24px",backgroundColor:"#e0e0e0",margin:"0 8px"}}),_.jsxs("div",{style:{display:"flex",gap:"4px"},children:[_.jsx("button",{className:`btn ${o.showGrid?"btn-primary":"btn-outline"}`,onClick:T,title:"显示/隐藏网格",children:_.jsx(Yg,{size:16})}),_.jsx("button",{className:`btn ${o.showConnections?"btn-primary":"btn-outline"}`,onClick:w,title:"显示/隐藏连接线",children:o.showConnections?_.jsx(qg,{size:16}):_.jsx(Wg,{size:16})})]}),_.jsxs("div",{style:{marginLeft:"auto",fontSize:"12px",color:"#666"},children:["元素: ",d.length," | 连接: ",f.length]})]})};let Ni;const ay=new Uint8Array(16);function uy(){if(!Ni&&(Ni=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ni))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ni(ay)}const _e=[];for(let n=0;n<256;++n)_e.push((n+256).toString(16).slice(1));function cy(n,e=0){return _e[n[e+0]]+_e[n[e+1]]+_e[n[e+2]]+_e[n[e+3]]+"-"+_e[n[e+4]]+_e[n[e+5]]+"-"+_e[n[e+6]]+_e[n[e+7]]+"-"+_e[n[e+8]]+_e[n[e+9]]+"-"+_e[n[e+10]]+_e[n[e+11]]+_e[n[e+12]]+_e[n[e+13]]+_e[n[e+14]]+_e[n[e+15]]}const dy=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Xu={randomUUID:dy};function Ot(n,e,t){if(Xu.randomUUID&&!e&&!n)return Xu.randomUUID();n=n||{};const o=n.random||(n.rng||uy)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=o[i];return e}return cy(o)}const fy=({element:n,isSelected:e,onSelect:t,onUpdate:o})=>{const{activeTool:i,addConnection:r,setActiveTool:a,selectedElement:u,setSelectedElement:c}=fi(),[d,f]=H.useState(!1),[p,m]=H.useState(!1),[y,C]=H.useState(null),[T,w]=H.useState({x:0,y:0}),[h,g]=H.useState({x:0,y:0}),[v,S]=H.useState(!1),[I,A]=H.useState(null),[k,R]=H.useState(!1),L=H.useRef(null),F=x=>{x.preventDefault(),x.stopPropagation(),t(n.id);const E=x.target;if(E.classList.contains("resize-handle")){m(!0),C(E.dataset.handle||null),w({x:x.clientX,y:x.clientY}),g({x:n.width,y:n.height});return}i==="select"&&(f(!0),w({x:x.clientX,y:x.clientY}),g({x:n.x,y:n.y}))};H.useEffect(()=>{const x=M=>{if(d){const D=M.clientX-T.x,O=M.clientY-T.y;o(n.id,{x:Math.max(0,h.x+D),y:Math.max(0,h.y+O)})}else if(p&&y){const D=M.clientX-T.x,O=M.clientY-T.y;let W=h.x,J=h.y;switch(y){case"se":W=Math.max(50,h.x+D),J=Math.max(30,h.y+O);break;case"sw":W=Math.max(50,h.x-D),J=Math.max(30,h.y+O);break;case"ne":W=Math.max(50,h.x+D),J=Math.max(30,h.y-O);break;case"nw":W=Math.max(50,h.x-D),J=Math.max(30,h.y-O);break}o(n.id,{width:W,height:J})}},E=()=>{f(!1),m(!1),C(null)};if(d||p)return document.addEventListener("mousemove",x),document.addEventListener("mouseup",E),()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",E)}},[d,p,T,h,n.id,o,y]);const b=x=>{x.preventDefault(),x.stopPropagation(),R(!0),a("connect"),c(n.id),setTimeout(()=>{v||R(!1)},3e3)},Ue=x=>{x.stopPropagation();const E=prompt("编辑文本:",n.text||"");E!==null&&o(n.id,{text:E})},Ve=()=>{i==="connect"&&u&&u!==n.id&&A(n.id)},ye=()=>{A(null)},$e=(x,E)=>{if(x.preventDefault(),x.stopPropagation(),i==="connect"&&u&&u!==n.id){const M={fromElementId:u,toElementId:n.id,lineType:"straight",color:"#333333",width:2,lineStyle:"solid",arrowType:"single",bold:!1,visible:!0};r({...M,id:Ot()}),a("select"),c(null),R(!1),S(!1)}else S(!0),c(n.id)},xt=()=>{const x={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:n.fontSize||14,fontWeight:n.fontWeight||"normal",color:n.color||"#333333",backgroundColor:n.backgroundColor||"#ffffff",border:`${n.borderWidth||1}px solid ${n.borderColor||"#cccccc"}`,borderRadius:n.type==="circle"?"50%":"4px",overflow:"hidden",wordBreak:"break-word",textAlign:"center",padding:"4px",boxSizing:"border-box"};switch(n.type){case"box":return _.jsx("div",{style:x,children:n.text});case"circle":return _.jsx("div",{style:x,children:n.text});case"text":return _.jsx("div",{style:{...x,backgroundColor:"transparent",border:"none"},children:n.text});case"arrow":return _.jsx("div",{style:{...x,backgroundColor:n.backgroundColor||"#333333",clipPath:"polygon(0% 40%, 60% 40%, 60% 20%, 100% 50%, 60% 80%, 60% 60%, 0% 60%)"}});default:return _.jsx("div",{style:x,children:n.text})}},_t=()=>{if(!e)return null;const x={position:"absolute",width:"8px",height:"8px",backgroundColor:"#007bff",border:"1px solid #ffffff",borderRadius:"2px",cursor:"nw-resize"};return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"resize-handle","data-handle":"nw",style:{...x,top:"-4px",left:"-4px",cursor:"nw-resize"}}),_.jsx("div",{className:"resize-handle","data-handle":"ne",style:{...x,top:"-4px",right:"-4px",cursor:"ne-resize"}}),_.jsx("div",{className:"resize-handle","data-handle":"sw",style:{...x,bottom:"-4px",left:"-4px",cursor:"sw-resize"}}),_.jsx("div",{className:"resize-handle","data-handle":"se",style:{...x,bottom:"-4px",right:"-4px",cursor:"se-resize"}})]})},V=()=>{if(!k&&!e)return null;const x={position:"absolute",width:"10px",height:"10px",backgroundColor:"#28a745",border:"2px solid #ffffff",borderRadius:"50%",cursor:"crosshair",zIndex:1e3};return _.jsxs(_.Fragment,{children:[_.jsx("div",{style:{...x,top:"-5px",left:"50%",transform:"translateX(-50%)"},onClick:E=>$e(E),title:"连接点"}),_.jsx("div",{style:{...x,top:"50%",right:"-5px",transform:"translateY(-50%)"},onClick:E=>$e(E),title:"连接点"}),_.jsx("div",{style:{...x,bottom:"-5px",left:"50%",transform:"translateX(-50%)"},onClick:E=>$e(E),title:"连接点"}),_.jsx("div",{style:{...x,top:"50%",left:"-5px",transform:"translateY(-50%)"},onClick:E=>$e(E),title:"连接点"})]})};return n.visible?_.jsxs("div",{ref:L,style:{position:"absolute",left:n.x,top:n.y,width:n.width,height:n.height,transform:`rotate(${n.rotation||0}deg)`,zIndex:n.zIndex||1,cursor:d?"grabbing":i==="select"?"grab":i==="connect"?"crosshair":"default",border:e?"2px solid #007bff":"1px solid #e0e0e0",borderRadius:"2px",boxShadow:I===n.id?"0 0 10px rgba(40, 167, 69, 0.5)":e?"0 0 10px rgba(0, 123, 255, 0.3)":"none",userSelect:"none",transition:"all 0.2s ease"},onMouseDown:F,onContextMenu:b,onDoubleClick:Ue,onMouseEnter:Ve,onMouseLeave:ye,className:`diagram-element ${d?"dragging":""} ${I===n.id?"hovered":""}`,children:[xt(),_t(),V()]}):null},py=({connection:n,fromElement:e,toElement:t,isSelected:o,onSelect:i})=>{if(!n.visible)return null;const r=(T,w,h)=>{const g=T.x+T.width/2,v=T.y+T.height/2,S=h.x+h.width/2,I=h.y+h.height/2,A=S-g,k=I-v;let R=g,L=v;return Math.abs(A)>Math.abs(k)?(R=A>0?T.x+T.width:T.x,L=v):(R=g,L=k>0?T.y+T.height:T.y),{x:R,y:L}},a=r(e,!0,t),u=r(t,!1,e),c=()=>{const{arrowType:T="single"}=n,w=`arrow-${n.id}`,h=n.color||"#666";return _.jsxs("defs",{children:[(T==="single"||T==="double")&&_.jsx("marker",{id:w,markerWidth:"12",markerHeight:"12",refX:"10",refY:"6",orient:"auto",markerUnits:"strokeWidth",children:_.jsx("path",{d:"M2,2 L2,10 L10,6 z",fill:h,stroke:h})}),T==="double"&&_.jsx("marker",{id:`${w}-start`,markerWidth:"12",markerHeight:"12",refX:"2",refY:"6",orient:"auto",markerUnits:"strokeWidth",children:_.jsx("path",{d:"M10,2 L10,10 L2,6 z",fill:h,stroke:h})}),T==="circle"&&_.jsx("marker",{id:w,markerWidth:"10",markerHeight:"10",refX:"5",refY:"5",orient:"auto",markerUnits:"strokeWidth",children:_.jsx("circle",{cx:"5",cy:"5",r:"3",fill:"none",stroke:h,strokeWidth:"2"})}),T==="diamond"&&_.jsx("marker",{id:w,markerWidth:"12",markerHeight:"12",refX:"6",refY:"6",orient:"auto",markerUnits:"strokeWidth",children:_.jsx("path",{d:"M2,6 L6,2 L10,6 L6,10 z",fill:"none",stroke:h,strokeWidth:"2"})})]})},d=()=>{const{lineType:T="straight"}=n;switch(T){case"curved":const w=u.x-a.x,h=u.y-a.y,g=Math.max(50,Math.abs(w)*.3,Math.abs(h)*.3);let v,S,I,A;return Math.abs(w)>Math.abs(h)?(v=a.x+(w>0?g:-g),S=a.y,I=u.x-(w>0?g:-g),A=u.y):(v=a.x,S=a.y+(h>0?g:-g),I=u.x,A=u.y-(h>0?g:-g)),`M ${a.x} ${a.y} C ${v} ${S}, ${I} ${A}, ${u.x} ${u.y}`;case"polyline":const k=a.x+(u.x-a.x)*.5,R=a.y+(u.y-a.y)*.5;return Math.abs(u.x-a.x)>Math.abs(u.y-a.y)?`M ${a.x} ${a.y} L ${k} ${a.y} L ${k} ${u.y} L ${u.x} ${u.y}`:`M ${a.x} ${a.y} L ${a.x} ${R} L ${u.x} ${R} L ${u.x} ${u.y}`;case"orthogonal":return Math.abs(u.x-a.x)>Math.abs(u.y-a.y)?`M ${a.x} ${a.y} L ${u.x} ${a.y} L ${u.x} ${u.y}`:`M ${a.x} ${a.y} L ${a.x} ${u.y} L ${u.x} ${u.y}`;default:return`M ${a.x} ${a.y} L ${u.x} ${u.y}`}},f=()=>{const{lineStyle:T="solid",width:w=2,bold:h=!1}=n;let g="none";switch(T){case"dashed":g="10,5";break;case"dotted":g="3,3";break;case"dashdot":g="10,5,3,5";break}const v=h?Math.max(w*1.5,3):w;return{stroke:n.color||"#666",strokeWidth:v,strokeDasharray:g,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}},p=d(),m=f(),{arrowType:y="single"}=n,C=`arrow-${n.id}`;return _.jsxs("g",{className:`connection-line ${o?"selected":""}`,children:[c(),o&&_.jsx("path",{d:p,stroke:"#007bff",strokeWidth:m.strokeWidth+4,strokeDasharray:"none",fill:"none",opacity:"0.3",style:{pointerEvents:"none"}}),_.jsx("path",{d:p,...m,markerEnd:y!=="none"?`url(#${C})`:void 0,markerStart:y==="double"?`url(#${C}-start)`:void 0,style:{cursor:"pointer",transition:"all 0.2s ease",filter:o?"drop-shadow(0 0 4px rgba(0, 123, 255, 0.5))":"none"},onClick:T=>{T.stopPropagation(),i(n.id)}}),_.jsx("path",{d:p,stroke:"transparent",strokeWidth:"16",fill:"none",style:{cursor:"pointer"},onClick:T=>{T.stopPropagation(),i(n.id)}}),_.jsx("circle",{cx:a.x,cy:a.y,r:"3",fill:n.color||"#666",opacity:o?.8:.4,style:{pointerEvents:"none"}}),_.jsx("circle",{cx:u.x,cy:u.y,r:"3",fill:n.color||"#666",opacity:o?.8:.4,style:{pointerEvents:"none"}})]})},my=({className:n=""})=>{const{elements:e,connections:t,selectedElement:o,selectedConnection:i,setSelectedElement:r,setSelectedConnection:a,updateElement:u,canvasState:c,setCanvasState:d,isProcessing:f}=fi(),p=H.useRef(null),[m,y]=H.useState(!1),[C,T]=H.useState({x:0,y:0}),[w,h]=H.useState({x:0,y:0}),g=k=>{k.target===k.currentTarget&&(r(null),a(null))},v=k=>{k.preventDefault();const R=k.deltaY>0?.9:1.1,L=Math.max(.1,Math.min(3,c.scale*R));d({scale:L})},S=k=>{(k.button===1||k.button===0&&k.ctrlKey)&&(y(!0),T({x:k.clientX,y:k.clientY}),h({x:c.offsetX,y:c.offsetY}),k.preventDefault())};H.useEffect(()=>{const k=L=>{if(m){const F=L.clientX-C.x,b=L.clientY-C.y;d({offsetX:w.x+F,offsetY:w.y+b})}},R=()=>{y(!1)};if(m)return document.addEventListener("mousemove",k),document.addEventListener("mouseup",R),()=>{document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",R)}},[m,C,w,d]);const I=()=>{if(!c.showGrid)return null;const k=20*c.scale,R=c.offsetX%k,L=c.offsetY%k;return _.jsxs("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:0},children:[_.jsx("defs",{children:_.jsx("pattern",{id:"grid",width:k,height:k,patternUnits:"userSpaceOnUse",x:R,y:L,children:_.jsx("path",{d:`M ${k} 0 L 0 0 0 ${k}`,fill:"none",stroke:"#e0e0e0",strokeWidth:"1"})})}),_.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})},A=()=>f?_.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:_.jsxs("div",{style:{padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",textAlign:"center"},children:[_.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #007bff",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),_.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"#333"},children:"AI正在分析图片..."}),_.jsx("div",{style:{fontSize:"14px",color:"#666",marginTop:"8px"},children:"请稍候，这可能需要几秒钟"})]})}):null;return _.jsxs("div",{ref:p,className:`canvas ${n}`,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",backgroundColor:"#ffffff",cursor:m?"grabbing":"default"},onClick:g,onWheel:v,onMouseDown:S,children:[I(),_.jsx("div",{style:{position:"absolute",top:c.offsetY,left:c.offsetX,transform:`scale(${c.scale})`,transformOrigin:"top left",width:"100%",height:"100%",zIndex:2},children:e.map(k=>_.jsx(fy,{element:k,isSelected:o===k.id,onSelect:r,onUpdate:u},k.id))}),c.showConnections&&_.jsx("svg",{style:{position:"absolute",top:c.offsetY,left:c.offsetX,transform:`scale(${c.scale})`,transformOrigin:"top left",width:"100%",height:"100%",pointerEvents:"none",zIndex:1},children:t.map(k=>{const R=e.find(F=>F.id===k.fromElementId),L=e.find(F=>F.id===k.toElementId);return!R||!L?null:_.jsx(py,{connection:k,fromElement:R,toElement:L,isSelected:i===k.id,onSelect:a},k.id)})}),A(),_.jsxs("div",{style:{position:"absolute",bottom:"10px",right:"10px",background:"rgba(0, 0, 0, 0.7)",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",zIndex:100},children:["缩放: ",Math.round(c.scale*100),"% | 元素: ",e.length," | 连接: ",t.length]})]})};var ee;(function(n){n.assertEqual=i=>{};function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const r={};for(const a of i)r[a]=a;return r},n.getValidEnumValues=i=>{const r=n.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),a={};for(const u of r)a[u]=i[u];return n.objectValues(a)},n.objectValues=i=>n.objectKeys(i).map(function(r){return i[r]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const r=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&r.push(a);return r},n.find=(i,r)=>{for(const a of i)if(r(a))return a},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function o(i,r=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(r)}n.joinValues=o,n.jsonStringifyReplacer=(i,r)=>typeof r=="bigint"?r.toString():r})(ee||(ee={}));var Qu;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Qu||(Qu={}));const G=ee.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zt=n=>{switch(typeof n){case"undefined":return G.undefined;case"string":return G.string;case"number":return Number.isNaN(n)?G.nan:G.number;case"boolean":return G.boolean;case"function":return G.function;case"bigint":return G.bigint;case"symbol":return G.symbol;case"object":return Array.isArray(n)?G.array:n===null?G.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?G.promise:typeof Map<"u"&&n instanceof Map?G.map:typeof Set<"u"&&n instanceof Set?G.set:typeof Date<"u"&&n instanceof Date?G.date:G.object;default:return G.unknown}},N=ee.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Lt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(r){return r.message},o={_errors:[]},i=r=>{for(const a of r.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)o._errors.push(t(a));else{let u=o,c=0;for(;c<a.path.length;){const d=a.path[c];c===a.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(t(a))):u[d]=u[d]||{_errors:[]},u=u[d],c++}}};return i(this),o}static assert(e){if(!(e instanceof Lt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ee.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},o=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):o.push(e(i));return{formErrors:o,fieldErrors:t}}get formErrors(){return this.flatten()}}Lt.create=n=>new Lt(n);const hl=(n,e)=>{let t;switch(n.code){case N.invalid_type:n.received===G.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case N.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,ee.jsonStringifyReplacer)}`;break;case N.unrecognized_keys:t=`Unrecognized key(s) in object: ${ee.joinValues(n.keys,", ")}`;break;case N.invalid_union:t="Invalid input";break;case N.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${ee.joinValues(n.options)}`;break;case N.invalid_enum_value:t=`Invalid enum value. Expected ${ee.joinValues(n.options)}, received '${n.received}'`;break;case N.invalid_arguments:t="Invalid function arguments";break;case N.invalid_return_type:t="Invalid function return type";break;case N.invalid_date:t="Invalid date";break;case N.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:ee.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case N.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case N.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case N.custom:t="Invalid input";break;case N.invalid_intersection_types:t="Intersection results could not be merged";break;case N.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case N.not_finite:t="Number must be finite";break;default:t=e.defaultError,ee.assertNever(n)}return{message:t}};let hy=hl;function gy(){return hy}const yy=n=>{const{data:e,path:t,errorMaps:o,issueData:i}=n,r=[...t,...i.path||[]],a={...i,path:r};if(i.message!==void 0)return{...i,path:r,message:i.message};let u="";const c=o.filter(d=>!!d).slice().reverse();for(const d of c)u=d(a,{data:e,defaultError:u}).message;return{...i,path:r,message:u}};function U(n,e){const t=gy(),o=yy({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===hl?void 0:hl].filter(i=>!!i)});n.common.issues.push(o)}class De{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const o=[];for(const i of t){if(i.status==="aborted")return K;i.status==="dirty"&&e.dirty(),o.push(i.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,t){const o=[];for(const i of t){const r=await i.key,a=await i.value;o.push({key:r,value:a})}return De.mergeObjectSync(e,o)}static mergeObjectSync(e,t){const o={};for(const i of t){const{key:r,value:a}=i;if(r.status==="aborted"||a.status==="aborted")return K;r.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),r.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(o[r.value]=a.value)}return{status:e.value,value:o}}}const K=Object.freeze({status:"aborted"}),No=n=>({status:"dirty",value:n}),ot=n=>({status:"valid",value:n}),bu=n=>n.status==="aborted",ju=n=>n.status==="dirty",lo=n=>n.status==="valid",Tr=n=>typeof Promise<"u"&&n instanceof Promise;var B;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(B||(B={}));class Tt{constructor(e,t,o,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=o,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ec=(n,e)=>{if(lo(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Lt(n.common.issues);return this._error=t,this._error}}};function Z(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:o,description:i}=n;if(e&&(t||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,u)=>{const{message:c}=n;return a.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??o??u.defaultError}:a.code!=="invalid_type"?{message:u.defaultError}:{message:c??t??u.defaultError}},description:i}}class Q{get description(){return this._def.description}_getType(e){return zt(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:zt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new De,ctx:{common:e.parent.common,data:e.data,parsedType:zt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Tr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const o=this.safeParse(e,t);if(o.success)return o.data;throw o.error}safeParse(e,t){const o={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zt(e)},i=this._parseSync({data:e,path:o.path,parent:o});return ec(o,i)}"~validate"(e){var o,i;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zt(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:t});return lo(r)?{value:r.value}:{issues:t.common.issues}}catch(r){(i=(o=r==null?void 0:r.message)==null?void 0:o.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(r=>lo(r)?{value:r.value}:{issues:t.common.issues})}async parseAsync(e,t){const o=await this.safeParseAsync(e,t);if(o.success)return o.data;throw o.error}async safeParseAsync(e,t){const o={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zt(e)},i=this._parse({data:e,path:o.path,parent:o}),r=await(Tr(i)?i:Promise.resolve(i));return ec(o,r)}refine(e,t){const o=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,r)=>{const a=e(i),u=()=>r.addIssue({code:N.custom,...o(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(u(),!1)):a?!0:(u(),!1)})}refinement(e,t){return this._refinement((o,i)=>e(o)?!0:(i.addIssue(typeof t=="function"?t(o,i):t),!1))}_refinement(e){return new on({schema:this,typeName:Y.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return jt.create(this,this._def)}nullable(){return fo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ct.create(this)}promise(){return wr.create(this,this._def)}or(e){return _r.create([this,e],this._def)}and(e){return Sr.create(this,e,this._def)}transform(e){return new on({...Z(this._def),schema:this,typeName:Y.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Il({...Z(this._def),innerType:this,defaultValue:t,typeName:Y.ZodDefault})}brand(){return new Gy({typeName:Y.ZodBranded,type:this,...Z(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Ml({...Z(this._def),innerType:this,catchValue:t,typeName:Y.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Fa.create(this,e)}readonly(){return Rl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const vy=/^c[^\s-]{8,}$/i,Cy=/^[0-9a-z]+$/,Ty=/^[0-9A-HJKMNP-TV-Z]{26}$/i,xy=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_y=/^[a-z0-9_-]{21}$/i,Sy=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ey=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wy=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ky="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ts;const Iy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,My=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ay=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ry=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Py=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ny=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Dp="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Dy=new RegExp(`^${Dp}$`);function Lp(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function Ly(n){return new RegExp(`^${Lp(n)}$`)}function Fy(n){let e=`${Dp}T${Lp(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Uy(n,e){return!!((e==="v4"||!e)&&Iy.test(n)||(e==="v6"||!e)&&Ay.test(n))}function Vy(n,e){if(!Sy.test(n))return!1;try{const[t]=n.split("."),o=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),i=JSON.parse(atob(o));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function $y(n,e){return!!((e==="v4"||!e)&&My.test(n)||(e==="v6"||!e)&&Ry.test(n))}class gt extends Q{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==G.string){const r=this._getOrReturnCtx(e);return U(r,{code:N.invalid_type,expected:G.string,received:r.parsedType}),K}const o=new De;let i;for(const r of this._def.checks)if(r.kind==="min")e.data.length<r.value&&(i=this._getOrReturnCtx(e,i),U(i,{code:N.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),o.dirty());else if(r.kind==="max")e.data.length>r.value&&(i=this._getOrReturnCtx(e,i),U(i,{code:N.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),o.dirty());else if(r.kind==="length"){const a=e.data.length>r.value,u=e.data.length<r.value;(a||u)&&(i=this._getOrReturnCtx(e,i),a?U(i,{code:N.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):u&&U(i,{code:N.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),o.dirty())}else if(r.kind==="email")wy.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"email",code:N.invalid_string,message:r.message}),o.dirty());else if(r.kind==="emoji")Ts||(Ts=new RegExp(ky,"u")),Ts.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"emoji",code:N.invalid_string,message:r.message}),o.dirty());else if(r.kind==="uuid")xy.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"uuid",code:N.invalid_string,message:r.message}),o.dirty());else if(r.kind==="nanoid")_y.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"nanoid",code:N.invalid_string,message:r.message}),o.dirty());else if(r.kind==="cuid")vy.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"cuid",code:N.invalid_string,message:r.message}),o.dirty());else if(r.kind==="cuid2")Cy.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"cuid2",code:N.invalid_string,message:r.message}),o.dirty());else if(r.kind==="ulid")Ty.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"ulid",code:N.invalid_string,message:r.message}),o.dirty());else if(r.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),U(i,{validation:"url",code:N.invalid_string,message:r.message}),o.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"regex",code:N.invalid_string,message:r.message}),o.dirty())):r.kind==="trim"?e.data=e.data.trim():r.kind==="includes"?e.data.includes(r.value,r.position)||(i=this._getOrReturnCtx(e,i),U(i,{code:N.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),o.dirty()):r.kind==="toLowerCase"?e.data=e.data.toLowerCase():r.kind==="toUpperCase"?e.data=e.data.toUpperCase():r.kind==="startsWith"?e.data.startsWith(r.value)||(i=this._getOrReturnCtx(e,i),U(i,{code:N.invalid_string,validation:{startsWith:r.value},message:r.message}),o.dirty()):r.kind==="endsWith"?e.data.endsWith(r.value)||(i=this._getOrReturnCtx(e,i),U(i,{code:N.invalid_string,validation:{endsWith:r.value},message:r.message}),o.dirty()):r.kind==="datetime"?Fy(r).test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{code:N.invalid_string,validation:"datetime",message:r.message}),o.dirty()):r.kind==="date"?Dy.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{code:N.invalid_string,validation:"date",message:r.message}),o.dirty()):r.kind==="time"?Ly(r).test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{code:N.invalid_string,validation:"time",message:r.message}),o.dirty()):r.kind==="duration"?Ey.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"duration",code:N.invalid_string,message:r.message}),o.dirty()):r.kind==="ip"?Uy(e.data,r.version)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"ip",code:N.invalid_string,message:r.message}),o.dirty()):r.kind==="jwt"?Vy(e.data,r.alg)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"jwt",code:N.invalid_string,message:r.message}),o.dirty()):r.kind==="cidr"?$y(e.data,r.version)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"cidr",code:N.invalid_string,message:r.message}),o.dirty()):r.kind==="base64"?Py.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"base64",code:N.invalid_string,message:r.message}),o.dirty()):r.kind==="base64url"?Ny.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"base64url",code:N.invalid_string,message:r.message}),o.dirty()):ee.assertNever(r);return{status:o.value,value:e.data}}_regex(e,t,o){return this.refinement(i=>e.test(i),{validation:t,code:N.invalid_string,...B.errToObj(o)})}_addCheck(e){return new gt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...B.errToObj(e)})}url(e){return this._addCheck({kind:"url",...B.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...B.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...B.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...B.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...B.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...B.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...B.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...B.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...B.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...B.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...B.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...B.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...B.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...B.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...B.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...B.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...B.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...B.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...B.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...B.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...B.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...B.errToObj(t)})}nonempty(e){return this.min(1,B.errToObj(e))}trim(){return new gt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}gt.create=n=>new gt({checks:[],typeName:Y.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...Z(n)});function zy(n,e){const t=(n.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,i=t>o?t:o,r=Number.parseInt(n.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return r%a/10**i}class En extends Q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==G.number){const r=this._getOrReturnCtx(e);return U(r,{code:N.invalid_type,expected:G.number,received:r.parsedType}),K}let o;const i=new De;for(const r of this._def.checks)r.kind==="int"?ee.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),U(o,{code:N.invalid_type,expected:"integer",received:"float",message:r.message}),i.dirty()):r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(o=this._getOrReturnCtx(e,o),U(o,{code:N.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(o=this._getOrReturnCtx(e,o),U(o,{code:N.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="multipleOf"?zy(e.data,r.value)!==0&&(o=this._getOrReturnCtx(e,o),U(o,{code:N.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):r.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),U(o,{code:N.not_finite,message:r.message}),i.dirty()):ee.assertNever(r);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,B.toString(t))}gt(e,t){return this.setLimit("min",e,!1,B.toString(t))}lte(e,t){return this.setLimit("max",e,!0,B.toString(t))}lt(e,t){return this.setLimit("max",e,!1,B.toString(t))}setLimit(e,t,o,i){return new En({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:o,message:B.toString(i)}]})}_addCheck(e){return new En({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:B.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:B.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:B.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:B.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:B.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ee.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(t===null||o.value>t)&&(t=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(t)&&Number.isFinite(e)}}En.create=n=>new En({checks:[],typeName:Y.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Z(n)});class wn extends Q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==G.bigint)return this._getInvalidInput(e);let o;const i=new De;for(const r of this._def.checks)r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(o=this._getOrReturnCtx(e,o),U(o,{code:N.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(o=this._getOrReturnCtx(e,o),U(o,{code:N.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="multipleOf"?e.data%r.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),U(o,{code:N.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):ee.assertNever(r);return{status:i.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return U(t,{code:N.invalid_type,expected:G.bigint,received:t.parsedType}),K}gte(e,t){return this.setLimit("min",e,!0,B.toString(t))}gt(e,t){return this.setLimit("min",e,!1,B.toString(t))}lte(e,t){return this.setLimit("max",e,!0,B.toString(t))}lt(e,t){return this.setLimit("max",e,!1,B.toString(t))}setLimit(e,t,o,i){return new wn({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:o,message:B.toString(i)}]})}_addCheck(e){return new wn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:B.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}wn.create=n=>new wn({checks:[],typeName:Y.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...Z(n)});class xr extends Q{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==G.boolean){const o=this._getOrReturnCtx(e);return U(o,{code:N.invalid_type,expected:G.boolean,received:o.parsedType}),K}return ot(e.data)}}xr.create=n=>new xr({typeName:Y.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Z(n)});class ao extends Q{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==G.date){const r=this._getOrReturnCtx(e);return U(r,{code:N.invalid_type,expected:G.date,received:r.parsedType}),K}if(Number.isNaN(e.data.getTime())){const r=this._getOrReturnCtx(e);return U(r,{code:N.invalid_date}),K}const o=new De;let i;for(const r of this._def.checks)r.kind==="min"?e.data.getTime()<r.value&&(i=this._getOrReturnCtx(e,i),U(i,{code:N.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),o.dirty()):r.kind==="max"?e.data.getTime()>r.value&&(i=this._getOrReturnCtx(e,i),U(i,{code:N.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),o.dirty()):ee.assertNever(r);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ao({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:B.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:B.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}ao.create=n=>new ao({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Y.ZodDate,...Z(n)});class gl extends Q{_parse(e){if(this._getType(e)!==G.symbol){const o=this._getOrReturnCtx(e);return U(o,{code:N.invalid_type,expected:G.symbol,received:o.parsedType}),K}return ot(e.data)}}gl.create=n=>new gl({typeName:Y.ZodSymbol,...Z(n)});class yl extends Q{_parse(e){if(this._getType(e)!==G.undefined){const o=this._getOrReturnCtx(e);return U(o,{code:N.invalid_type,expected:G.undefined,received:o.parsedType}),K}return ot(e.data)}}yl.create=n=>new yl({typeName:Y.ZodUndefined,...Z(n)});class vl extends Q{_parse(e){if(this._getType(e)!==G.null){const o=this._getOrReturnCtx(e);return U(o,{code:N.invalid_type,expected:G.null,received:o.parsedType}),K}return ot(e.data)}}vl.create=n=>new vl({typeName:Y.ZodNull,...Z(n)});class Cl extends Q{constructor(){super(...arguments),this._any=!0}_parse(e){return ot(e.data)}}Cl.create=n=>new Cl({typeName:Y.ZodAny,...Z(n)});class Tl extends Q{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ot(e.data)}}Tl.create=n=>new Tl({typeName:Y.ZodUnknown,...Z(n)});class nn extends Q{_parse(e){const t=this._getOrReturnCtx(e);return U(t,{code:N.invalid_type,expected:G.never,received:t.parsedType}),K}}nn.create=n=>new nn({typeName:Y.ZodNever,...Z(n)});class xl extends Q{_parse(e){if(this._getType(e)!==G.undefined){const o=this._getOrReturnCtx(e);return U(o,{code:N.invalid_type,expected:G.void,received:o.parsedType}),K}return ot(e.data)}}xl.create=n=>new xl({typeName:Y.ZodVoid,...Z(n)});class Ct extends Q{_parse(e){const{ctx:t,status:o}=this._processInputParams(e),i=this._def;if(t.parsedType!==G.array)return U(t,{code:N.invalid_type,expected:G.array,received:t.parsedType}),K;if(i.exactLength!==null){const a=t.data.length>i.exactLength.value,u=t.data.length<i.exactLength.value;(a||u)&&(U(t,{code:a?N.too_big:N.too_small,minimum:u?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),o.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(U(t,{code:N.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),o.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(U(t,{code:N.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),o.dirty()),t.common.async)return Promise.all([...t.data].map((a,u)=>i.type._parseAsync(new Tt(t,a,t.path,u)))).then(a=>De.mergeArray(o,a));const r=[...t.data].map((a,u)=>i.type._parseSync(new Tt(t,a,t.path,u)));return De.mergeArray(o,r)}get element(){return this._def.type}min(e,t){return new Ct({...this._def,minLength:{value:e,message:B.toString(t)}})}max(e,t){return new Ct({...this._def,maxLength:{value:e,message:B.toString(t)}})}length(e,t){return new Ct({...this._def,exactLength:{value:e,message:B.toString(t)}})}nonempty(e){return this.min(1,e)}}Ct.create=(n,e)=>new Ct({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Y.ZodArray,...Z(e)});function Nn(n){if(n instanceof pe){const e={};for(const t in n.shape){const o=n.shape[t];e[t]=jt.create(Nn(o))}return new pe({...n._def,shape:()=>e})}else return n instanceof Ct?new Ct({...n._def,type:Nn(n.element)}):n instanceof jt?jt.create(Nn(n.unwrap())):n instanceof fo?fo.create(Nn(n.unwrap())):n instanceof kn?kn.create(n.items.map(e=>Nn(e))):n}class pe extends Q{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=ee.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==G.object){const d=this._getOrReturnCtx(e);return U(d,{code:N.invalid_type,expected:G.object,received:d.parsedType}),K}const{status:o,ctx:i}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),u=[];if(!(this._def.catchall instanceof nn&&this._def.unknownKeys==="strip"))for(const d in i.data)a.includes(d)||u.push(d);const c=[];for(const d of a){const f=r[d],p=i.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new Tt(i,p,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof nn){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of u)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(d==="strict")u.length>0&&(U(i,{code:N.unrecognized_keys,keys:u}),o.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of u){const p=i.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new Tt(i,p,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const p=await f.key,m=await f.value;d.push({key:p,value:m,alwaysSet:f.alwaysSet})}return d}).then(d=>De.mergeObjectSync(o,d)):De.mergeObjectSync(o,c)}get shape(){return this._def.shape()}strict(e){return B.errToObj,new pe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,o)=>{var r,a;const i=((a=(r=this._def).errorMap)==null?void 0:a.call(r,t,o).message)??o.defaultError;return t.code==="unrecognized_keys"?{message:B.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new pe({...this._def,unknownKeys:"strip"})}passthrough(){return new pe({...this._def,unknownKeys:"passthrough"})}extend(e){return new pe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new pe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Y.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new pe({...this._def,catchall:e})}pick(e){const t={};for(const o of ee.objectKeys(e))e[o]&&this.shape[o]&&(t[o]=this.shape[o]);return new pe({...this._def,shape:()=>t})}omit(e){const t={};for(const o of ee.objectKeys(this.shape))e[o]||(t[o]=this.shape[o]);return new pe({...this._def,shape:()=>t})}deepPartial(){return Nn(this)}partial(e){const t={};for(const o of ee.objectKeys(this.shape)){const i=this.shape[o];e&&!e[o]?t[o]=i:t[o]=i.optional()}return new pe({...this._def,shape:()=>t})}required(e){const t={};for(const o of ee.objectKeys(this.shape))if(e&&!e[o])t[o]=this.shape[o];else{let r=this.shape[o];for(;r instanceof jt;)r=r._def.innerType;t[o]=r}return new pe({...this._def,shape:()=>t})}keyof(){return Fp(ee.objectKeys(this.shape))}}pe.create=(n,e)=>new pe({shape:()=>n,unknownKeys:"strip",catchall:nn.create(),typeName:Y.ZodObject,...Z(e)});pe.strictCreate=(n,e)=>new pe({shape:()=>n,unknownKeys:"strict",catchall:nn.create(),typeName:Y.ZodObject,...Z(e)});pe.lazycreate=(n,e)=>new pe({shape:n,unknownKeys:"strip",catchall:nn.create(),typeName:Y.ZodObject,...Z(e)});class _r extends Q{_parse(e){const{ctx:t}=this._processInputParams(e),o=this._def.options;function i(r){for(const u of r)if(u.result.status==="valid")return u.result;for(const u of r)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const a=r.map(u=>new Lt(u.ctx.common.issues));return U(t,{code:N.invalid_union,unionErrors:a}),K}if(t.common.async)return Promise.all(o.map(async r=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await r._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(i);{let r;const a=[];for(const c of o){const d={...t,common:{...t.common,issues:[]},parent:null},f=c._parseSync({data:t.data,path:t.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!r&&(r={result:f,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(r)return t.common.issues.push(...r.ctx.common.issues),r.result;const u=a.map(c=>new Lt(c));return U(t,{code:N.invalid_union,unionErrors:u}),K}}get options(){return this._def.options}}_r.create=(n,e)=>new _r({options:n,typeName:Y.ZodUnion,...Z(e)});function _l(n,e){const t=zt(n),o=zt(e);if(n===e)return{valid:!0,data:n};if(t===G.object&&o===G.object){const i=ee.objectKeys(e),r=ee.objectKeys(n).filter(u=>i.indexOf(u)!==-1),a={...n,...e};for(const u of r){const c=_l(n[u],e[u]);if(!c.valid)return{valid:!1};a[u]=c.data}return{valid:!0,data:a}}else if(t===G.array&&o===G.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let r=0;r<n.length;r++){const a=n[r],u=e[r],c=_l(a,u);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return t===G.date&&o===G.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Sr extends Q{_parse(e){const{status:t,ctx:o}=this._processInputParams(e),i=(r,a)=>{if(bu(r)||bu(a))return K;const u=_l(r.value,a.value);return u.valid?((ju(r)||ju(a))&&t.dirty(),{status:t.value,value:u.data}):(U(o,{code:N.invalid_intersection_types}),K)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([r,a])=>i(r,a)):i(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}Sr.create=(n,e,t)=>new Sr({left:n,right:e,typeName:Y.ZodIntersection,...Z(t)});class kn extends Q{_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==G.array)return U(o,{code:N.invalid_type,expected:G.array,received:o.parsedType}),K;if(o.data.length<this._def.items.length)return U(o,{code:N.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),K;!this._def.rest&&o.data.length>this._def.items.length&&(U(o,{code:N.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...o.data].map((a,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new Tt(o,a,o.path,u)):null}).filter(a=>!!a);return o.common.async?Promise.all(r).then(a=>De.mergeArray(t,a)):De.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new kn({...this._def,rest:e})}}kn.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new kn({items:n,typeName:Y.ZodTuple,rest:null,...Z(e)})};class Er extends Q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==G.object)return U(o,{code:N.invalid_type,expected:G.object,received:o.parsedType}),K;const i=[],r=this._def.keyType,a=this._def.valueType;for(const u in o.data)i.push({key:r._parse(new Tt(o,u,o.path,u)),value:a._parse(new Tt(o,o.data[u],o.path,u)),alwaysSet:u in o.data});return o.common.async?De.mergeObjectAsync(t,i):De.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,o){return t instanceof Q?new Er({keyType:e,valueType:t,typeName:Y.ZodRecord,...Z(o)}):new Er({keyType:gt.create(),valueType:e,typeName:Y.ZodRecord,...Z(t)})}}class Sl extends Q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==G.map)return U(o,{code:N.invalid_type,expected:G.map,received:o.parsedType}),K;const i=this._def.keyType,r=this._def.valueType,a=[...o.data.entries()].map(([u,c],d)=>({key:i._parse(new Tt(o,u,o.path,[d,"key"])),value:r._parse(new Tt(o,c,o.path,[d,"value"]))}));if(o.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of a){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return K;(d.status==="dirty"||f.status==="dirty")&&t.dirty(),u.set(d.value,f.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const c of a){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return K;(d.status==="dirty"||f.status==="dirty")&&t.dirty(),u.set(d.value,f.value)}return{status:t.value,value:u}}}}Sl.create=(n,e,t)=>new Sl({valueType:e,keyType:n,typeName:Y.ZodMap,...Z(t)});class uo extends Q{_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==G.set)return U(o,{code:N.invalid_type,expected:G.set,received:o.parsedType}),K;const i=this._def;i.minSize!==null&&o.data.size<i.minSize.value&&(U(o,{code:N.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&o.data.size>i.maxSize.value&&(U(o,{code:N.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const r=this._def.valueType;function a(c){const d=new Set;for(const f of c){if(f.status==="aborted")return K;f.status==="dirty"&&t.dirty(),d.add(f.value)}return{status:t.value,value:d}}const u=[...o.data.values()].map((c,d)=>r._parse(new Tt(o,c,o.path,d)));return o.common.async?Promise.all(u).then(c=>a(c)):a(u)}min(e,t){return new uo({...this._def,minSize:{value:e,message:B.toString(t)}})}max(e,t){return new uo({...this._def,maxSize:{value:e,message:B.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}uo.create=(n,e)=>new uo({valueType:n,minSize:null,maxSize:null,typeName:Y.ZodSet,...Z(e)});class El extends Q{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}El.create=(n,e)=>new El({getter:n,typeName:Y.ZodLazy,...Z(e)});class wl extends Q{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return U(t,{received:t.data,code:N.invalid_literal,expected:this._def.value}),K}return{status:"valid",value:e.data}}get value(){return this._def.value}}wl.create=(n,e)=>new wl({value:n,typeName:Y.ZodLiteral,...Z(e)});function Fp(n,e){return new co({values:n,typeName:Y.ZodEnum,...Z(e)})}class co extends Q{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),o=this._def.values;return U(t,{expected:ee.joinValues(o),received:t.parsedType,code:N.invalid_type}),K}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),o=this._def.values;return U(t,{received:t.data,code:N.invalid_enum_value,options:o}),K}return ot(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return co.create(e,{...this._def,...t})}exclude(e,t=this._def){return co.create(this.options.filter(o=>!e.includes(o)),{...this._def,...t})}}co.create=Fp;class kl extends Q{_parse(e){const t=ee.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==G.string&&o.parsedType!==G.number){const i=ee.objectValues(t);return U(o,{expected:ee.joinValues(i),received:o.parsedType,code:N.invalid_type}),K}if(this._cache||(this._cache=new Set(ee.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=ee.objectValues(t);return U(o,{received:o.data,code:N.invalid_enum_value,options:i}),K}return ot(e.data)}get enum(){return this._def.values}}kl.create=(n,e)=>new kl({values:n,typeName:Y.ZodNativeEnum,...Z(e)});class wr extends Q{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==G.promise&&t.common.async===!1)return U(t,{code:N.invalid_type,expected:G.promise,received:t.parsedType}),K;const o=t.parsedType===G.promise?t.data:Promise.resolve(t.data);return ot(o.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}wr.create=(n,e)=>new wr({type:n,typeName:Y.ZodPromise,...Z(e)});class on extends Q{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:o}=this._processInputParams(e),i=this._def.effect||null,r={addIssue:a=>{U(o,a),a.fatal?t.abort():t.dirty()},get path(){return o.path}};if(r.addIssue=r.addIssue.bind(r),i.type==="preprocess"){const a=i.transform(o.data,r);if(o.common.async)return Promise.resolve(a).then(async u=>{if(t.value==="aborted")return K;const c=await this._def.schema._parseAsync({data:u,path:o.path,parent:o});return c.status==="aborted"?K:c.status==="dirty"||t.value==="dirty"?No(c.value):c});{if(t.value==="aborted")return K;const u=this._def.schema._parseSync({data:a,path:o.path,parent:o});return u.status==="aborted"?K:u.status==="dirty"||t.value==="dirty"?No(u.value):u}}if(i.type==="refinement"){const a=u=>{const c=i.refinement(u,r);if(o.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(o.common.async===!1){const u=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return u.status==="aborted"?K:(u.status==="dirty"&&t.dirty(),a(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(u=>u.status==="aborted"?K:(u.status==="dirty"&&t.dirty(),a(u.value).then(()=>({status:t.value,value:u.value}))))}if(i.type==="transform")if(o.common.async===!1){const a=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!lo(a))return K;const u=i.transform(a.value,r);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(a=>lo(a)?Promise.resolve(i.transform(a.value,r)).then(u=>({status:t.value,value:u})):K);ee.assertNever(i)}}on.create=(n,e,t)=>new on({schema:n,typeName:Y.ZodEffects,effect:e,...Z(t)});on.createWithPreprocess=(n,e,t)=>new on({schema:e,effect:{type:"preprocess",transform:n},typeName:Y.ZodEffects,...Z(t)});class jt extends Q{_parse(e){return this._getType(e)===G.undefined?ot(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}jt.create=(n,e)=>new jt({innerType:n,typeName:Y.ZodOptional,...Z(e)});class fo extends Q{_parse(e){return this._getType(e)===G.null?ot(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fo.create=(n,e)=>new fo({innerType:n,typeName:Y.ZodNullable,...Z(e)});class Il extends Q{_parse(e){const{ctx:t}=this._processInputParams(e);let o=t.data;return t.parsedType===G.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Il.create=(n,e)=>new Il({innerType:n,typeName:Y.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Z(e)});class Ml extends Q{_parse(e){const{ctx:t}=this._processInputParams(e),o={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return Tr(i)?i.then(r=>({status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Lt(o.common.issues)},input:o.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Lt(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}Ml.create=(n,e)=>new Ml({innerType:n,typeName:Y.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Z(e)});class Al extends Q{_parse(e){if(this._getType(e)!==G.nan){const o=this._getOrReturnCtx(e);return U(o,{code:N.invalid_type,expected:G.nan,received:o.parsedType}),K}return{status:"valid",value:e.data}}}Al.create=n=>new Al({typeName:Y.ZodNaN,...Z(n)});class Gy extends Q{_parse(e){const{ctx:t}=this._processInputParams(e),o=t.data;return this._def.type._parse({data:o,path:t.path,parent:t})}unwrap(){return this._def.type}}class Fa extends Q{_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{const r=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return r.status==="aborted"?K:r.status==="dirty"?(t.dirty(),No(r.value)):this._def.out._parseAsync({data:r.value,path:o.path,parent:o})})();{const i=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return i.status==="aborted"?K:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:o.path,parent:o})}}static create(e,t){return new Fa({in:e,out:t,typeName:Y.ZodPipeline})}}class Rl extends Q{_parse(e){const t=this._def.innerType._parse(e),o=i=>(lo(i)&&(i.value=Object.freeze(i.value)),i);return Tr(t)?t.then(i=>o(i)):o(t)}unwrap(){return this._def.innerType}}Rl.create=(n,e)=>new Rl({innerType:n,typeName:Y.ZodReadonly,...Z(e)});pe.lazycreate;var Y;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Y||(Y={}));const dn=gt.create,tc=En.create;Al.create;wn.create;const By=xr.create;ao.create;gl.create;yl.create;vl.create;Cl.create;const nc=Tl.create;nn.create;xl.create;const Do=Ct.create,Oy=pe.create;pe.strictCreate;const Hy=_r.create;Sr.create;kn.create;const Wy=Er.create;Sl.create;uo.create;const qy=El.create;wl.create;const Yy=co.create;kl.create;wr.create;on.create;jt.create;fo.create;on.createWithPreprocess;const Pn={string:n=>gt.create({...n,coerce:!0}),number:n=>En.create({...n,coerce:!0}),boolean:n=>xr.create({...n,coerce:!0}),bigint:n=>wn.create({...n,coerce:!0}),date:n=>ao.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Jy,Ky;function Zy(){return{geminiUrl:Jy,vertexUrl:Ky}}function Xy(n,e,t){var o,i,r;if(!(!((o=n.httpOptions)===null||o===void 0)&&o.baseUrl)){const a=Zy();return n.vertexai?(i=a.vertexUrl)!==null&&i!==void 0?i:e:(r=a.geminiUrl)!==null&&r!==void 0?r:t}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yo{}function q(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(o,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const r=e[i];return r!=null?String(r):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function l(n,e,t){for(let r=0;r<e.length-1;r++){const a=e[r];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[u])){const c=n[u];if(Array.isArray(t))for(let d=0;d<c.length;d++){const f=c[d];l(f,e.slice(r+1),t[d])}else for(const d of c)l(d,e.slice(r+1),t)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in n||(n[u]=[{}]);const c=n[u];l(c[0],e.slice(r+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const o=e[e.length-1],i=n[o];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else n[o]=t}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const o=e[t];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in n){const r=n[i];return Array.isArray(r)?r.map(a=>s(a,e.slice(t+1))):void 0}else return}else n=n[o]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oc;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(oc||(oc={}));var ic;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(ic||(ic={}));var $;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})($||($={}));var rc;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(rc||(rc={}));var sc;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(sc||(sc={}));var lc;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(lc||(lc={}));var ac;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ac||(ac={}));var uc;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(uc||(uc={}));var cc;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(cc||(cc={}));var dc;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(dc||(dc={}));var fc;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(fc||(fc={}));var pc;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(pc||(pc={}));var mc;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(mc||(mc={}));var kr;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(kr||(kr={}));var hc;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(hc||(hc={}));var Pl;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Pl||(Pl={}));var gc;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(gc||(gc={}));var yc;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(yc||(yc={}));var vc;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(vc||(vc={}));var Cc;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Cc||(Cc={}));var Tc;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Tc||(Tc={}));var xc;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(xc||(xc={}));var _c;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(_c||(_c={}));var Sc;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Sc||(Sc={}));var Ec;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(Ec||(Ec={}));var wc;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(wc||(wc={}));var kc;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(kc||(kc={}));var Ic;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ic||(Ic={}));var Mc;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Mc||(Mc={}));var Ac;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Ac||(Ac={}));var Rc;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Rc||(Rc={}));var Pc;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Pc||(Pc={}));var Nc;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Nc||(Nc={}));var Dc;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Dc||(Dc={}));var Lc;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Lc||(Lc={}));var Fc;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Fc||(Fc={}));var Uc;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Uc||(Uc={}));var Vc;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Vc||(Vc={}));var qn;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(qn||(qn={}));class Io{get text(){var e,t,o,i,r,a,u,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const p=[];for(const m of(c=(u=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[y,C]of Object.entries(m))y!=="text"&&y!=="thought"&&(C!==null||C!==void 0)&&p.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,d+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,t,o,i,r,a,u,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const p of(c=(u=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[m,y]of Object.entries(p))m!=="inlineData"&&(y!==null||y!==void 0)&&f.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,t,o,i,r,a,u,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,t,o,i,r,a,u,c,d;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,t,o,i,r,a,u,c,d;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class $c{}class zc{}class Qy{}class by{}class Gc{}class Bc{}class Oc{}class jy{}class Hc{}class Wc{}class qc{}class ev{}class Nl{constructor(e){const t={};for(const o of e.headers.entries())t[o[0]]=o[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class tv{}class nv{}class ov{get text(){var e,t,o;let i="",r=!1;const a=[];for(const u of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&a.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;r=!0,i+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?i:void 0}get data(){var e,t,o;let i="";const r=[];for(const a of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(a))u!=="inlineData"&&c!==null&&r.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class iv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Up(n,e){const t=oe(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function Vp(n,e){return Array.isArray(e)?e.map(t=>Ir(n,t)):[Ir(n,e)]}function Ir(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function rv(n,e){const t=Ir(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function sv(n,e){const t=Ir(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Yc(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function $p(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Yc(n,t)):[Yc(n,e)]}function Dl(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Jc(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Kc(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Pe(n,e){if(e==null)throw new Error("ContentUnion is required");return Dl(e)?e:{role:"user",parts:$p(n,e)}}function zp(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const o=Pe(n,t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const t=Pe(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Pe(n,t)):[Pe(n,e)]}function dt(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Jc(e)||Kc(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Pe(n,e)]}const t=[],o=[],i=Dl(e[0]);for(const r of e){const a=Dl(r);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(r);else{if(Jc(r)||Kc(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return i||t.push({role:"user",parts:$p(n,o)}),t}const lv=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Zc=Yy(["string","number","integer","object","array","boolean","null"]),av=Hy([Zc,Do(Zc)]);function uv(n=!0){const e=qy(()=>{const t=Oy({type:av.optional(),format:dn().optional(),title:dn().optional(),description:dn().optional(),default:nc().optional(),items:e.optional(),minItems:Pn.string().optional(),maxItems:Pn.string().optional(),enum:Do(nc()).optional(),properties:Wy(dn(),e).optional(),required:Do(dn()).optional(),minProperties:Pn.string().optional(),maxProperties:Pn.string().optional(),propertyOrdering:Do(dn()).optional(),minimum:tc().optional(),maximum:tc().optional(),minLength:Pn.string().optional(),maxLength:Pn.string().optional(),pattern:dn().optional(),anyOf:Do(e).optional(),additionalProperties:By().optional()});return n?t.strict():t});return e}function cv(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(o=>o!=="null");if(t.length===1)e.type=Object.keys($).includes(t[0].toUpperCase())?$[t[0].toUpperCase()]:$.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of t)e.anyOf.push({type:Object.keys($).includes(o.toUpperCase())?$[o.toUpperCase()]:$.TYPE_UNSPECIFIED})}}function bn(n){const e={},t=["items"],o=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=n.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,n=r[1]):r[1].type==="null"&&(e.nullable=!0,n=r[0])),n.type instanceof Array&&cv(n.type,e);for(const[a,u]of Object.entries(n))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.keys($).includes(u.toUpperCase())?u.toUpperCase():$.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=bn(u);else if(o.includes(a)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(bn(d))}e[a]=c}else if(i.includes(a)){const c={};for(const[d,f]of Object.entries(u))c[d]=bn(f);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=u}return e}function Mr(n,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=uv().parse(e);return bn(t)}else return bn(e)}function Gp(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Ua(n,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function pi(n,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=Mr(n,t.parameters)),t.response&&(t.response=Mr(n,t.response));return e}function mi(n,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of e)t.push(o);return t}function dv(n,e,t,o=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function an(n,e){if(typeof e!="string")throw new Error("name must be a string");return dv(n,e,"cachedContents")}function Bp(n,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function un(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function fv(n){return n!=null&&typeof n=="object"&&"name"in n}function pv(n){return n!=null&&typeof n=="object"&&"video"in n}function mv(n){return n!=null&&typeof n=="object"&&"uri"in n}function Op(n,e){var t;let o;if(fv(e)&&(o=e.name),!(mv(e)&&(o=e.uri,o===void 0))&&!(pv(e)&&(o=(t=e.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof e=="string"&&(o=e),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Hp(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function Wp(n,e){for(const t of["models","tunedModels","publisherModels"])if(hv(e,t))return e[t];return[]}function hv(n,e){return n!==null&&typeof n=="object"&&e in n}function gv(n,e={}){const t=n,o={name:t.name,description:t.description,parameters:bn(qr(t.inputSchema))};return e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function yv(n,e={}){const t=[],o=new Set;for(const i of n){const r=i.name;if(o.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);o.add(r);const a=gv(i,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function vv(n){const e=[];for(const t of n)e.push(qr(t));return e}function Cv(n){const e={};for(const[t,o]of Object.entries(n)){const i=o;e[t]=qr(i)}return e}function qr(n){const e=new Set(["items"]),t=new Set(["anyOf"]),o=new Set(["properties"]),i={};for(const[r,a]of Object.entries(n))if(e.has(r))i[r]=qr(a);else if(t.has(r))i[r]=vv(a);else if(o.has(r))i[r]=Cv(a);else if(r==="type"){const u=a.toUpperCase();i[r]=Object.keys($).includes(u)?u:$.TYPE_UNSPECIFIED}else lv.has(r)&&(i[r]=a);return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tv(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function xv(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["data"]);o!=null&&l(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function _v(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["fileUri"]);o!=null&&l(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function Sv(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],Tv(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],xv(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],_v(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const d=s(e,["executableCode"]);d!=null&&l(t,["executableCode"],d);const f=s(e,["functionCall"]);f!=null&&l(t,["functionCall"],f);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function Xc(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>Sv(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function Ev(n,e){const t={},o=s(e,["behavior"]);o!=null&&l(t,["behavior"],o);const i=s(e,["description"]);i!=null&&l(t,["description"],i);const r=s(e,["name"]);r!=null&&l(t,["name"],r);const a=s(e,["parameters"]);a!=null&&l(t,["parameters"],a);const u=s(e,["response"]);return u!=null&&l(t,["response"],u),t}function wv(n,e){const t={},o=s(e,["startTime"]);o!=null&&l(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function kv(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&l(t,["timeRangeFilter"],wv(n,o)),t}function Iv(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function Mv(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],Iv(n,o)),t}function Av(){return{}}function Rv(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Ev(n,d))),l(t,["functionDeclarations"],c)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearch"]);i!=null&&l(t,["googleSearch"],kv(n,i));const r=s(e,["googleSearchRetrieval"]);if(r!=null&&l(t,["googleSearchRetrieval"],Mv(n,r)),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(e,["urlContext"])!=null&&l(t,["urlContext"],Av());const u=s(e,["codeExecution"]);return u!=null&&l(t,["codeExecution"],u),t}function Pv(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["allowedFunctionNames"]);return i!=null&&l(t,["allowedFunctionNames"],i),t}function Nv(n,e){const t={},o=s(e,["latitude"]);o!=null&&l(t,["latitude"],o);const i=s(e,["longitude"]);return i!=null&&l(t,["longitude"],i),t}function Dv(n,e){const t={},o=s(e,["latLng"]);o!=null&&l(t,["latLng"],Nv(n,o));const i=s(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function Lv(n,e){const t={},o=s(e,["functionCallingConfig"]);o!=null&&l(t,["functionCallingConfig"],Pv(n,o));const i=s(e,["retrievalConfig"]);return i!=null&&l(t,["retrievalConfig"],Dv(n,i)),t}function Fv(n,e,t){const o={},i=s(e,["ttl"]);t!==void 0&&i!=null&&l(t,["ttl"],i);const r=s(e,["expireTime"]);t!==void 0&&r!=null&&l(t,["expireTime"],r);const a=s(e,["displayName"]);t!==void 0&&a!=null&&l(t,["displayName"],a);const u=s(e,["contents"]);if(t!==void 0&&u!=null){let p=dt(n,u);Array.isArray(p)&&(p=p.map(m=>Xc(n,m))),l(t,["contents"],p)}const c=s(e,["systemInstruction"]);t!==void 0&&c!=null&&l(t,["systemInstruction"],Xc(n,Pe(n,c)));const d=s(e,["tools"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>Rv(n,m))),l(t,["tools"],p)}const f=s(e,["toolConfig"]);if(t!==void 0&&f!=null&&l(t,["toolConfig"],Lv(n,f)),s(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function Uv(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["model"],Up(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],Fv(n,i,t)),t}function Vv(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","name"],an(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function $v(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","name"],an(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function zv(n,e,t){const o={},i=s(e,["ttl"]);t!==void 0&&i!=null&&l(t,["ttl"],i);const r=s(e,["expireTime"]);return t!==void 0&&r!=null&&l(t,["expireTime"],r),o}function Gv(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","name"],an(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],zv(n,i,t)),t}function Bv(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&l(t,["_query","pageToken"],r),o}function Ov(n,e){const t={},o=s(e,["config"]);return o!=null&&l(t,["config"],Bv(n,o,t)),t}function Hv(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function Wv(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["data"]);i!=null&&l(t,["data"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function qv(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["fileUri"]);i!=null&&l(t,["fileUri"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function Yv(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],Hv(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],Wv(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],qv(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const d=s(e,["executableCode"]);d!=null&&l(t,["executableCode"],d);const f=s(e,["functionCall"]);f!=null&&l(t,["functionCall"],f);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function Qc(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>Yv(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function Jv(n,e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(e,["description"]);o!=null&&l(t,["description"],o);const i=s(e,["name"]);i!=null&&l(t,["name"],i);const r=s(e,["parameters"]);r!=null&&l(t,["parameters"],r);const a=s(e,["response"]);return a!=null&&l(t,["response"],a),t}function Kv(n,e){const t={},o=s(e,["startTime"]);o!=null&&l(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function Zv(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&l(t,["timeRangeFilter"],Kv(n,o)),t}function Xv(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function Qv(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],Xv(n,o)),t}function bv(){return{}}function jv(n,e){const t={},o=s(e,["apiKeyString"]);return o!=null&&l(t,["apiKeyString"],o),t}function e0(n,e){const t={},o=s(e,["apiKeyConfig"]);o!=null&&l(t,["apiKeyConfig"],jv(n,o));const i=s(e,["authType"]);i!=null&&l(t,["authType"],i);const r=s(e,["googleServiceAccountConfig"]);r!=null&&l(t,["googleServiceAccountConfig"],r);const a=s(e,["httpBasicAuthConfig"]);a!=null&&l(t,["httpBasicAuthConfig"],a);const u=s(e,["oauthConfig"]);u!=null&&l(t,["oauthConfig"],u);const c=s(e,["oidcConfig"]);return c!=null&&l(t,["oidcConfig"],c),t}function t0(n,e){const t={},o=s(e,["authConfig"]);return o!=null&&l(t,["authConfig"],e0(n,o)),t}function n0(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>Jv(n,p))),l(t,["functionDeclarations"],f)}const i=s(e,["retrieval"]);i!=null&&l(t,["retrieval"],i);const r=s(e,["googleSearch"]);r!=null&&l(t,["googleSearch"],Zv(n,r));const a=s(e,["googleSearchRetrieval"]);a!=null&&l(t,["googleSearchRetrieval"],Qv(n,a)),s(e,["enterpriseWebSearch"])!=null&&l(t,["enterpriseWebSearch"],bv());const c=s(e,["googleMaps"]);if(c!=null&&l(t,["googleMaps"],t0(n,c)),s(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const d=s(e,["codeExecution"]);return d!=null&&l(t,["codeExecution"],d),t}function o0(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["allowedFunctionNames"]);return i!=null&&l(t,["allowedFunctionNames"],i),t}function i0(n,e){const t={},o=s(e,["latitude"]);o!=null&&l(t,["latitude"],o);const i=s(e,["longitude"]);return i!=null&&l(t,["longitude"],i),t}function r0(n,e){const t={},o=s(e,["latLng"]);o!=null&&l(t,["latLng"],i0(n,o));const i=s(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function s0(n,e){const t={},o=s(e,["functionCallingConfig"]);o!=null&&l(t,["functionCallingConfig"],o0(n,o));const i=s(e,["retrievalConfig"]);return i!=null&&l(t,["retrievalConfig"],r0(n,i)),t}function l0(n,e,t){const o={},i=s(e,["ttl"]);t!==void 0&&i!=null&&l(t,["ttl"],i);const r=s(e,["expireTime"]);t!==void 0&&r!=null&&l(t,["expireTime"],r);const a=s(e,["displayName"]);t!==void 0&&a!=null&&l(t,["displayName"],a);const u=s(e,["contents"]);if(t!==void 0&&u!=null){let m=dt(n,u);Array.isArray(m)&&(m=m.map(y=>Qc(n,y))),l(t,["contents"],m)}const c=s(e,["systemInstruction"]);t!==void 0&&c!=null&&l(t,["systemInstruction"],Qc(n,Pe(n,c)));const d=s(e,["tools"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>n0(n,y))),l(t,["tools"],m)}const f=s(e,["toolConfig"]);t!==void 0&&f!=null&&l(t,["toolConfig"],s0(n,f));const p=s(e,["kmsKeyName"]);return t!==void 0&&p!=null&&l(t,["encryption_spec","kmsKeyName"],p),o}function a0(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["model"],Up(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],l0(n,i,t)),t}function u0(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","name"],an(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function c0(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","name"],an(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function d0(n,e,t){const o={},i=s(e,["ttl"]);t!==void 0&&i!=null&&l(t,["ttl"],i);const r=s(e,["expireTime"]);return t!==void 0&&r!=null&&l(t,["expireTime"],r),o}function f0(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","name"],an(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],d0(n,i,t)),t}function p0(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&l(t,["_query","pageToken"],r),o}function m0(n,e){const t={},o=s(e,["config"]);return o!=null&&l(t,["config"],p0(n,o,t)),t}function Ji(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["displayName"]);i!=null&&l(t,["displayName"],i);const r=s(e,["model"]);r!=null&&l(t,["model"],r);const a=s(e,["createTime"]);a!=null&&l(t,["createTime"],a);const u=s(e,["updateTime"]);u!=null&&l(t,["updateTime"],u);const c=s(e,["expireTime"]);c!=null&&l(t,["expireTime"],c);const d=s(e,["usageMetadata"]);return d!=null&&l(t,["usageMetadata"],d),t}function h0(){return{}}function g0(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const i=s(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Ji(n,a))),l(t,["cachedContents"],r)}return t}function Ki(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["displayName"]);i!=null&&l(t,["displayName"],i);const r=s(e,["model"]);r!=null&&l(t,["model"],r);const a=s(e,["createTime"]);a!=null&&l(t,["createTime"],a);const u=s(e,["updateTime"]);u!=null&&l(t,["updateTime"],u);const c=s(e,["expireTime"]);c!=null&&l(t,["expireTime"],c);const d=s(e,["usageMetadata"]);return d!=null&&l(t,["usageMetadata"],d),t}function y0(){return{}}function v0(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const i=s(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Ki(n,a))),l(t,["cachedContents"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var po;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(po||(po={}));class Yr{constructor(e,t,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,o,i)}init(e,t,o){var i,r;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let a={config:{}};o?typeof o=="object"?a=Object.assign({},o):a=o:a={config:{}},a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(r=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C0 extends yo{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Yr(po.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(t),t)}async create(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=a0(this.apiClient,e);return u=q("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>Ki(this.apiClient,f))}else{const d=Uv(this.apiClient,e);return u=q("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>Ji(this.apiClient,f))}}async get(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=u0(this.apiClient,e);return u=q("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>Ki(this.apiClient,f))}else{const d=Vv(this.apiClient,e);return u=q("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>Ji(this.apiClient,f))}}async delete(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=c0(this.apiClient,e);return u=q("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(()=>{const f=y0(),p=new Wc;return Object.assign(p,f),p})}else{const d=$v(this.apiClient,e);return u=q("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(()=>{const f=h0(),p=new Wc;return Object.assign(p,f),p})}}async update(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=f0(this.apiClient,e);return u=q("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>Ki(this.apiClient,f))}else{const d=Gv(this.apiClient,e);return u=q("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>Ji(this.apiClient,f))}}async listInternal(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=m0(this.apiClient,e);return u=q("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>{const p=v0(this.apiClient,f),m=new qc;return Object.assign(m,p),m})}else{const d=Ov(this.apiClient,e);return u=q("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=g0(this.apiClient,f),m=new qc;return Object.assign(m,p),m})}}}function bc(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],o=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(n){return this instanceof re?(this.v=n,this):new re(n)}function jn(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(n,e||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(y){return function(C){return Promise.resolve(C).then(y,p)}}function u(y,C){o[y]&&(i[y]=function(T){return new Promise(function(w,h){r.push([y,T,w,h])>1||c(y,T)})},C&&(i[y]=C(i[y])))}function c(y,C){try{d(o[y](C))}catch(T){m(r[0][3],T)}}function d(y){y.value instanceof re?Promise.resolve(y.value.v).then(f,p):m(r[0][2],y)}function f(y){c("next",y)}function p(y){c("throw",y)}function m(y,C){y(C),r.shift(),r.length&&c(r[0][0],r[0][1])}}function Ho(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof bc=="function"?bc(n):n[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(r){t[r]=n[r]&&function(a){return new Promise(function(u,c){a=n[r](a),i(u,c,a.done,a.value)})}}function i(r,a,u,c){Promise.resolve(c).then(function(d){r({value:d,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T0(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:qp(t)}function qp(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function x0(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function jc(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let o=0;for(;o<t;)if(n[o].role==="user")e.push(n[o]),o++;else{const i=[];let r=!0;for(;o<t&&n[o].role==="model";)i.push(n[o]),r&&!qp(n[o])&&(r=!1),o++;r?e.push(...i):e.pop()}return e}class _0{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new S0(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class S0{constructor(e,t,o,i={},r=[]){this.apiClient=e,this.modelsModule=t,this.model=o,this.config=i,this.history=r,this.sendPromise=Promise.resolve(),x0(r)}async sendMessage(e){var t;await this.sendPromise;const o=Pe(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var r,a,u;const c=await i,d=(a=(r=c.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content,f=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let m=[];f!=null&&(m=(u=f.slice(p))!==null&&u!==void 0?u:[]);const y=d?[d]:[];this.recordHistory(o,y,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const o=Pe(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const r=await i;return this.processStreamResponse(r,o)}getHistory(e=!1){const t=e?jc(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var o,i;return jn(this,arguments,function*(){var a,u,c,d;const f=[];try{for(var p=!0,m=Ho(e),y;y=yield re(m.next()),a=y.done,!a;p=!0){d=y.value,p=!1;const C=d;if(T0(C)){const T=(i=(o=C.candidates)===null||o===void 0?void 0:o[0])===null||i===void 0?void 0:i.content;T!==void 0&&f.push(T)}yield yield re(C)}}catch(C){u={error:C}}finally{try{!p&&!a&&(c=m.return)&&(yield re(c.call(m)))}finally{if(u)throw u.error}}this.recordHistory(t,f)})}recordHistory(e,t,o){let i=[];t.length>0&&t.every(r=>r.role!==void 0)?i=t:i.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...jc(o)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E0(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&l(t,["_query","pageToken"],r),o}function w0(n,e){const t={},o=s(e,["config"]);return o!=null&&l(t,["config"],E0(n,o,t)),t}function k0(n,e){const t={},o=s(e,["details"]);o!=null&&l(t,["details"],o);const i=s(e,["message"]);i!=null&&l(t,["message"],i);const r=s(e,["code"]);return r!=null&&l(t,["code"],r),t}function I0(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["displayName"]);i!=null&&l(t,["displayName"],i);const r=s(e,["mimeType"]);r!=null&&l(t,["mimeType"],r);const a=s(e,["sizeBytes"]);a!=null&&l(t,["sizeBytes"],a);const u=s(e,["createTime"]);u!=null&&l(t,["createTime"],u);const c=s(e,["expirationTime"]);c!=null&&l(t,["expirationTime"],c);const d=s(e,["updateTime"]);d!=null&&l(t,["updateTime"],d);const f=s(e,["sha256Hash"]);f!=null&&l(t,["sha256Hash"],f);const p=s(e,["uri"]);p!=null&&l(t,["uri"],p);const m=s(e,["downloadUri"]);m!=null&&l(t,["downloadUri"],m);const y=s(e,["state"]);y!=null&&l(t,["state"],y);const C=s(e,["source"]);C!=null&&l(t,["source"],C);const T=s(e,["videoMetadata"]);T!=null&&l(t,["videoMetadata"],T);const w=s(e,["error"]);return w!=null&&l(t,["error"],k0(n,w)),t}function M0(n,e){const t={},o=s(e,["file"]);o!=null&&l(t,["file"],I0(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function A0(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","file"],Op(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function R0(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","file"],Op(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function P0(n,e){const t={},o=s(e,["details"]);o!=null&&l(t,["details"],o);const i=s(e,["message"]);i!=null&&l(t,["message"],i);const r=s(e,["code"]);return r!=null&&l(t,["code"],r),t}function Ll(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["displayName"]);i!=null&&l(t,["displayName"],i);const r=s(e,["mimeType"]);r!=null&&l(t,["mimeType"],r);const a=s(e,["sizeBytes"]);a!=null&&l(t,["sizeBytes"],a);const u=s(e,["createTime"]);u!=null&&l(t,["createTime"],u);const c=s(e,["expirationTime"]);c!=null&&l(t,["expirationTime"],c);const d=s(e,["updateTime"]);d!=null&&l(t,["updateTime"],d);const f=s(e,["sha256Hash"]);f!=null&&l(t,["sha256Hash"],f);const p=s(e,["uri"]);p!=null&&l(t,["uri"],p);const m=s(e,["downloadUri"]);m!=null&&l(t,["downloadUri"],m);const y=s(e,["state"]);y!=null&&l(t,["state"],y);const C=s(e,["source"]);C!=null&&l(t,["source"],C);const T=s(e,["videoMetadata"]);T!=null&&l(t,["videoMetadata"],T);const w=s(e,["error"]);return w!=null&&l(t,["error"],P0(n,w)),t}function N0(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const i=s(e,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Ll(n,a))),l(t,["files"],r)}return t}function D0(){return{}}function L0(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F0 extends yo{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Yr(po.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>Ll(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=w0(this.apiClient,e);return r=q("files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=N0(this.apiClient,c),f=new ev;return Object.assign(f,d),f})}}async createInternal(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=M0(this.apiClient,e);return r=q("upload/v1beta/files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(()=>{const c=D0(),d=new tv;return Object.assign(d,c),d})}}async get(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=A0(this.apiClient,e);return r=q("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>Ll(this.apiClient,c))}}async delete(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=R0(this.apiClient,e);return r=q("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(()=>{const c=L0(),d=new nv;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U0(n,e){const t={},o=s(e,["voiceName"]);return o!=null&&l(t,["voiceName"],o),t}function V0(n,e){const t={},o=s(e,["voiceName"]);return o!=null&&l(t,["voiceName"],o),t}function Yp(n,e){const t={},o=s(e,["prebuiltVoiceConfig"]);return o!=null&&l(t,["prebuiltVoiceConfig"],U0(n,o)),t}function $0(n,e){const t={},o=s(e,["prebuiltVoiceConfig"]);return o!=null&&l(t,["prebuiltVoiceConfig"],V0(n,o)),t}function z0(n,e){const t={},o=s(e,["speaker"]);o!=null&&l(t,["speaker"],o);const i=s(e,["voiceConfig"]);return i!=null&&l(t,["voiceConfig"],Yp(n,i)),t}function G0(n,e){const t={},o=s(e,["speakerVoiceConfigs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>z0(n,r))),l(t,["speakerVoiceConfigs"],i)}return t}function B0(n,e){const t={},o=s(e,["voiceConfig"]);o!=null&&l(t,["voiceConfig"],Yp(n,o));const i=s(e,["multiSpeakerVoiceConfig"]);i!=null&&l(t,["multiSpeakerVoiceConfig"],G0(n,i));const r=s(e,["languageCode"]);return r!=null&&l(t,["languageCode"],r),t}function O0(n,e){const t={},o=s(e,["voiceConfig"]);if(o!=null&&l(t,["voiceConfig"],$0(n,o)),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function H0(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function W0(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function q0(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["data"]);o!=null&&l(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function Y0(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["data"]);i!=null&&l(t,["data"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function J0(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["fileUri"]);o!=null&&l(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function K0(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["fileUri"]);i!=null&&l(t,["fileUri"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function Z0(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],H0(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],q0(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],J0(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const d=s(e,["executableCode"]);d!=null&&l(t,["executableCode"],d);const f=s(e,["functionCall"]);f!=null&&l(t,["functionCall"],f);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function X0(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],W0(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],Y0(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],K0(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const d=s(e,["executableCode"]);d!=null&&l(t,["executableCode"],d);const f=s(e,["functionCall"]);f!=null&&l(t,["functionCall"],f);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function Q0(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>Z0(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function b0(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>X0(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function j0(n,e){const t={},o=s(e,["behavior"]);o!=null&&l(t,["behavior"],o);const i=s(e,["description"]);i!=null&&l(t,["description"],i);const r=s(e,["name"]);r!=null&&l(t,["name"],r);const a=s(e,["parameters"]);a!=null&&l(t,["parameters"],a);const u=s(e,["response"]);return u!=null&&l(t,["response"],u),t}function eC(n,e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(e,["description"]);o!=null&&l(t,["description"],o);const i=s(e,["name"]);i!=null&&l(t,["name"],i);const r=s(e,["parameters"]);r!=null&&l(t,["parameters"],r);const a=s(e,["response"]);return a!=null&&l(t,["response"],a),t}function tC(n,e){const t={},o=s(e,["startTime"]);o!=null&&l(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function nC(n,e){const t={},o=s(e,["startTime"]);o!=null&&l(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function oC(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&l(t,["timeRangeFilter"],tC(n,o)),t}function iC(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&l(t,["timeRangeFilter"],nC(n,o)),t}function rC(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function sC(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function lC(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],rC(n,o)),t}function aC(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],sC(n,o)),t}function uC(){return{}}function cC(n,e){const t={},o=s(e,["apiKeyString"]);return o!=null&&l(t,["apiKeyString"],o),t}function dC(n,e){const t={},o=s(e,["apiKeyConfig"]);o!=null&&l(t,["apiKeyConfig"],cC(n,o));const i=s(e,["authType"]);i!=null&&l(t,["authType"],i);const r=s(e,["googleServiceAccountConfig"]);r!=null&&l(t,["googleServiceAccountConfig"],r);const a=s(e,["httpBasicAuthConfig"]);a!=null&&l(t,["httpBasicAuthConfig"],a);const u=s(e,["oauthConfig"]);u!=null&&l(t,["oauthConfig"],u);const c=s(e,["oidcConfig"]);return c!=null&&l(t,["oidcConfig"],c),t}function fC(n,e){const t={},o=s(e,["authConfig"]);return o!=null&&l(t,["authConfig"],dC(n,o)),t}function pC(){return{}}function mC(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>j0(n,d))),l(t,["functionDeclarations"],c)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearch"]);i!=null&&l(t,["googleSearch"],oC(n,i));const r=s(e,["googleSearchRetrieval"]);if(r!=null&&l(t,["googleSearchRetrieval"],lC(n,r)),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(e,["urlContext"])!=null&&l(t,["urlContext"],pC());const u=s(e,["codeExecution"]);return u!=null&&l(t,["codeExecution"],u),t}function hC(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>eC(n,p))),l(t,["functionDeclarations"],f)}const i=s(e,["retrieval"]);i!=null&&l(t,["retrieval"],i);const r=s(e,["googleSearch"]);r!=null&&l(t,["googleSearch"],iC(n,r));const a=s(e,["googleSearchRetrieval"]);a!=null&&l(t,["googleSearchRetrieval"],aC(n,a)),s(e,["enterpriseWebSearch"])!=null&&l(t,["enterpriseWebSearch"],uC());const c=s(e,["googleMaps"]);if(c!=null&&l(t,["googleMaps"],fC(n,c)),s(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const d=s(e,["codeExecution"]);return d!=null&&l(t,["codeExecution"],d),t}function gC(n,e){const t={},o=s(e,["handle"]);if(o!=null&&l(t,["handle"],o),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function yC(n,e){const t={},o=s(e,["handle"]);o!=null&&l(t,["handle"],o);const i=s(e,["transparent"]);return i!=null&&l(t,["transparent"],i),t}function ed(){return{}}function td(){return{}}function vC(n,e){const t={},o=s(e,["disabled"]);o!=null&&l(t,["disabled"],o);const i=s(e,["startOfSpeechSensitivity"]);i!=null&&l(t,["startOfSpeechSensitivity"],i);const r=s(e,["endOfSpeechSensitivity"]);r!=null&&l(t,["endOfSpeechSensitivity"],r);const a=s(e,["prefixPaddingMs"]);a!=null&&l(t,["prefixPaddingMs"],a);const u=s(e,["silenceDurationMs"]);return u!=null&&l(t,["silenceDurationMs"],u),t}function CC(n,e){const t={},o=s(e,["disabled"]);o!=null&&l(t,["disabled"],o);const i=s(e,["startOfSpeechSensitivity"]);i!=null&&l(t,["startOfSpeechSensitivity"],i);const r=s(e,["endOfSpeechSensitivity"]);r!=null&&l(t,["endOfSpeechSensitivity"],r);const a=s(e,["prefixPaddingMs"]);a!=null&&l(t,["prefixPaddingMs"],a);const u=s(e,["silenceDurationMs"]);return u!=null&&l(t,["silenceDurationMs"],u),t}function TC(n,e){const t={},o=s(e,["automaticActivityDetection"]);o!=null&&l(t,["automaticActivityDetection"],vC(n,o));const i=s(e,["activityHandling"]);i!=null&&l(t,["activityHandling"],i);const r=s(e,["turnCoverage"]);return r!=null&&l(t,["turnCoverage"],r),t}function xC(n,e){const t={},o=s(e,["automaticActivityDetection"]);o!=null&&l(t,["automaticActivityDetection"],CC(n,o));const i=s(e,["activityHandling"]);i!=null&&l(t,["activityHandling"],i);const r=s(e,["turnCoverage"]);return r!=null&&l(t,["turnCoverage"],r),t}function _C(n,e){const t={},o=s(e,["targetTokens"]);return o!=null&&l(t,["targetTokens"],o),t}function SC(n,e){const t={},o=s(e,["targetTokens"]);return o!=null&&l(t,["targetTokens"],o),t}function EC(n,e){const t={},o=s(e,["triggerTokens"]);o!=null&&l(t,["triggerTokens"],o);const i=s(e,["slidingWindow"]);return i!=null&&l(t,["slidingWindow"],_C(n,i)),t}function wC(n,e){const t={},o=s(e,["triggerTokens"]);o!=null&&l(t,["triggerTokens"],o);const i=s(e,["slidingWindow"]);return i!=null&&l(t,["slidingWindow"],SC(n,i)),t}function kC(n,e){const t={},o=s(e,["proactiveAudio"]);return o!=null&&l(t,["proactiveAudio"],o),t}function IC(n,e){const t={},o=s(e,["proactiveAudio"]);return o!=null&&l(t,["proactiveAudio"],o),t}function MC(n,e,t){const o={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&l(t,["setup","generationConfig"],i);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&l(t,["setup","generationConfig","responseModalities"],r);const a=s(e,["temperature"]);t!==void 0&&a!=null&&l(t,["setup","generationConfig","temperature"],a);const u=s(e,["topP"]);t!==void 0&&u!=null&&l(t,["setup","generationConfig","topP"],u);const c=s(e,["topK"]);t!==void 0&&c!=null&&l(t,["setup","generationConfig","topK"],c);const d=s(e,["maxOutputTokens"]);t!==void 0&&d!=null&&l(t,["setup","generationConfig","maxOutputTokens"],d);const f=s(e,["mediaResolution"]);t!==void 0&&f!=null&&l(t,["setup","generationConfig","mediaResolution"],f);const p=s(e,["seed"]);t!==void 0&&p!=null&&l(t,["setup","generationConfig","seed"],p);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&l(t,["setup","generationConfig","speechConfig"],B0(n,Ua(n,m)));const y=s(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&l(t,["setup","generationConfig","enableAffectiveDialog"],y);const C=s(e,["systemInstruction"]);t!==void 0&&C!=null&&l(t,["setup","systemInstruction"],Q0(n,Pe(n,C)));const T=s(e,["tools"]);if(t!==void 0&&T!=null){let A=mi(n,T);Array.isArray(A)&&(A=A.map(k=>mC(n,pi(n,k)))),l(t,["setup","tools"],A)}const w=s(e,["sessionResumption"]);t!==void 0&&w!=null&&l(t,["setup","sessionResumption"],gC(n,w));const h=s(e,["inputAudioTranscription"]);t!==void 0&&h!=null&&l(t,["setup","inputAudioTranscription"],ed());const g=s(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&l(t,["setup","outputAudioTranscription"],ed());const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&l(t,["setup","realtimeInputConfig"],TC(n,v));const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&l(t,["setup","contextWindowCompression"],EC(n,S));const I=s(e,["proactivity"]);return t!==void 0&&I!=null&&l(t,["setup","proactivity"],kC(n,I)),o}function AC(n,e,t){const o={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&l(t,["setup","generationConfig"],i);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&l(t,["setup","generationConfig","responseModalities"],r);const a=s(e,["temperature"]);t!==void 0&&a!=null&&l(t,["setup","generationConfig","temperature"],a);const u=s(e,["topP"]);t!==void 0&&u!=null&&l(t,["setup","generationConfig","topP"],u);const c=s(e,["topK"]);t!==void 0&&c!=null&&l(t,["setup","generationConfig","topK"],c);const d=s(e,["maxOutputTokens"]);t!==void 0&&d!=null&&l(t,["setup","generationConfig","maxOutputTokens"],d);const f=s(e,["mediaResolution"]);t!==void 0&&f!=null&&l(t,["setup","generationConfig","mediaResolution"],f);const p=s(e,["seed"]);t!==void 0&&p!=null&&l(t,["setup","generationConfig","seed"],p);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&l(t,["setup","generationConfig","speechConfig"],O0(n,Ua(n,m)));const y=s(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&l(t,["setup","generationConfig","enableAffectiveDialog"],y);const C=s(e,["systemInstruction"]);t!==void 0&&C!=null&&l(t,["setup","systemInstruction"],b0(n,Pe(n,C)));const T=s(e,["tools"]);if(t!==void 0&&T!=null){let A=mi(n,T);Array.isArray(A)&&(A=A.map(k=>hC(n,pi(n,k)))),l(t,["setup","tools"],A)}const w=s(e,["sessionResumption"]);t!==void 0&&w!=null&&l(t,["setup","sessionResumption"],yC(n,w));const h=s(e,["inputAudioTranscription"]);t!==void 0&&h!=null&&l(t,["setup","inputAudioTranscription"],td());const g=s(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&l(t,["setup","outputAudioTranscription"],td());const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&l(t,["setup","realtimeInputConfig"],xC(n,v));const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&l(t,["setup","contextWindowCompression"],wC(n,S));const I=s(e,["proactivity"]);return t!==void 0&&I!=null&&l(t,["setup","proactivity"],IC(n,I)),o}function RC(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["setup","model"],oe(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],MC(n,i,t)),t}function PC(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["setup","model"],oe(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],AC(n,i,t)),t}function NC(){return{}}function DC(){return{}}function LC(){return{}}function FC(){return{}}function UC(n,e){const t={},o=s(e,["media"]);o!=null&&l(t,["mediaChunks"],Vp(n,o));const i=s(e,["audio"]);i!=null&&l(t,["audio"],sv(n,i));const r=s(e,["audioStreamEnd"]);r!=null&&l(t,["audioStreamEnd"],r);const a=s(e,["video"]);a!=null&&l(t,["video"],rv(n,a));const u=s(e,["text"]);return u!=null&&l(t,["text"],u),s(e,["activityStart"])!=null&&l(t,["activityStart"],NC()),s(e,["activityEnd"])!=null&&l(t,["activityEnd"],LC()),t}function VC(n,e){const t={},o=s(e,["media"]);if(o!=null&&l(t,["mediaChunks"],Vp(n,o)),s(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=s(e,["audioStreamEnd"]);if(i!=null&&l(t,["audioStreamEnd"],i),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(s(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return s(e,["activityStart"])!=null&&l(t,["activityStart"],DC()),s(e,["activityEnd"])!=null&&l(t,["activityEnd"],FC()),t}function Jp(n,e){const t={},o=s(e,["text"]);o!=null&&l(t,["text"],o);const i=s(e,["weight"]);return i!=null&&l(t,["weight"],i),t}function $C(n,e){const t={},o=s(e,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Jp(n,r))),l(t,["weightedPrompts"],i)}return t}function Kp(n,e){const t={},o=s(e,["temperature"]);o!=null&&l(t,["temperature"],o);const i=s(e,["topK"]);i!=null&&l(t,["topK"],i);const r=s(e,["seed"]);r!=null&&l(t,["seed"],r);const a=s(e,["guidance"]);a!=null&&l(t,["guidance"],a);const u=s(e,["bpm"]);u!=null&&l(t,["bpm"],u);const c=s(e,["density"]);c!=null&&l(t,["density"],c);const d=s(e,["brightness"]);d!=null&&l(t,["brightness"],d);const f=s(e,["scale"]);f!=null&&l(t,["scale"],f);const p=s(e,["muteBass"]);p!=null&&l(t,["muteBass"],p);const m=s(e,["muteDrums"]);m!=null&&l(t,["muteDrums"],m);const y=s(e,["onlyBassAndDrums"]);return y!=null&&l(t,["onlyBassAndDrums"],y),t}function zC(n,e){const t={},o=s(e,["musicGenerationConfig"]);return o!=null&&l(t,["musicGenerationConfig"],Kp(n,o)),t}function Zp(n,e){const t={},o=s(e,["model"]);return o!=null&&l(t,["model"],o),t}function Xp(n,e){const t={},o=s(e,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Jp(n,r))),l(t,["weightedPrompts"],i)}return t}function Fl(n,e){const t={},o=s(e,["setup"]);o!=null&&l(t,["setup"],Zp(n,o));const i=s(e,["clientContent"]);i!=null&&l(t,["clientContent"],Xp(n,i));const r=s(e,["musicGenerationConfig"]);r!=null&&l(t,["musicGenerationConfig"],Kp(n,r));const a=s(e,["playbackControl"]);return a!=null&&l(t,["playbackControl"],a),t}function GC(){return{}}function BC(){return{}}function OC(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function HC(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function WC(n,e){const t={},o=s(e,["data"]);o!=null&&l(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function qC(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["data"]);i!=null&&l(t,["data"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function YC(n,e){const t={},o=s(e,["fileUri"]);o!=null&&l(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function JC(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["fileUri"]);i!=null&&l(t,["fileUri"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function KC(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],OC(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],WC(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],YC(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const d=s(e,["executableCode"]);d!=null&&l(t,["executableCode"],d);const f=s(e,["functionCall"]);f!=null&&l(t,["functionCall"],f);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function ZC(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],HC(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],qC(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],JC(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const d=s(e,["executableCode"]);d!=null&&l(t,["executableCode"],d);const f=s(e,["functionCall"]);f!=null&&l(t,["functionCall"],f);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function XC(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>KC(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function QC(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>ZC(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function nd(n,e){const t={},o=s(e,["text"]);o!=null&&l(t,["text"],o);const i=s(e,["finished"]);return i!=null&&l(t,["finished"],i),t}function od(n,e){const t={},o=s(e,["text"]);o!=null&&l(t,["text"],o);const i=s(e,["finished"]);return i!=null&&l(t,["finished"],i),t}function bC(n,e){const t={},o=s(e,["retrievedUrl"]);o!=null&&l(t,["retrievedUrl"],o);const i=s(e,["urlRetrievalStatus"]);return i!=null&&l(t,["urlRetrievalStatus"],i),t}function jC(n,e){const t={},o=s(e,["urlMetadata"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>bC(n,r))),l(t,["urlMetadata"],i)}return t}function eT(n,e){const t={},o=s(e,["modelTurn"]);o!=null&&l(t,["modelTurn"],XC(n,o));const i=s(e,["turnComplete"]);i!=null&&l(t,["turnComplete"],i);const r=s(e,["interrupted"]);r!=null&&l(t,["interrupted"],r);const a=s(e,["groundingMetadata"]);a!=null&&l(t,["groundingMetadata"],a);const u=s(e,["generationComplete"]);u!=null&&l(t,["generationComplete"],u);const c=s(e,["inputTranscription"]);c!=null&&l(t,["inputTranscription"],nd(n,c));const d=s(e,["outputTranscription"]);d!=null&&l(t,["outputTranscription"],nd(n,d));const f=s(e,["urlContextMetadata"]);return f!=null&&l(t,["urlContextMetadata"],jC(n,f)),t}function tT(n,e){const t={},o=s(e,["modelTurn"]);o!=null&&l(t,["modelTurn"],QC(n,o));const i=s(e,["turnComplete"]);i!=null&&l(t,["turnComplete"],i);const r=s(e,["interrupted"]);r!=null&&l(t,["interrupted"],r);const a=s(e,["groundingMetadata"]);a!=null&&l(t,["groundingMetadata"],a);const u=s(e,["generationComplete"]);u!=null&&l(t,["generationComplete"],u);const c=s(e,["inputTranscription"]);c!=null&&l(t,["inputTranscription"],od(n,c));const d=s(e,["outputTranscription"]);return d!=null&&l(t,["outputTranscription"],od(n,d)),t}function nT(n,e){const t={},o=s(e,["id"]);o!=null&&l(t,["id"],o);const i=s(e,["args"]);i!=null&&l(t,["args"],i);const r=s(e,["name"]);return r!=null&&l(t,["name"],r),t}function oT(n,e){const t={},o=s(e,["args"]);o!=null&&l(t,["args"],o);const i=s(e,["name"]);return i!=null&&l(t,["name"],i),t}function iT(n,e){const t={},o=s(e,["functionCalls"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>nT(n,r))),l(t,["functionCalls"],i)}return t}function rT(n,e){const t={},o=s(e,["functionCalls"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>oT(n,r))),l(t,["functionCalls"],i)}return t}function sT(n,e){const t={},o=s(e,["ids"]);return o!=null&&l(t,["ids"],o),t}function lT(n,e){const t={},o=s(e,["ids"]);return o!=null&&l(t,["ids"],o),t}function Di(n,e){const t={},o=s(e,["modality"]);o!=null&&l(t,["modality"],o);const i=s(e,["tokenCount"]);return i!=null&&l(t,["tokenCount"],i),t}function Li(n,e){const t={},o=s(e,["modality"]);o!=null&&l(t,["modality"],o);const i=s(e,["tokenCount"]);return i!=null&&l(t,["tokenCount"],i),t}function aT(n,e){const t={},o=s(e,["promptTokenCount"]);o!=null&&l(t,["promptTokenCount"],o);const i=s(e,["cachedContentTokenCount"]);i!=null&&l(t,["cachedContentTokenCount"],i);const r=s(e,["responseTokenCount"]);r!=null&&l(t,["responseTokenCount"],r);const a=s(e,["toolUsePromptTokenCount"]);a!=null&&l(t,["toolUsePromptTokenCount"],a);const u=s(e,["thoughtsTokenCount"]);u!=null&&l(t,["thoughtsTokenCount"],u);const c=s(e,["totalTokenCount"]);c!=null&&l(t,["totalTokenCount"],c);const d=s(e,["promptTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(C=>Di(n,C))),l(t,["promptTokensDetails"],y)}const f=s(e,["cacheTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(C=>Di(n,C))),l(t,["cacheTokensDetails"],y)}const p=s(e,["responseTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(C=>Di(n,C))),l(t,["responseTokensDetails"],y)}const m=s(e,["toolUsePromptTokensDetails"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(C=>Di(n,C))),l(t,["toolUsePromptTokensDetails"],y)}return t}function uT(n,e){const t={},o=s(e,["promptTokenCount"]);o!=null&&l(t,["promptTokenCount"],o);const i=s(e,["cachedContentTokenCount"]);i!=null&&l(t,["cachedContentTokenCount"],i);const r=s(e,["candidatesTokenCount"]);r!=null&&l(t,["responseTokenCount"],r);const a=s(e,["toolUsePromptTokenCount"]);a!=null&&l(t,["toolUsePromptTokenCount"],a);const u=s(e,["thoughtsTokenCount"]);u!=null&&l(t,["thoughtsTokenCount"],u);const c=s(e,["totalTokenCount"]);c!=null&&l(t,["totalTokenCount"],c);const d=s(e,["promptTokensDetails"]);if(d!=null){let C=d;Array.isArray(C)&&(C=C.map(T=>Li(n,T))),l(t,["promptTokensDetails"],C)}const f=s(e,["cacheTokensDetails"]);if(f!=null){let C=f;Array.isArray(C)&&(C=C.map(T=>Li(n,T))),l(t,["cacheTokensDetails"],C)}const p=s(e,["candidatesTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(T=>Li(n,T))),l(t,["responseTokensDetails"],C)}const m=s(e,["toolUsePromptTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(T=>Li(n,T))),l(t,["toolUsePromptTokensDetails"],C)}const y=s(e,["trafficType"]);return y!=null&&l(t,["trafficType"],y),t}function cT(n,e){const t={},o=s(e,["timeLeft"]);return o!=null&&l(t,["timeLeft"],o),t}function dT(n,e){const t={},o=s(e,["timeLeft"]);return o!=null&&l(t,["timeLeft"],o),t}function fT(n,e){const t={},o=s(e,["newHandle"]);o!=null&&l(t,["newHandle"],o);const i=s(e,["resumable"]);i!=null&&l(t,["resumable"],i);const r=s(e,["lastConsumedClientMessageIndex"]);return r!=null&&l(t,["lastConsumedClientMessageIndex"],r),t}function pT(n,e){const t={},o=s(e,["newHandle"]);o!=null&&l(t,["newHandle"],o);const i=s(e,["resumable"]);i!=null&&l(t,["resumable"],i);const r=s(e,["lastConsumedClientMessageIndex"]);return r!=null&&l(t,["lastConsumedClientMessageIndex"],r),t}function mT(n,e){const t={};s(e,["setupComplete"])!=null&&l(t,["setupComplete"],GC());const i=s(e,["serverContent"]);i!=null&&l(t,["serverContent"],eT(n,i));const r=s(e,["toolCall"]);r!=null&&l(t,["toolCall"],iT(n,r));const a=s(e,["toolCallCancellation"]);a!=null&&l(t,["toolCallCancellation"],sT(n,a));const u=s(e,["usageMetadata"]);u!=null&&l(t,["usageMetadata"],aT(n,u));const c=s(e,["goAway"]);c!=null&&l(t,["goAway"],cT(n,c));const d=s(e,["sessionResumptionUpdate"]);return d!=null&&l(t,["sessionResumptionUpdate"],fT(n,d)),t}function hT(n,e){const t={};s(e,["setupComplete"])!=null&&l(t,["setupComplete"],BC());const i=s(e,["serverContent"]);i!=null&&l(t,["serverContent"],tT(n,i));const r=s(e,["toolCall"]);r!=null&&l(t,["toolCall"],rT(n,r));const a=s(e,["toolCallCancellation"]);a!=null&&l(t,["toolCallCancellation"],lT(n,a));const u=s(e,["usageMetadata"]);u!=null&&l(t,["usageMetadata"],uT(n,u));const c=s(e,["goAway"]);c!=null&&l(t,["goAway"],dT(n,c));const d=s(e,["sessionResumptionUpdate"]);return d!=null&&l(t,["sessionResumptionUpdate"],pT(n,d)),t}function gT(){return{}}function yT(n,e){const t={},o=s(e,["text"]);o!=null&&l(t,["text"],o);const i=s(e,["weight"]);return i!=null&&l(t,["weight"],i),t}function vT(n,e){const t={},o=s(e,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>yT(n,r))),l(t,["weightedPrompts"],i)}return t}function CT(n,e){const t={},o=s(e,["temperature"]);o!=null&&l(t,["temperature"],o);const i=s(e,["topK"]);i!=null&&l(t,["topK"],i);const r=s(e,["seed"]);r!=null&&l(t,["seed"],r);const a=s(e,["guidance"]);a!=null&&l(t,["guidance"],a);const u=s(e,["bpm"]);u!=null&&l(t,["bpm"],u);const c=s(e,["density"]);c!=null&&l(t,["density"],c);const d=s(e,["brightness"]);d!=null&&l(t,["brightness"],d);const f=s(e,["scale"]);f!=null&&l(t,["scale"],f);const p=s(e,["muteBass"]);p!=null&&l(t,["muteBass"],p);const m=s(e,["muteDrums"]);m!=null&&l(t,["muteDrums"],m);const y=s(e,["onlyBassAndDrums"]);return y!=null&&l(t,["onlyBassAndDrums"],y),t}function TT(n,e){const t={},o=s(e,["clientContent"]);o!=null&&l(t,["clientContent"],vT(n,o));const i=s(e,["musicGenerationConfig"]);return i!=null&&l(t,["musicGenerationConfig"],CT(n,i)),t}function xT(n,e){const t={},o=s(e,["data"]);o!=null&&l(t,["data"],o);const i=s(e,["mimeType"]);i!=null&&l(t,["mimeType"],i);const r=s(e,["sourceMetadata"]);return r!=null&&l(t,["sourceMetadata"],TT(n,r)),t}function _T(n,e){const t={},o=s(e,["audioChunks"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>xT(n,r))),l(t,["audioChunks"],i)}return t}function ST(n,e){const t={},o=s(e,["text"]);o!=null&&l(t,["text"],o);const i=s(e,["filteredReason"]);return i!=null&&l(t,["filteredReason"],i),t}function ET(n,e){const t={};s(e,["setupComplete"])!=null&&l(t,["setupComplete"],gT());const i=s(e,["serverContent"]);i!=null&&l(t,["serverContent"],_T(n,i));const r=s(e,["filteredPrompt"]);return r!=null&&l(t,["filteredPrompt"],ST(n,r)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wT(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function kT(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["data"]);o!=null&&l(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function IT(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["fileUri"]);o!=null&&l(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function MT(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],wT(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],kT(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],IT(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const d=s(e,["executableCode"]);d!=null&&l(t,["executableCode"],d);const f=s(e,["functionCall"]);f!=null&&l(t,["functionCall"],f);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function Jr(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>MT(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function AT(n,e){const t={},o=s(e,["anyOf"]);o!=null&&l(t,["anyOf"],o);const i=s(e,["default"]);i!=null&&l(t,["default"],i);const r=s(e,["description"]);r!=null&&l(t,["description"],r);const a=s(e,["enum"]);a!=null&&l(t,["enum"],a);const u=s(e,["example"]);u!=null&&l(t,["example"],u);const c=s(e,["format"]);c!=null&&l(t,["format"],c);const d=s(e,["items"]);d!=null&&l(t,["items"],d);const f=s(e,["maxItems"]);f!=null&&l(t,["maxItems"],f);const p=s(e,["maxLength"]);p!=null&&l(t,["maxLength"],p);const m=s(e,["maxProperties"]);m!=null&&l(t,["maxProperties"],m);const y=s(e,["maximum"]);y!=null&&l(t,["maximum"],y);const C=s(e,["minItems"]);C!=null&&l(t,["minItems"],C);const T=s(e,["minLength"]);T!=null&&l(t,["minLength"],T);const w=s(e,["minProperties"]);w!=null&&l(t,["minProperties"],w);const h=s(e,["minimum"]);h!=null&&l(t,["minimum"],h);const g=s(e,["nullable"]);g!=null&&l(t,["nullable"],g);const v=s(e,["pattern"]);v!=null&&l(t,["pattern"],v);const S=s(e,["properties"]);S!=null&&l(t,["properties"],S);const I=s(e,["propertyOrdering"]);I!=null&&l(t,["propertyOrdering"],I);const A=s(e,["required"]);A!=null&&l(t,["required"],A);const k=s(e,["title"]);k!=null&&l(t,["title"],k);const R=s(e,["type"]);return R!=null&&l(t,["type"],R),t}function RT(n,e){const t={};if(s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["category"]);o!=null&&l(t,["category"],o);const i=s(e,["threshold"]);return i!=null&&l(t,["threshold"],i),t}function PT(n,e){const t={},o=s(e,["behavior"]);o!=null&&l(t,["behavior"],o);const i=s(e,["description"]);i!=null&&l(t,["description"],i);const r=s(e,["name"]);r!=null&&l(t,["name"],r);const a=s(e,["parameters"]);a!=null&&l(t,["parameters"],a);const u=s(e,["response"]);return u!=null&&l(t,["response"],u),t}function NT(n,e){const t={},o=s(e,["startTime"]);o!=null&&l(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function DT(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&l(t,["timeRangeFilter"],NT(n,o)),t}function LT(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function FT(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],LT(n,o)),t}function UT(){return{}}function VT(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>PT(n,d))),l(t,["functionDeclarations"],c)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearch"]);i!=null&&l(t,["googleSearch"],DT(n,i));const r=s(e,["googleSearchRetrieval"]);if(r!=null&&l(t,["googleSearchRetrieval"],FT(n,r)),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(e,["urlContext"])!=null&&l(t,["urlContext"],UT());const u=s(e,["codeExecution"]);return u!=null&&l(t,["codeExecution"],u),t}function $T(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["allowedFunctionNames"]);return i!=null&&l(t,["allowedFunctionNames"],i),t}function zT(n,e){const t={},o=s(e,["latitude"]);o!=null&&l(t,["latitude"],o);const i=s(e,["longitude"]);return i!=null&&l(t,["longitude"],i),t}function GT(n,e){const t={},o=s(e,["latLng"]);o!=null&&l(t,["latLng"],zT(n,o));const i=s(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function BT(n,e){const t={},o=s(e,["functionCallingConfig"]);o!=null&&l(t,["functionCallingConfig"],$T(n,o));const i=s(e,["retrievalConfig"]);return i!=null&&l(t,["retrievalConfig"],GT(n,i)),t}function OT(n,e){const t={},o=s(e,["voiceName"]);return o!=null&&l(t,["voiceName"],o),t}function Qp(n,e){const t={},o=s(e,["prebuiltVoiceConfig"]);return o!=null&&l(t,["prebuiltVoiceConfig"],OT(n,o)),t}function HT(n,e){const t={},o=s(e,["speaker"]);o!=null&&l(t,["speaker"],o);const i=s(e,["voiceConfig"]);return i!=null&&l(t,["voiceConfig"],Qp(n,i)),t}function WT(n,e){const t={},o=s(e,["speakerVoiceConfigs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>HT(n,r))),l(t,["speakerVoiceConfigs"],i)}return t}function qT(n,e){const t={},o=s(e,["voiceConfig"]);o!=null&&l(t,["voiceConfig"],Qp(n,o));const i=s(e,["multiSpeakerVoiceConfig"]);i!=null&&l(t,["multiSpeakerVoiceConfig"],WT(n,i));const r=s(e,["languageCode"]);return r!=null&&l(t,["languageCode"],r),t}function YT(n,e){const t={},o=s(e,["includeThoughts"]);o!=null&&l(t,["includeThoughts"],o);const i=s(e,["thinkingBudget"]);return i!=null&&l(t,["thinkingBudget"],i),t}function JT(n,e,t){const o={},i=s(e,["systemInstruction"]);t!==void 0&&i!=null&&l(t,["systemInstruction"],Jr(n,Pe(n,i)));const r=s(e,["temperature"]);r!=null&&l(o,["temperature"],r);const a=s(e,["topP"]);a!=null&&l(o,["topP"],a);const u=s(e,["topK"]);u!=null&&l(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&l(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&l(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&l(o,["stopSequences"],f);const p=s(e,["responseLogprobs"]);p!=null&&l(o,["responseLogprobs"],p);const m=s(e,["logprobs"]);m!=null&&l(o,["logprobs"],m);const y=s(e,["presencePenalty"]);y!=null&&l(o,["presencePenalty"],y);const C=s(e,["frequencyPenalty"]);C!=null&&l(o,["frequencyPenalty"],C);const T=s(e,["seed"]);T!=null&&l(o,["seed"],T);const w=s(e,["responseMimeType"]);w!=null&&l(o,["responseMimeType"],w);const h=s(e,["responseSchema"]);if(h!=null&&l(o,["responseSchema"],AT(n,Mr(n,h))),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const g=s(e,["safetySettings"]);if(t!==void 0&&g!=null){let F=g;Array.isArray(F)&&(F=F.map(b=>RT(n,b))),l(t,["safetySettings"],F)}const v=s(e,["tools"]);if(t!==void 0&&v!=null){let F=mi(n,v);Array.isArray(F)&&(F=F.map(b=>VT(n,pi(n,b)))),l(t,["tools"],F)}const S=s(e,["toolConfig"]);if(t!==void 0&&S!=null&&l(t,["toolConfig"],BT(n,S)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=s(e,["cachedContent"]);t!==void 0&&I!=null&&l(t,["cachedContent"],an(n,I));const A=s(e,["responseModalities"]);A!=null&&l(o,["responseModalities"],A);const k=s(e,["mediaResolution"]);k!=null&&l(o,["mediaResolution"],k);const R=s(e,["speechConfig"]);if(R!=null&&l(o,["speechConfig"],qT(n,Gp(n,R))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=s(e,["thinkingConfig"]);return L!=null&&l(o,["thinkingConfig"],YT(n,L)),o}function id(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],oe(n,o));const i=s(e,["contents"]);if(i!=null){let a=dt(n,i);Array.isArray(a)&&(a=a.map(u=>Jr(n,u))),l(t,["contents"],a)}const r=s(e,["config"]);return r!=null&&l(t,["generationConfig"],JT(n,r,t)),t}function KT(n,e,t){const o={},i=s(e,["taskType"]);t!==void 0&&i!=null&&l(t,["requests[]","taskType"],i);const r=s(e,["title"]);t!==void 0&&r!=null&&l(t,["requests[]","title"],r);const a=s(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&l(t,["requests[]","outputDimensionality"],a),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function ZT(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],oe(n,o));const i=s(e,["contents"]);i!=null&&l(t,["requests[]","content"],zp(n,i));const r=s(e,["config"]);r!=null&&l(t,["config"],KT(n,r,t));const a=s(e,["model"]);return a!==void 0&&l(t,["requests[]","model"],oe(n,a)),t}function XT(n,e,t){const o={};if(s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&l(t,["parameters","sampleCount"],i);const r=s(e,["aspectRatio"]);t!==void 0&&r!=null&&l(t,["parameters","aspectRatio"],r);const a=s(e,["guidanceScale"]);if(t!==void 0&&a!=null&&l(t,["parameters","guidanceScale"],a),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=s(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&l(t,["parameters","safetySetting"],u);const c=s(e,["personGeneration"]);t!==void 0&&c!=null&&l(t,["parameters","personGeneration"],c);const d=s(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&l(t,["parameters","includeSafetyAttributes"],d);const f=s(e,["includeRaiReason"]);t!==void 0&&f!=null&&l(t,["parameters","includeRaiReason"],f);const p=s(e,["language"]);t!==void 0&&p!=null&&l(t,["parameters","language"],p);const m=s(e,["outputMimeType"]);t!==void 0&&m!=null&&l(t,["parameters","outputOptions","mimeType"],m);const y=s(e,["outputCompressionQuality"]);if(t!==void 0&&y!=null&&l(t,["parameters","outputOptions","compressionQuality"],y),s(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function QT(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],oe(n,o));const i=s(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const r=s(e,["config"]);return r!=null&&l(t,["config"],XT(n,r,t)),t}function bT(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","name"],oe(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function jT(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&l(t,["_query","pageToken"],r);const a=s(e,["filter"]);t!==void 0&&a!=null&&l(t,["_query","filter"],a);const u=s(e,["queryBase"]);return t!==void 0&&u!=null&&l(t,["_url","models_url"],Hp(n,u)),o}function ex(n,e){const t={},o=s(e,["config"]);return o!=null&&l(t,["config"],jT(n,o,t)),t}function tx(n,e,t){const o={},i=s(e,["displayName"]);t!==void 0&&i!=null&&l(t,["displayName"],i);const r=s(e,["description"]);t!==void 0&&r!=null&&l(t,["description"],r);const a=s(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&l(t,["defaultCheckpointId"],a),o}function nx(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","name"],oe(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],tx(n,i,t)),t}function ox(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","name"],oe(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function ix(n,e){const t={};if(s(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function rx(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],oe(n,o));const i=s(e,["contents"]);if(i!=null){let a=dt(n,i);Array.isArray(a)&&(a=a.map(u=>Jr(n,u))),l(t,["contents"],a)}const r=s(e,["config"]);return r!=null&&l(t,["config"],ix(n,r)),t}function sx(n,e){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(e,["imageBytes"]);o!=null&&l(t,["bytesBase64Encoded"],un(n,o));const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function lx(n,e,t){const o={},i=s(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&l(t,["parameters","sampleCount"],i),s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(e,["durationSeconds"]);if(t!==void 0&&r!=null&&l(t,["parameters","durationSeconds"],r),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=s(e,["aspectRatio"]);if(t!==void 0&&a!=null&&l(t,["parameters","aspectRatio"],a),s(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=s(e,["personGeneration"]);if(t!==void 0&&u!=null&&l(t,["parameters","personGeneration"],u),s(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(e,["negativePrompt"]);if(t!==void 0&&c!=null&&l(t,["parameters","negativePrompt"],c),s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");if(s(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return o}function ax(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],oe(n,o));const i=s(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const r=s(e,["image"]);r!=null&&l(t,["instances[0]","image"],sx(n,r));const a=s(e,["config"]);return a!=null&&l(t,["config"],lx(n,a,t)),t}function ux(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function cx(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["data"]);i!=null&&l(t,["data"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function dx(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["fileUri"]);i!=null&&l(t,["fileUri"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function fx(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],ux(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],cx(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],dx(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const d=s(e,["executableCode"]);d!=null&&l(t,["executableCode"],d);const f=s(e,["functionCall"]);f!=null&&l(t,["functionCall"],f);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function vo(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>fx(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function px(n,e){const t={},o=s(e,["anyOf"]);o!=null&&l(t,["anyOf"],o);const i=s(e,["default"]);i!=null&&l(t,["default"],i);const r=s(e,["description"]);r!=null&&l(t,["description"],r);const a=s(e,["enum"]);a!=null&&l(t,["enum"],a);const u=s(e,["example"]);u!=null&&l(t,["example"],u);const c=s(e,["format"]);c!=null&&l(t,["format"],c);const d=s(e,["items"]);d!=null&&l(t,["items"],d);const f=s(e,["maxItems"]);f!=null&&l(t,["maxItems"],f);const p=s(e,["maxLength"]);p!=null&&l(t,["maxLength"],p);const m=s(e,["maxProperties"]);m!=null&&l(t,["maxProperties"],m);const y=s(e,["maximum"]);y!=null&&l(t,["maximum"],y);const C=s(e,["minItems"]);C!=null&&l(t,["minItems"],C);const T=s(e,["minLength"]);T!=null&&l(t,["minLength"],T);const w=s(e,["minProperties"]);w!=null&&l(t,["minProperties"],w);const h=s(e,["minimum"]);h!=null&&l(t,["minimum"],h);const g=s(e,["nullable"]);g!=null&&l(t,["nullable"],g);const v=s(e,["pattern"]);v!=null&&l(t,["pattern"],v);const S=s(e,["properties"]);S!=null&&l(t,["properties"],S);const I=s(e,["propertyOrdering"]);I!=null&&l(t,["propertyOrdering"],I);const A=s(e,["required"]);A!=null&&l(t,["required"],A);const k=s(e,["title"]);k!=null&&l(t,["title"],k);const R=s(e,["type"]);return R!=null&&l(t,["type"],R),t}function mx(n,e){const t={},o=s(e,["featureSelectionPreference"]);return o!=null&&l(t,["featureSelectionPreference"],o),t}function hx(n,e){const t={},o=s(e,["method"]);o!=null&&l(t,["method"],o);const i=s(e,["category"]);i!=null&&l(t,["category"],i);const r=s(e,["threshold"]);return r!=null&&l(t,["threshold"],r),t}function gx(n,e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(e,["description"]);o!=null&&l(t,["description"],o);const i=s(e,["name"]);i!=null&&l(t,["name"],i);const r=s(e,["parameters"]);r!=null&&l(t,["parameters"],r);const a=s(e,["response"]);return a!=null&&l(t,["response"],a),t}function yx(n,e){const t={},o=s(e,["startTime"]);o!=null&&l(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function vx(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&l(t,["timeRangeFilter"],yx(n,o)),t}function Cx(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function Tx(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],Cx(n,o)),t}function xx(){return{}}function _x(n,e){const t={},o=s(e,["apiKeyString"]);return o!=null&&l(t,["apiKeyString"],o),t}function Sx(n,e){const t={},o=s(e,["apiKeyConfig"]);o!=null&&l(t,["apiKeyConfig"],_x(n,o));const i=s(e,["authType"]);i!=null&&l(t,["authType"],i);const r=s(e,["googleServiceAccountConfig"]);r!=null&&l(t,["googleServiceAccountConfig"],r);const a=s(e,["httpBasicAuthConfig"]);a!=null&&l(t,["httpBasicAuthConfig"],a);const u=s(e,["oauthConfig"]);u!=null&&l(t,["oauthConfig"],u);const c=s(e,["oidcConfig"]);return c!=null&&l(t,["oidcConfig"],c),t}function Ex(n,e){const t={},o=s(e,["authConfig"]);return o!=null&&l(t,["authConfig"],Sx(n,o)),t}function bp(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>gx(n,p))),l(t,["functionDeclarations"],f)}const i=s(e,["retrieval"]);i!=null&&l(t,["retrieval"],i);const r=s(e,["googleSearch"]);r!=null&&l(t,["googleSearch"],vx(n,r));const a=s(e,["googleSearchRetrieval"]);a!=null&&l(t,["googleSearchRetrieval"],Tx(n,a)),s(e,["enterpriseWebSearch"])!=null&&l(t,["enterpriseWebSearch"],xx());const c=s(e,["googleMaps"]);if(c!=null&&l(t,["googleMaps"],Ex(n,c)),s(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const d=s(e,["codeExecution"]);return d!=null&&l(t,["codeExecution"],d),t}function wx(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["allowedFunctionNames"]);return i!=null&&l(t,["allowedFunctionNames"],i),t}function kx(n,e){const t={},o=s(e,["latitude"]);o!=null&&l(t,["latitude"],o);const i=s(e,["longitude"]);return i!=null&&l(t,["longitude"],i),t}function Ix(n,e){const t={},o=s(e,["latLng"]);o!=null&&l(t,["latLng"],kx(n,o));const i=s(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function Mx(n,e){const t={},o=s(e,["functionCallingConfig"]);o!=null&&l(t,["functionCallingConfig"],wx(n,o));const i=s(e,["retrievalConfig"]);return i!=null&&l(t,["retrievalConfig"],Ix(n,i)),t}function Ax(n,e){const t={},o=s(e,["voiceName"]);return o!=null&&l(t,["voiceName"],o),t}function Rx(n,e){const t={},o=s(e,["prebuiltVoiceConfig"]);return o!=null&&l(t,["prebuiltVoiceConfig"],Ax(n,o)),t}function Px(n,e){const t={},o=s(e,["voiceConfig"]);if(o!=null&&l(t,["voiceConfig"],Rx(n,o)),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function Nx(n,e){const t={},o=s(e,["includeThoughts"]);o!=null&&l(t,["includeThoughts"],o);const i=s(e,["thinkingBudget"]);return i!=null&&l(t,["thinkingBudget"],i),t}function Dx(n,e,t){const o={},i=s(e,["systemInstruction"]);t!==void 0&&i!=null&&l(t,["systemInstruction"],vo(n,Pe(n,i)));const r=s(e,["temperature"]);r!=null&&l(o,["temperature"],r);const a=s(e,["topP"]);a!=null&&l(o,["topP"],a);const u=s(e,["topK"]);u!=null&&l(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&l(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&l(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&l(o,["stopSequences"],f);const p=s(e,["responseLogprobs"]);p!=null&&l(o,["responseLogprobs"],p);const m=s(e,["logprobs"]);m!=null&&l(o,["logprobs"],m);const y=s(e,["presencePenalty"]);y!=null&&l(o,["presencePenalty"],y);const C=s(e,["frequencyPenalty"]);C!=null&&l(o,["frequencyPenalty"],C);const T=s(e,["seed"]);T!=null&&l(o,["seed"],T);const w=s(e,["responseMimeType"]);w!=null&&l(o,["responseMimeType"],w);const h=s(e,["responseSchema"]);h!=null&&l(o,["responseSchema"],px(n,Mr(n,h)));const g=s(e,["routingConfig"]);g!=null&&l(o,["routingConfig"],g);const v=s(e,["modelSelectionConfig"]);v!=null&&l(o,["modelConfig"],mx(n,v));const S=s(e,["safetySettings"]);if(t!==void 0&&S!=null){let ye=S;Array.isArray(ye)&&(ye=ye.map($e=>hx(n,$e))),l(t,["safetySettings"],ye)}const I=s(e,["tools"]);if(t!==void 0&&I!=null){let ye=mi(n,I);Array.isArray(ye)&&(ye=ye.map($e=>bp(n,pi(n,$e)))),l(t,["tools"],ye)}const A=s(e,["toolConfig"]);t!==void 0&&A!=null&&l(t,["toolConfig"],Mx(n,A));const k=s(e,["labels"]);t!==void 0&&k!=null&&l(t,["labels"],k);const R=s(e,["cachedContent"]);t!==void 0&&R!=null&&l(t,["cachedContent"],an(n,R));const L=s(e,["responseModalities"]);L!=null&&l(o,["responseModalities"],L);const F=s(e,["mediaResolution"]);F!=null&&l(o,["mediaResolution"],F);const b=s(e,["speechConfig"]);b!=null&&l(o,["speechConfig"],Px(n,Gp(n,b)));const Ue=s(e,["audioTimestamp"]);Ue!=null&&l(o,["audioTimestamp"],Ue);const Ve=s(e,["thinkingConfig"]);return Ve!=null&&l(o,["thinkingConfig"],Nx(n,Ve)),o}function rd(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],oe(n,o));const i=s(e,["contents"]);if(i!=null){let a=dt(n,i);Array.isArray(a)&&(a=a.map(u=>vo(n,u))),l(t,["contents"],a)}const r=s(e,["config"]);return r!=null&&l(t,["generationConfig"],Dx(n,r,t)),t}function Lx(n,e,t){const o={},i=s(e,["taskType"]);t!==void 0&&i!=null&&l(t,["instances[]","task_type"],i);const r=s(e,["title"]);t!==void 0&&r!=null&&l(t,["instances[]","title"],r);const a=s(e,["outputDimensionality"]);t!==void 0&&a!=null&&l(t,["parameters","outputDimensionality"],a);const u=s(e,["mimeType"]);t!==void 0&&u!=null&&l(t,["instances[]","mimeType"],u);const c=s(e,["autoTruncate"]);return t!==void 0&&c!=null&&l(t,["parameters","autoTruncate"],c),o}function Fx(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],oe(n,o));const i=s(e,["contents"]);i!=null&&l(t,["instances[]","content"],zp(n,i));const r=s(e,["config"]);return r!=null&&l(t,["config"],Lx(n,r,t)),t}function Ux(n,e,t){const o={},i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&l(t,["parameters","storageUri"],i);const r=s(e,["negativePrompt"]);t!==void 0&&r!=null&&l(t,["parameters","negativePrompt"],r);const a=s(e,["numberOfImages"]);t!==void 0&&a!=null&&l(t,["parameters","sampleCount"],a);const u=s(e,["aspectRatio"]);t!==void 0&&u!=null&&l(t,["parameters","aspectRatio"],u);const c=s(e,["guidanceScale"]);t!==void 0&&c!=null&&l(t,["parameters","guidanceScale"],c);const d=s(e,["seed"]);t!==void 0&&d!=null&&l(t,["parameters","seed"],d);const f=s(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&l(t,["parameters","safetySetting"],f);const p=s(e,["personGeneration"]);t!==void 0&&p!=null&&l(t,["parameters","personGeneration"],p);const m=s(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&l(t,["parameters","includeSafetyAttributes"],m);const y=s(e,["includeRaiReason"]);t!==void 0&&y!=null&&l(t,["parameters","includeRaiReason"],y);const C=s(e,["language"]);t!==void 0&&C!=null&&l(t,["parameters","language"],C);const T=s(e,["outputMimeType"]);t!==void 0&&T!=null&&l(t,["parameters","outputOptions","mimeType"],T);const w=s(e,["outputCompressionQuality"]);t!==void 0&&w!=null&&l(t,["parameters","outputOptions","compressionQuality"],w);const h=s(e,["addWatermark"]);t!==void 0&&h!=null&&l(t,["parameters","addWatermark"],h);const g=s(e,["enhancePrompt"]);return t!==void 0&&g!=null&&l(t,["parameters","enhancePrompt"],g),o}function Vx(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],oe(n,o));const i=s(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const r=s(e,["config"]);return r!=null&&l(t,["config"],Ux(n,r,t)),t}function Va(n,e){const t={},o=s(e,["gcsUri"]);o!=null&&l(t,["gcsUri"],o);const i=s(e,["imageBytes"]);i!=null&&l(t,["bytesBase64Encoded"],un(n,i));const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function $x(n,e){const t={},o=s(e,["maskMode"]);o!=null&&l(t,["maskMode"],o);const i=s(e,["segmentationClasses"]);i!=null&&l(t,["maskClasses"],i);const r=s(e,["maskDilation"]);return r!=null&&l(t,["dilation"],r),t}function zx(n,e){const t={},o=s(e,["controlType"]);o!=null&&l(t,["controlType"],o);const i=s(e,["enableControlImageComputation"]);return i!=null&&l(t,["computeControl"],i),t}function Gx(n,e){const t={},o=s(e,["styleDescription"]);return o!=null&&l(t,["styleDescription"],o),t}function Bx(n,e){const t={},o=s(e,["subjectType"]);o!=null&&l(t,["subjectType"],o);const i=s(e,["subjectDescription"]);return i!=null&&l(t,["subjectDescription"],i),t}function Ox(n,e){const t={},o=s(e,["referenceImage"]);o!=null&&l(t,["referenceImage"],Va(n,o));const i=s(e,["referenceId"]);i!=null&&l(t,["referenceId"],i);const r=s(e,["referenceType"]);r!=null&&l(t,["referenceType"],r);const a=s(e,["maskImageConfig"]);a!=null&&l(t,["maskImageConfig"],$x(n,a));const u=s(e,["controlImageConfig"]);u!=null&&l(t,["controlImageConfig"],zx(n,u));const c=s(e,["styleImageConfig"]);c!=null&&l(t,["styleImageConfig"],Gx(n,c));const d=s(e,["subjectImageConfig"]);return d!=null&&l(t,["subjectImageConfig"],Bx(n,d)),t}function Hx(n,e,t){const o={},i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&l(t,["parameters","storageUri"],i);const r=s(e,["negativePrompt"]);t!==void 0&&r!=null&&l(t,["parameters","negativePrompt"],r);const a=s(e,["numberOfImages"]);t!==void 0&&a!=null&&l(t,["parameters","sampleCount"],a);const u=s(e,["aspectRatio"]);t!==void 0&&u!=null&&l(t,["parameters","aspectRatio"],u);const c=s(e,["guidanceScale"]);t!==void 0&&c!=null&&l(t,["parameters","guidanceScale"],c);const d=s(e,["seed"]);t!==void 0&&d!=null&&l(t,["parameters","seed"],d);const f=s(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&l(t,["parameters","safetySetting"],f);const p=s(e,["personGeneration"]);t!==void 0&&p!=null&&l(t,["parameters","personGeneration"],p);const m=s(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&l(t,["parameters","includeSafetyAttributes"],m);const y=s(e,["includeRaiReason"]);t!==void 0&&y!=null&&l(t,["parameters","includeRaiReason"],y);const C=s(e,["language"]);t!==void 0&&C!=null&&l(t,["parameters","language"],C);const T=s(e,["outputMimeType"]);t!==void 0&&T!=null&&l(t,["parameters","outputOptions","mimeType"],T);const w=s(e,["outputCompressionQuality"]);t!==void 0&&w!=null&&l(t,["parameters","outputOptions","compressionQuality"],w);const h=s(e,["editMode"]);t!==void 0&&h!=null&&l(t,["parameters","editMode"],h);const g=s(e,["baseSteps"]);return t!==void 0&&g!=null&&l(t,["parameters","editConfig","baseSteps"],g),o}function Wx(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],oe(n,o));const i=s(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const r=s(e,["referenceImages"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>Ox(n,c))),l(t,["instances[0]","referenceImages"],u)}const a=s(e,["config"]);return a!=null&&l(t,["config"],Hx(n,a,t)),t}function qx(n,e,t){const o={},i=s(e,["includeRaiReason"]);t!==void 0&&i!=null&&l(t,["parameters","includeRaiReason"],i);const r=s(e,["outputMimeType"]);t!==void 0&&r!=null&&l(t,["parameters","outputOptions","mimeType"],r);const a=s(e,["outputCompressionQuality"]);t!==void 0&&a!=null&&l(t,["parameters","outputOptions","compressionQuality"],a);const u=s(e,["numberOfImages"]);t!==void 0&&u!=null&&l(t,["parameters","sampleCount"],u);const c=s(e,["mode"]);return t!==void 0&&c!=null&&l(t,["parameters","mode"],c),o}function Yx(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],oe(n,o));const i=s(e,["image"]);i!=null&&l(t,["instances[0]","image"],Va(n,i));const r=s(e,["upscaleFactor"]);r!=null&&l(t,["parameters","upscaleConfig","upscaleFactor"],r);const a=s(e,["config"]);return a!=null&&l(t,["config"],qx(n,a,t)),t}function Jx(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","name"],oe(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function Kx(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&l(t,["_query","pageToken"],r);const a=s(e,["filter"]);t!==void 0&&a!=null&&l(t,["_query","filter"],a);const u=s(e,["queryBase"]);return t!==void 0&&u!=null&&l(t,["_url","models_url"],Hp(n,u)),o}function Zx(n,e){const t={},o=s(e,["config"]);return o!=null&&l(t,["config"],Kx(n,o,t)),t}function Xx(n,e,t){const o={},i=s(e,["displayName"]);t!==void 0&&i!=null&&l(t,["displayName"],i);const r=s(e,["description"]);t!==void 0&&r!=null&&l(t,["description"],r);const a=s(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&l(t,["defaultCheckpointId"],a),o}function Qx(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],oe(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],Xx(n,i,t)),t}function bx(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","name"],oe(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function jx(n,e,t){const o={},i=s(e,["systemInstruction"]);t!==void 0&&i!=null&&l(t,["systemInstruction"],vo(n,Pe(n,i)));const r=s(e,["tools"]);if(t!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>bp(n,c))),l(t,["tools"],u)}const a=s(e,["generationConfig"]);return t!==void 0&&a!=null&&l(t,["generationConfig"],a),o}function e_(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],oe(n,o));const i=s(e,["contents"]);if(i!=null){let a=dt(n,i);Array.isArray(a)&&(a=a.map(u=>vo(n,u))),l(t,["contents"],a)}const r=s(e,["config"]);return r!=null&&l(t,["config"],jx(n,r,t)),t}function t_(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],oe(n,o));const i=s(e,["contents"]);if(i!=null){let a=dt(n,i);Array.isArray(a)&&(a=a.map(u=>vo(n,u))),l(t,["contents"],a)}const r=s(e,["config"]);return r!=null&&l(t,["config"],r),t}function n_(n,e,t){const o={},i=s(e,["numberOfVideos"]);t!==void 0&&i!=null&&l(t,["parameters","sampleCount"],i);const r=s(e,["outputGcsUri"]);t!==void 0&&r!=null&&l(t,["parameters","storageUri"],r);const a=s(e,["fps"]);t!==void 0&&a!=null&&l(t,["parameters","fps"],a);const u=s(e,["durationSeconds"]);t!==void 0&&u!=null&&l(t,["parameters","durationSeconds"],u);const c=s(e,["seed"]);t!==void 0&&c!=null&&l(t,["parameters","seed"],c);const d=s(e,["aspectRatio"]);t!==void 0&&d!=null&&l(t,["parameters","aspectRatio"],d);const f=s(e,["resolution"]);t!==void 0&&f!=null&&l(t,["parameters","resolution"],f);const p=s(e,["personGeneration"]);t!==void 0&&p!=null&&l(t,["parameters","personGeneration"],p);const m=s(e,["pubsubTopic"]);t!==void 0&&m!=null&&l(t,["parameters","pubsubTopic"],m);const y=s(e,["negativePrompt"]);t!==void 0&&y!=null&&l(t,["parameters","negativePrompt"],y);const C=s(e,["enhancePrompt"]);t!==void 0&&C!=null&&l(t,["parameters","enhancePrompt"],C);const T=s(e,["generateAudio"]);return t!==void 0&&T!=null&&l(t,["parameters","generateAudio"],T),o}function o_(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],oe(n,o));const i=s(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const r=s(e,["image"]);r!=null&&l(t,["instances[0]","image"],Va(n,r));const a=s(e,["config"]);return a!=null&&l(t,["config"],n_(n,a,t)),t}function i_(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function r_(n,e){const t={},o=s(e,["data"]);o!=null&&l(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function s_(n,e){const t={},o=s(e,["fileUri"]);o!=null&&l(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function l_(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],i_(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],r_(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],s_(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const d=s(e,["executableCode"]);d!=null&&l(t,["executableCode"],d);const f=s(e,["functionCall"]);f!=null&&l(t,["functionCall"],f);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function a_(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>l_(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function u_(n,e){const t={},o=s(e,["citationSources"]);return o!=null&&l(t,["citations"],o),t}function c_(n,e){const t={},o=s(e,["retrievedUrl"]);o!=null&&l(t,["retrievedUrl"],o);const i=s(e,["urlRetrievalStatus"]);return i!=null&&l(t,["urlRetrievalStatus"],i),t}function d_(n,e){const t={},o=s(e,["urlMetadata"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>c_(n,r))),l(t,["urlMetadata"],i)}return t}function f_(n,e){const t={},o=s(e,["content"]);o!=null&&l(t,["content"],a_(n,o));const i=s(e,["citationMetadata"]);i!=null&&l(t,["citationMetadata"],u_(n,i));const r=s(e,["tokenCount"]);r!=null&&l(t,["tokenCount"],r);const a=s(e,["finishReason"]);a!=null&&l(t,["finishReason"],a);const u=s(e,["urlContextMetadata"]);u!=null&&l(t,["urlContextMetadata"],d_(n,u));const c=s(e,["avgLogprobs"]);c!=null&&l(t,["avgLogprobs"],c);const d=s(e,["groundingMetadata"]);d!=null&&l(t,["groundingMetadata"],d);const f=s(e,["index"]);f!=null&&l(t,["index"],f);const p=s(e,["logprobsResult"]);p!=null&&l(t,["logprobsResult"],p);const m=s(e,["safetyRatings"]);return m!=null&&l(t,["safetyRatings"],m),t}function sd(n,e){const t={},o=s(e,["candidates"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>f_(n,c))),l(t,["candidates"],u)}const i=s(e,["modelVersion"]);i!=null&&l(t,["modelVersion"],i);const r=s(e,["promptFeedback"]);r!=null&&l(t,["promptFeedback"],r);const a=s(e,["usageMetadata"]);return a!=null&&l(t,["usageMetadata"],a),t}function p_(n,e){const t={},o=s(e,["values"]);return o!=null&&l(t,["values"],o),t}function m_(){return{}}function h_(n,e){const t={},o=s(e,["embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>p_(n,a))),l(t,["embeddings"],r)}return s(e,["metadata"])!=null&&l(t,["metadata"],m_()),t}function g_(n,e){const t={},o=s(e,["bytesBase64Encoded"]);o!=null&&l(t,["imageBytes"],un(n,o));const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function jp(n,e){const t={},o=s(e,["safetyAttributes","categories"]);o!=null&&l(t,["categories"],o);const i=s(e,["safetyAttributes","scores"]);i!=null&&l(t,["scores"],i);const r=s(e,["contentType"]);return r!=null&&l(t,["contentType"],r),t}function y_(n,e){const t={},o=s(e,["_self"]);o!=null&&l(t,["image"],g_(n,o));const i=s(e,["raiFilteredReason"]);i!=null&&l(t,["raiFilteredReason"],i);const r=s(e,["_self"]);return r!=null&&l(t,["safetyAttributes"],jp(n,r)),t}function v_(n,e){const t={},o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>y_(n,a))),l(t,["generatedImages"],r)}const i=s(e,["positivePromptSafetyAttributes"]);return i!=null&&l(t,["positivePromptSafetyAttributes"],jp(n,i)),t}function C_(n,e){const t={},o=s(e,["baseModel"]);o!=null&&l(t,["baseModel"],o);const i=s(e,["createTime"]);i!=null&&l(t,["createTime"],i);const r=s(e,["updateTime"]);return r!=null&&l(t,["updateTime"],r),t}function Ul(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["displayName"]);i!=null&&l(t,["displayName"],i);const r=s(e,["description"]);r!=null&&l(t,["description"],r);const a=s(e,["version"]);a!=null&&l(t,["version"],a);const u=s(e,["_self"]);u!=null&&l(t,["tunedModelInfo"],C_(n,u));const c=s(e,["inputTokenLimit"]);c!=null&&l(t,["inputTokenLimit"],c);const d=s(e,["outputTokenLimit"]);d!=null&&l(t,["outputTokenLimit"],d);const f=s(e,["supportedGenerationMethods"]);return f!=null&&l(t,["supportedActions"],f),t}function T_(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const i=s(e,["_self"]);if(i!=null){let r=Wp(n,i);Array.isArray(r)&&(r=r.map(a=>Ul(n,a))),l(t,["models"],r)}return t}function x_(){return{}}function __(n,e){const t={},o=s(e,["totalTokens"]);o!=null&&l(t,["totalTokens"],o);const i=s(e,["cachedContentTokenCount"]);return i!=null&&l(t,["cachedContentTokenCount"],i),t}function S_(n,e){const t={},o=s(e,["video","uri"]);o!=null&&l(t,["uri"],o);const i=s(e,["video","encodedVideo"]);i!=null&&l(t,["videoBytes"],un(n,i));const r=s(e,["encoding"]);return r!=null&&l(t,["mimeType"],r),t}function E_(n,e){const t={},o=s(e,["_self"]);return o!=null&&l(t,["video"],S_(n,o)),t}function w_(n,e){const t={},o=s(e,["generatedSamples"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>E_(n,u))),l(t,["generatedVideos"],a)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&l(t,["raiMediaFilteredCount"],i);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&l(t,["raiMediaFilteredReasons"],r),t}function k_(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["metadata"]);i!=null&&l(t,["metadata"],i);const r=s(e,["done"]);r!=null&&l(t,["done"],r);const a=s(e,["error"]);a!=null&&l(t,["error"],a);const u=s(e,["response","generateVideoResponse"]);return u!=null&&l(t,["response"],w_(n,u)),t}function I_(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function M_(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["data"]);i!=null&&l(t,["data"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function A_(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["fileUri"]);i!=null&&l(t,["fileUri"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function R_(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],I_(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],M_(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],A_(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const d=s(e,["executableCode"]);d!=null&&l(t,["executableCode"],d);const f=s(e,["functionCall"]);f!=null&&l(t,["functionCall"],f);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function P_(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>R_(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function N_(n,e){const t={},o=s(e,["citations"]);return o!=null&&l(t,["citations"],o),t}function D_(n,e){const t={},o=s(e,["content"]);o!=null&&l(t,["content"],P_(n,o));const i=s(e,["citationMetadata"]);i!=null&&l(t,["citationMetadata"],N_(n,i));const r=s(e,["finishMessage"]);r!=null&&l(t,["finishMessage"],r);const a=s(e,["finishReason"]);a!=null&&l(t,["finishReason"],a);const u=s(e,["avgLogprobs"]);u!=null&&l(t,["avgLogprobs"],u);const c=s(e,["groundingMetadata"]);c!=null&&l(t,["groundingMetadata"],c);const d=s(e,["index"]);d!=null&&l(t,["index"],d);const f=s(e,["logprobsResult"]);f!=null&&l(t,["logprobsResult"],f);const p=s(e,["safetyRatings"]);return p!=null&&l(t,["safetyRatings"],p),t}function ld(n,e){const t={},o=s(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>D_(n,f))),l(t,["candidates"],d)}const i=s(e,["createTime"]);i!=null&&l(t,["createTime"],i);const r=s(e,["responseId"]);r!=null&&l(t,["responseId"],r);const a=s(e,["modelVersion"]);a!=null&&l(t,["modelVersion"],a);const u=s(e,["promptFeedback"]);u!=null&&l(t,["promptFeedback"],u);const c=s(e,["usageMetadata"]);return c!=null&&l(t,["usageMetadata"],c),t}function L_(n,e){const t={},o=s(e,["truncated"]);o!=null&&l(t,["truncated"],o);const i=s(e,["token_count"]);return i!=null&&l(t,["tokenCount"],i),t}function F_(n,e){const t={},o=s(e,["values"]);o!=null&&l(t,["values"],o);const i=s(e,["statistics"]);return i!=null&&l(t,["statistics"],L_(n,i)),t}function U_(n,e){const t={},o=s(e,["billableCharacterCount"]);return o!=null&&l(t,["billableCharacterCount"],o),t}function V_(n,e){const t={},o=s(e,["predictions[]","embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>F_(n,a))),l(t,["embeddings"],r)}const i=s(e,["metadata"]);return i!=null&&l(t,["metadata"],U_(n,i)),t}function $_(n,e){const t={},o=s(e,["gcsUri"]);o!=null&&l(t,["gcsUri"],o);const i=s(e,["bytesBase64Encoded"]);i!=null&&l(t,["imageBytes"],un(n,i));const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function em(n,e){const t={},o=s(e,["safetyAttributes","categories"]);o!=null&&l(t,["categories"],o);const i=s(e,["safetyAttributes","scores"]);i!=null&&l(t,["scores"],i);const r=s(e,["contentType"]);return r!=null&&l(t,["contentType"],r),t}function $a(n,e){const t={},o=s(e,["_self"]);o!=null&&l(t,["image"],$_(n,o));const i=s(e,["raiFilteredReason"]);i!=null&&l(t,["raiFilteredReason"],i);const r=s(e,["_self"]);r!=null&&l(t,["safetyAttributes"],em(n,r));const a=s(e,["prompt"]);return a!=null&&l(t,["enhancedPrompt"],a),t}function z_(n,e){const t={},o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>$a(n,a))),l(t,["generatedImages"],r)}const i=s(e,["positivePromptSafetyAttributes"]);return i!=null&&l(t,["positivePromptSafetyAttributes"],em(n,i)),t}function G_(n,e){const t={},o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>$a(n,r))),l(t,["generatedImages"],i)}return t}function B_(n,e){const t={},o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>$a(n,r))),l(t,["generatedImages"],i)}return t}function O_(n,e){const t={},o=s(e,["endpoint"]);o!=null&&l(t,["name"],o);const i=s(e,["deployedModelId"]);return i!=null&&l(t,["deployedModelId"],i),t}function H_(n,e){const t={},o=s(e,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&l(t,["baseModel"],o);const i=s(e,["createTime"]);i!=null&&l(t,["createTime"],i);const r=s(e,["updateTime"]);return r!=null&&l(t,["updateTime"],r),t}function W_(n,e){const t={},o=s(e,["checkpointId"]);o!=null&&l(t,["checkpointId"],o);const i=s(e,["epoch"]);i!=null&&l(t,["epoch"],i);const r=s(e,["step"]);return r!=null&&l(t,["step"],r),t}function Vl(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["displayName"]);i!=null&&l(t,["displayName"],i);const r=s(e,["description"]);r!=null&&l(t,["description"],r);const a=s(e,["versionId"]);a!=null&&l(t,["version"],a);const u=s(e,["deployedModels"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>O_(n,y))),l(t,["endpoints"],m)}const c=s(e,["labels"]);c!=null&&l(t,["labels"],c);const d=s(e,["_self"]);d!=null&&l(t,["tunedModelInfo"],H_(n,d));const f=s(e,["defaultCheckpointId"]);f!=null&&l(t,["defaultCheckpointId"],f);const p=s(e,["checkpoints"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>W_(n,y))),l(t,["checkpoints"],m)}return t}function q_(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const i=s(e,["_self"]);if(i!=null){let r=Wp(n,i);Array.isArray(r)&&(r=r.map(a=>Vl(n,a))),l(t,["models"],r)}return t}function Y_(){return{}}function J_(n,e){const t={},o=s(e,["totalTokens"]);return o!=null&&l(t,["totalTokens"],o),t}function K_(n,e){const t={},o=s(e,["tokensInfo"]);return o!=null&&l(t,["tokensInfo"],o),t}function Z_(n,e){const t={},o=s(e,["gcsUri"]);o!=null&&l(t,["uri"],o);const i=s(e,["bytesBase64Encoded"]);i!=null&&l(t,["videoBytes"],un(n,i));const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function X_(n,e){const t={},o=s(e,["_self"]);return o!=null&&l(t,["video"],Z_(n,o)),t}function Q_(n,e){const t={},o=s(e,["videos"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>X_(n,u))),l(t,["generatedVideos"],a)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&l(t,["raiMediaFilteredCount"],i);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&l(t,["raiMediaFilteredReasons"],r),t}function b_(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["metadata"]);i!=null&&l(t,["metadata"],i);const r=s(e,["done"]);r!=null&&l(t,["done"],r);const a=s(e,["error"]);a!=null&&l(t,["error"],a);const u=s(e,["response"]);return u!=null&&l(t,["response"],Q_(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j_="Content-Type",eS="X-Server-Timeout",tS="User-Agent",$l="x-goog-api-client",nS="1.3.0",oS=`google-genai-sdk/${nS}`,iS="v1beta1",rS="v1beta",ad=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class tm extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class zl extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class sS{constructor(e){var t,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:iS,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:rS,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,o){const i=[this.getRequestUrlInternal(t)];return o&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,o);if(e.queryParams)for(const[a,u]of Object.entries(e.queryParams))i.searchParams.append(a,String(u));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,t,e.abortSignal),this.unaryApiCall(i,r,e.httpMethod)}patchHttpOptions(e,t){const o=JSON.parse(JSON.stringify(e));for(const[i,r]of Object.entries(t))typeof r=="object"?o[i]=Object.assign(Object.assign({},o[i]),r):r!==void 0&&(o[i]=r);return o}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,t,e.abortSignal),this.streamApiCall(i,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,o){if(t&&t.timeout||o){const i=new AbortController,r=i.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>i.abort(),t.timeout),o&&o.addEventListener("abort",()=>{i.abort()}),e.signal=r}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async i=>(await ud(i),new Nl(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async i=>(await ud(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return jn(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:u,value:c}=yield re(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=r.decode(c);try{const p=JSON.parse(d);if("error"in p){const m=JSON.parse(JSON.stringify(p.error)),y=m.status,C=m.code,T=`got status: ${y}. ${JSON.stringify(p)}`;if(C>=400&&C<500)throw new tm(T);if(C>=500&&C<600)throw new zl(T)}}catch(p){const m=p;if(m.name==="ClientError"||m.name==="ServerError")throw p}a+=d;let f=a.match(ad);for(;f;){const p=f[1];try{const m=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield re(new Nl(m)),a=a.slice(f[0].length),f=a.match(ad)}catch(m){throw new Error(`exception parsing stream chunk ${p}. ${m}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},t=oS+" "+this.clientOptions.userAgentExtra;return e[tS]=t,e[$l]=t,e[j_]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[o,i]of Object.entries(e.headers))t.append(o,i);e.timeout&&e.timeout>0&&t.append(eS,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var o;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const r=this.clientOptions.uploader,a=await r.stat(e);i.sizeBytes=String(a.size);const u=(o=t==null?void 0:t.mimeType)!==null&&o!==void 0?o:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c=await this.fetchUploadUrl(i,t);return r.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var o;let i={};t!=null&&t.httpOptions?i=t.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const r={file:e},a=await this.request({path:q("upload/v1beta/files",r._url),body:JSON.stringify(r),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(o=a==null?void 0:a.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function ud(n){var e;if(n===void 0)throw new zl("response is undefined");if(!n.ok){const t=n.status,o=n.statusText;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=`got status: ${t} ${o}. ${JSON.stringify(i)}`;throw t>=400&&t<500?new tm(r):t>=500&&t<600?new zl(r):new Error(r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lS="mcp_used/unknown";function nm(n){for(const e of n)if(za(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function om(n){var e;const t=(e=n[$l])!==null&&e!==void 0?e:"";n[$l]=(t+` ${lS}`).trimStart()}function aS(n){var e,t,o;return(o=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>za(i)))!==null&&o!==void 0?o:!1}function uS(n){var e,t,o;return(o=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>!za(i)))!==null&&o!==void 0?o:!1}function za(n){return n!==null&&typeof n=="object"&&n instanceof Ga}function cS(n,e=100){return jn(this,arguments,function*(){let o,i=0;for(;i<e;){const r=yield re(n.listTools({cursor:o}));for(const a of r.tools)yield yield re(a),i++;if(!r.nextCursor)break;o=r.nextCursor}})}class Ga{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Ga(e,t)}async initialize(){var e,t,o,i;if(this.mcpTools.length>0)return;const r={},a=[];for(const f of this.mcpClients)try{for(var u=!0,c=(t=void 0,Ho(cS(f))),d;d=await c.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const p=i;a.push(p);const m=p.name;if(r[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);r[m]=f}}catch(p){t={error:p}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),yv(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=await this.functionNameToMcpClient[o.name].callTool({name:o.name,arguments:o.args});t.push({functionResponse:{name:o.name,response:r.isError?{error:r}:r}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function dS(n,e,t){const o=new iv;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data);const r=ET(n,i);Object.assign(o,r),e(o)}class fS{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o}async connect(e){var t,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),a=hS(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(v=>{d=v}),p=e.callbacks,m=function(){d({})},y=this.apiClient,C={onopen:m,onmessage:v=>{dS(y,p.onmessage,v)},onerror:(t=p==null?void 0:p.onerror)!==null&&t!==void 0?t:function(v){},onclose:(o=p==null?void 0:p.onclose)!==null&&o!==void 0?o:function(v){}},T=this.webSocketFactory.create(c,mS(a),C);T.connect(),await f;const w=oe(this.apiClient,e.model),h=Zp(this.apiClient,{model:w}),g=Fl(this.apiClient,{setup:h});return T.send(JSON.stringify(g)),new pS(T,this.apiClient)}}class pS{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=$C(this.apiClient,e),o=Xp(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=zC(this.apiClient,e),o=Fl(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const t=Fl(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(qn.PLAY)}pause(){this.sendPlaybackControl(qn.PAUSE)}stop(){this.sendPlaybackControl(qn.STOP)}resetContext(){this.sendPlaybackControl(qn.RESET_CONTEXT)}close(){this.conn.close()}}function mS(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function hS(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function yS(n,e,t){const o=new ov;let i;if(t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),n.isVertexAI()){const r=hT(n,i);Object.assign(o,r)}else{const r=mT(n,i);Object.assign(o,r)}e(o)}class vS{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o,this.music=new fS(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,o,i,r,a,u;const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const p=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&nm(e.config.tools)&&om(p);const m=_S(p);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m);else{const L=this.apiClient.getApiKey();let F="BidiGenerateContent",b="key";L!=null&&L.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),F="BidiGenerateContentConstrained",b="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${F}?${b}=${L}`}let y=()=>{};const C=new Promise(L=>{y=L}),T=e.callbacks,w=function(){var L;(L=T==null?void 0:T.onopen)===null||L===void 0||L.call(T),y({})},h=this.apiClient,g={onopen:w,onmessage:L=>{yS(h,T.onmessage,L)},onerror:(t=T==null?void 0:T.onerror)!==null&&t!==void 0?t:function(L){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(L){}},v=this.webSocketFactory.create(f,xS(m),g);v.connect(),await C;let S=oe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const L=this.apiClient.getProject(),F=this.apiClient.getLocation();S=`projects/${L}/locations/${F}/`+S}let I={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[kr.AUDIO]}:e.config.responseModalities=[kr.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const A=(u=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],k=[];for(const L of A)if(this.isCallableTool(L)){const F=L;k.push(await F.tool())}else k.push(L);k.length>0&&(e.config.tools=k);const R={model:S,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?I=PC(this.apiClient,R):I=RC(this.apiClient,R),delete I.config,v.send(JSON.stringify(I)),new TS(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const CS={turnComplete:!0};class TS{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let o=[];try{o=dt(e,t.turns),e.isVertexAI()?o=o.map(i=>vo(e,i)):o=o.map(i=>Jr(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let o=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?o=t.functionResponses:o=[t.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const r of o){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(gS)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},CS),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:VC(this.apiClient,e)}:t={realtimeInput:UC(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function xS(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function _S(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cd=10;function dd(n){var e,t,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Zi(a)){i=!0;break}if(!i)return!0;const r=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function Zi(n){return"callTool"in n&&typeof n.callTool=="function"}function fd(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SS extends yo{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var o,i,r,a,u;const c=await this.processParamsForMcpUsage(t);if(!aS(t)||dd(t.config))return await this.generateContentInternal(c);if(uS(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,f;const p=dt(this.apiClient,c.contents),m=(r=(i=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:cd;let y=0;for(;y<m&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const C=d.candidates[0].content,T=[];for(const w of(u=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(Zi(w)){const g=await w.callTool(d.functionCalls);T.push(...g)}y++,f={role:"user",parts:T},c.contents=dt(this.apiClient,c.contents),c.contents.push(C),c.contents.push(f),fd(c.config)&&(p.push(C),p.push(f))}return fd(c.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async t=>{if(dd(t.config)){const o=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(o=>{var i;let r;const a=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?r=c==null?void 0:c.safetyAttributes:a.push(c);let u;return r?u={generatedImages:a,positivePromptSafetyAttributes:r}:u={generatedImages:a},u}),this.list=async t=>{var o;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((o=a.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Yr(po.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async t=>{const o={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(o.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async t=>{let o={numberOfImages:1,mode:"upscale"};t.config&&(o=Object.assign(Object.assign({},o),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:o};return await this.upscaleImageInternal(i)}}async processParamsForMcpUsage(e){var t,o,i;const r=(t=e.config)===null||t===void 0?void 0:t.tools;if(!r)return e;const a=await Promise.all(r.map(async c=>Zi(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(u.config.tools=a,e.config&&e.config.tools&&nm(e.config.tools)){const c=(i=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),om(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var t,o,i;const r=new Map;for(const a of(o=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&o!==void 0?o:[])if(Zi(a)){const u=a,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(r.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);r.set(d.name,u)}}return r}async processAfcStream(e){var t,o,i;const r=(i=(o=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:cd;let a=!1,u=0;const c=await this.initAfcToolsMap(e);return function(d,f,p){var m,y;return jn(this,arguments,function*(){for(var C,T,w,h;u<r;){a&&(u++,a=!1);const I=yield re(d.processParamsForMcpUsage(p)),A=yield re(d.generateContentStreamInternal(I)),k=[],R=[];try{for(var g=!0,v=(T=void 0,Ho(A)),S;S=yield re(v.next()),C=S.done,!C;g=!0){h=S.value,g=!1;const L=h;if(yield yield re(L),L.candidates&&(!((m=L.candidates[0])===null||m===void 0)&&m.content)){R.push(L.candidates[0].content);for(const F of(y=L.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(u<r&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(F.functionCall.name)){const b=yield re(f.get(F.functionCall.name).callTool([F.functionCall]));k.push(...b)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(L){T={error:L}}finally{try{!g&&!C&&(w=v.return)&&(yield re(w.call(v)))}finally{if(T)throw T.error}}if(k.length>0){a=!0;const L=new Io;L.candidates=[{content:{role:"user",parts:k}}],yield yield re(L);const F=[];F.push(...R),F.push({role:"user",parts:k});const b=dt(d.apiClient,p.contents).concat(F);p.contents=b}else break}})}(this,c,e)}async generateContentInternal(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=rd(this.apiClient,e);return u=q("{model}:generateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>{const p=ld(this.apiClient,f),m=new Io;return Object.assign(m,p),m})}else{const d=id(this.apiClient,e);return u=q("{model}:generateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=sd(this.apiClient,f),m=new Io;return Object.assign(m,p),m})}}async generateContentStreamInternal(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=rd(this.apiClient,e);u=q("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d.config,delete d._url,delete d._query;const f=this.apiClient;return a=f.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(p){return jn(this,arguments,function*(){var m,y,C,T;try{for(var w=!0,h=Ho(p),g;g=yield re(h.next()),m=g.done,!m;w=!0){T=g.value,w=!1;const S=ld(f,yield re(T.json())),I=new Io;Object.assign(I,S),yield yield re(I)}}catch(v){y={error:v}}finally{try{!w&&!m&&(C=h.return)&&(yield re(C.call(h)))}finally{if(y)throw y.error}}})})}else{const d=id(this.apiClient,e);u=q("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d.config,delete d._url,delete d._query;const f=this.apiClient;return a=f.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(p){return jn(this,arguments,function*(){var m,y,C,T;try{for(var w=!0,h=Ho(p),g;g=yield re(h.next()),m=g.done,!m;w=!0){T=g.value,w=!1;const S=sd(f,yield re(T.json())),I=new Io;Object.assign(I,S),yield yield re(I)}}catch(v){y={error:v}}finally{try{!w&&!m&&(C=h.return)&&(yield re(C.call(h)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Fx(this.apiClient,e);return u=q("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>{const p=V_(this.apiClient,f),m=new $c;return Object.assign(m,p),m})}else{const d=ZT(this.apiClient,e);return u=q("{model}:batchEmbedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=h_(this.apiClient,f),m=new $c;return Object.assign(m,p),m})}}async generateImagesInternal(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Vx(this.apiClient,e);return u=q("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>{const p=z_(this.apiClient,f),m=new zc;return Object.assign(m,p),m})}else{const d=QT(this.apiClient,e);return u=q("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=v_(this.apiClient,f),m=new zc;return Object.assign(m,p),m})}}async editImageInternal(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI()){const u=Wx(this.apiClient,e);return r=q("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=G_(this.apiClient,c),f=new Qy;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI()){const u=Yx(this.apiClient,e);return r=q("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=B_(this.apiClient,c),f=new by;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Jx(this.apiClient,e);return u=q("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>Vl(this.apiClient,f))}else{const d=bT(this.apiClient,e);return u=q("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>Ul(this.apiClient,f))}}async listInternal(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Zx(this.apiClient,e);return u=q("{models_url}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>{const p=q_(this.apiClient,f),m=new Gc;return Object.assign(m,p),m})}else{const d=ex(this.apiClient,e);return u=q("{models_url}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=T_(this.apiClient,f),m=new Gc;return Object.assign(m,p),m})}}async update(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Qx(this.apiClient,e);return u=q("{model}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>Vl(this.apiClient,f))}else{const d=nx(this.apiClient,e);return u=q("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>Ul(this.apiClient,f))}}async delete(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=bx(this.apiClient,e);return u=q("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(()=>{const f=Y_(),p=new Bc;return Object.assign(p,f),p})}else{const d=ox(this.apiClient,e);return u=q("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(()=>{const f=x_(),p=new Bc;return Object.assign(p,f),p})}}async countTokens(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=e_(this.apiClient,e);return u=q("{model}:countTokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>{const p=J_(this.apiClient,f),m=new Oc;return Object.assign(m,p),m})}else{const d=rx(this.apiClient,e);return u=q("{model}:countTokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=__(this.apiClient,f),m=new Oc;return Object.assign(m,p),m})}}async computeTokens(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI()){const u=t_(this.apiClient,e);return r=q("{model}:computeTokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=K_(this.apiClient,c),f=new jy;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=o_(this.apiClient,e);return u=q("{model}:predictLongRunning",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>b_(this.apiClient,f))}else{const d=ax(this.apiClient,e);return u=q("{model}:predictLongRunning",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>k_(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ES(n,e){const t={},o=s(e,["operationName"]);o!=null&&l(t,["_url","operationName"],o);const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function wS(n,e){const t={},o=s(e,["operationName"]);o!=null&&l(t,["_url","operationName"],o);const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function kS(n,e){const t={},o=s(e,["operationName"]);o!=null&&l(t,["operationName"],o);const i=s(e,["resourceName"]);i!=null&&l(t,["_url","resourceName"],i);const r=s(e,["config"]);return r!=null&&l(t,["config"],r),t}function IS(n,e){const t={},o=s(e,["video","uri"]);o!=null&&l(t,["uri"],o);const i=s(e,["video","encodedVideo"]);i!=null&&l(t,["videoBytes"],un(n,i));const r=s(e,["encoding"]);return r!=null&&l(t,["mimeType"],r),t}function MS(n,e){const t={},o=s(e,["_self"]);return o!=null&&l(t,["video"],IS(n,o)),t}function AS(n,e){const t={},o=s(e,["generatedSamples"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>MS(n,u))),l(t,["generatedVideos"],a)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&l(t,["raiMediaFilteredCount"],i);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&l(t,["raiMediaFilteredReasons"],r),t}function RS(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["metadata"]);i!=null&&l(t,["metadata"],i);const r=s(e,["done"]);r!=null&&l(t,["done"],r);const a=s(e,["error"]);a!=null&&l(t,["error"],a);const u=s(e,["response","generateVideoResponse"]);return u!=null&&l(t,["response"],AS(n,u)),t}function PS(n,e){const t={},o=s(e,["gcsUri"]);o!=null&&l(t,["uri"],o);const i=s(e,["bytesBase64Encoded"]);i!=null&&l(t,["videoBytes"],un(n,i));const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function NS(n,e){const t={},o=s(e,["_self"]);return o!=null&&l(t,["video"],PS(n,o)),t}function DS(n,e){const t={},o=s(e,["videos"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>NS(n,u))),l(t,["generatedVideos"],a)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&l(t,["raiMediaFilteredCount"],i);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&l(t,["raiMediaFilteredReasons"],r),t}function pd(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["metadata"]);i!=null&&l(t,["metadata"],i);const r=s(e,["done"]);r!=null&&l(t,["done"],r);const a=s(e,["error"]);a!=null&&l(t,["error"],a);const u=s(e,["response"]);return u!=null&&l(t,["response"],DS(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LS extends yo{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let r;return o&&"httpOptions"in o&&(r=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:r}})}else return this.getVideosOperationInternal({operationName:t.name,config:o})}async getVideosOperationInternal(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=wS(this.apiClient,e);return u=q("{operationName}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>pd(this.apiClient,f))}else{const d=ES(this.apiClient,e);return u=q("{operationName}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>RS(this.apiClient,f))}}async fetchPredictVideosOperationInternal(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI()){const u=kS(this.apiClient,e);return r=q("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>pd(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FS(n,e){const t={},o=s(e,["voiceName"]);return o!=null&&l(t,["voiceName"],o),t}function im(n,e){const t={},o=s(e,["prebuiltVoiceConfig"]);return o!=null&&l(t,["prebuiltVoiceConfig"],FS(n,o)),t}function US(n,e){const t={},o=s(e,["speaker"]);o!=null&&l(t,["speaker"],o);const i=s(e,["voiceConfig"]);return i!=null&&l(t,["voiceConfig"],im(n,i)),t}function VS(n,e){const t={},o=s(e,["speakerVoiceConfigs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>US(n,r))),l(t,["speakerVoiceConfigs"],i)}return t}function $S(n,e){const t={},o=s(e,["voiceConfig"]);o!=null&&l(t,["voiceConfig"],im(n,o));const i=s(e,["multiSpeakerVoiceConfig"]);i!=null&&l(t,["multiSpeakerVoiceConfig"],VS(n,i));const r=s(e,["languageCode"]);return r!=null&&l(t,["languageCode"],r),t}function zS(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function GS(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["data"]);o!=null&&l(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function BS(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["fileUri"]);o!=null&&l(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function OS(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],zS(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],GS(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],BS(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const d=s(e,["executableCode"]);d!=null&&l(t,["executableCode"],d);const f=s(e,["functionCall"]);f!=null&&l(t,["functionCall"],f);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function HS(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>OS(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function WS(n,e){const t={},o=s(e,["behavior"]);o!=null&&l(t,["behavior"],o);const i=s(e,["description"]);i!=null&&l(t,["description"],i);const r=s(e,["name"]);r!=null&&l(t,["name"],r);const a=s(e,["parameters"]);a!=null&&l(t,["parameters"],a);const u=s(e,["response"]);return u!=null&&l(t,["response"],u),t}function qS(n,e){const t={},o=s(e,["startTime"]);o!=null&&l(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function YS(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&l(t,["timeRangeFilter"],qS(n,o)),t}function JS(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function KS(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],JS(n,o)),t}function ZS(){return{}}function XS(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>WS(n,d))),l(t,["functionDeclarations"],c)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearch"]);i!=null&&l(t,["googleSearch"],YS(n,i));const r=s(e,["googleSearchRetrieval"]);if(r!=null&&l(t,["googleSearchRetrieval"],KS(n,r)),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(e,["urlContext"])!=null&&l(t,["urlContext"],ZS());const u=s(e,["codeExecution"]);return u!=null&&l(t,["codeExecution"],u),t}function QS(n,e){const t={},o=s(e,["handle"]);if(o!=null&&l(t,["handle"],o),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function md(){return{}}function bS(n,e){const t={},o=s(e,["disabled"]);o!=null&&l(t,["disabled"],o);const i=s(e,["startOfSpeechSensitivity"]);i!=null&&l(t,["startOfSpeechSensitivity"],i);const r=s(e,["endOfSpeechSensitivity"]);r!=null&&l(t,["endOfSpeechSensitivity"],r);const a=s(e,["prefixPaddingMs"]);a!=null&&l(t,["prefixPaddingMs"],a);const u=s(e,["silenceDurationMs"]);return u!=null&&l(t,["silenceDurationMs"],u),t}function jS(n,e){const t={},o=s(e,["automaticActivityDetection"]);o!=null&&l(t,["automaticActivityDetection"],bS(n,o));const i=s(e,["activityHandling"]);i!=null&&l(t,["activityHandling"],i);const r=s(e,["turnCoverage"]);return r!=null&&l(t,["turnCoverage"],r),t}function e1(n,e){const t={},o=s(e,["targetTokens"]);return o!=null&&l(t,["targetTokens"],o),t}function t1(n,e){const t={},o=s(e,["triggerTokens"]);o!=null&&l(t,["triggerTokens"],o);const i=s(e,["slidingWindow"]);return i!=null&&l(t,["slidingWindow"],e1(n,i)),t}function n1(n,e){const t={},o=s(e,["proactiveAudio"]);return o!=null&&l(t,["proactiveAudio"],o),t}function o1(n,e,t){const o={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&l(t,["setup","generationConfig"],i);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&l(t,["setup","generationConfig","responseModalities"],r);const a=s(e,["temperature"]);t!==void 0&&a!=null&&l(t,["setup","generationConfig","temperature"],a);const u=s(e,["topP"]);t!==void 0&&u!=null&&l(t,["setup","generationConfig","topP"],u);const c=s(e,["topK"]);t!==void 0&&c!=null&&l(t,["setup","generationConfig","topK"],c);const d=s(e,["maxOutputTokens"]);t!==void 0&&d!=null&&l(t,["setup","generationConfig","maxOutputTokens"],d);const f=s(e,["mediaResolution"]);t!==void 0&&f!=null&&l(t,["setup","generationConfig","mediaResolution"],f);const p=s(e,["seed"]);t!==void 0&&p!=null&&l(t,["setup","generationConfig","seed"],p);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&l(t,["setup","generationConfig","speechConfig"],$S(n,Ua(n,m)));const y=s(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&l(t,["setup","generationConfig","enableAffectiveDialog"],y);const C=s(e,["systemInstruction"]);t!==void 0&&C!=null&&l(t,["setup","systemInstruction"],HS(n,Pe(n,C)));const T=s(e,["tools"]);if(t!==void 0&&T!=null){let A=mi(n,T);Array.isArray(A)&&(A=A.map(k=>XS(n,pi(n,k)))),l(t,["setup","tools"],A)}const w=s(e,["sessionResumption"]);t!==void 0&&w!=null&&l(t,["setup","sessionResumption"],QS(n,w));const h=s(e,["inputAudioTranscription"]);t!==void 0&&h!=null&&l(t,["setup","inputAudioTranscription"],md());const g=s(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&l(t,["setup","outputAudioTranscription"],md());const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&l(t,["setup","realtimeInputConfig"],jS(n,v));const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&l(t,["setup","contextWindowCompression"],t1(n,S));const I=s(e,["proactivity"]);return t!==void 0&&I!=null&&l(t,["setup","proactivity"],n1(n,I)),o}function i1(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["setup","model"],oe(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],o1(n,i,t)),t}function r1(n,e,t){const o={},i=s(e,["expireTime"]);t!==void 0&&i!=null&&l(t,["expireTime"],i);const r=s(e,["newSessionExpireTime"]);t!==void 0&&r!=null&&l(t,["newSessionExpireTime"],r);const a=s(e,["uses"]);t!==void 0&&a!=null&&l(t,["uses"],a);const u=s(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&l(t,["bidiGenerateContentSetup"],i1(n,u));const c=s(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&l(t,["fieldMask"],c),o}function s1(n,e){const t={},o=s(e,["config"]);return o!=null&&l(t,["config"],r1(n,o,t)),t}function l1(n,e){const t={},o=s(e,["name"]);return o!=null&&l(t,["name"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a1(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const o=n[t];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const i=Object.keys(o).map(r=>`${t}.${r}`);e.push(...i)}else e.push(t)}return e.join(",")}function u1(n,e){let t=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const r=o.setup;typeof r=="object"&&r!==null?(n.bidiGenerateContentSetup=r,t=r):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const r=a1(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)r?n.fieldMask=r:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>a.includes(d)?`generationConfig.${d}`:d));const c=[];r&&c.push(r),u.length>0&&c.push(...u),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class c1 extends yo{constructor(e){super(),this.apiClient=e}async create(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=s1(this.apiClient,e);r=q("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const c=u1(u,e.config);return i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>l1(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d1(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","name"],o);const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function f1(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&l(t,["_query","pageToken"],r);const a=s(e,["filter"]);return t!==void 0&&a!=null&&l(t,["_query","filter"],a),o}function p1(n,e){const t={},o=s(e,["config"]);return o!=null&&l(t,["config"],f1(n,o,t)),t}function m1(n,e){const t={},o=s(e,["textInput"]);o!=null&&l(t,["textInput"],o);const i=s(e,["output"]);return i!=null&&l(t,["output"],i),t}function h1(n,e){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(e,["examples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>m1(n,r))),l(t,["examples","examples"],i)}return t}function g1(n,e,t){const o={};if(s(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=s(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&l(t,["displayName"],i),s(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=s(e,["epochCount"]);t!==void 0&&r!=null&&l(t,["tuningTask","hyperparameters","epochCount"],r);const a=s(e,["learningRateMultiplier"]);if(a!=null&&l(o,["tuningTask","hyperparameters","learningRateMultiplier"],a),s(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(e,["batchSize"]);t!==void 0&&u!=null&&l(t,["tuningTask","hyperparameters","batchSize"],u);const c=s(e,["learningRate"]);return t!==void 0&&c!=null&&l(t,["tuningTask","hyperparameters","learningRate"],c),o}function y1(n,e){const t={},o=s(e,["baseModel"]);o!=null&&l(t,["baseModel"],o);const i=s(e,["trainingDataset"]);i!=null&&l(t,["tuningTask","trainingData"],h1(n,i));const r=s(e,["config"]);return r!=null&&l(t,["config"],g1(n,r,t)),t}function v1(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","name"],o);const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function C1(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&l(t,["_query","pageToken"],r);const a=s(e,["filter"]);return t!==void 0&&a!=null&&l(t,["_query","filter"],a),o}function T1(n,e){const t={},o=s(e,["config"]);return o!=null&&l(t,["config"],C1(n,o,t)),t}function x1(n,e,t){const o={},i=s(e,["gcsUri"]);if(t!==void 0&&i!=null&&l(t,["supervisedTuningSpec","trainingDatasetUri"],i),s(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function _1(n,e){const t={},o=s(e,["gcsUri"]);return o!=null&&l(t,["validationDatasetUri"],o),t}function S1(n,e,t){const o={},i=s(e,["validationDataset"]);t!==void 0&&i!=null&&l(t,["supervisedTuningSpec"],_1(n,i));const r=s(e,["tunedModelDisplayName"]);t!==void 0&&r!=null&&l(t,["tunedModelDisplayName"],r);const a=s(e,["description"]);t!==void 0&&a!=null&&l(t,["description"],a);const u=s(e,["epochCount"]);t!==void 0&&u!=null&&l(t,["supervisedTuningSpec","hyperParameters","epochCount"],u);const c=s(e,["learningRateMultiplier"]);t!==void 0&&c!=null&&l(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const d=s(e,["exportLastCheckpointOnly"]);t!==void 0&&d!=null&&l(t,["supervisedTuningSpec","exportLastCheckpointOnly"],d);const f=s(e,["adapterSize"]);if(t!==void 0&&f!=null&&l(t,["supervisedTuningSpec","hyperParameters","adapterSize"],f),s(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function E1(n,e){const t={},o=s(e,["baseModel"]);o!=null&&l(t,["baseModel"],o);const i=s(e,["trainingDataset"]);i!=null&&l(t,["supervisedTuningSpec","trainingDatasetUri"],x1(n,i,t));const r=s(e,["config"]);return r!=null&&l(t,["config"],S1(n,r,t)),t}function w1(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["model"],o);const i=s(e,["name"]);return i!=null&&l(t,["endpoint"],i),t}function rm(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["state"]);i!=null&&l(t,["state"],Bp(n,i));const r=s(e,["createTime"]);r!=null&&l(t,["createTime"],r);const a=s(e,["tuningTask","startTime"]);a!=null&&l(t,["startTime"],a);const u=s(e,["tuningTask","completeTime"]);u!=null&&l(t,["endTime"],u);const c=s(e,["updateTime"]);c!=null&&l(t,["updateTime"],c);const d=s(e,["description"]);d!=null&&l(t,["description"],d);const f=s(e,["baseModel"]);f!=null&&l(t,["baseModel"],f);const p=s(e,["_self"]);p!=null&&l(t,["tunedModel"],w1(n,p));const m=s(e,["distillationSpec"]);m!=null&&l(t,["distillationSpec"],m);const y=s(e,["experiment"]);y!=null&&l(t,["experiment"],y);const C=s(e,["labels"]);C!=null&&l(t,["labels"],C);const T=s(e,["pipelineJob"]);T!=null&&l(t,["pipelineJob"],T);const w=s(e,["serviceAccount"]);w!=null&&l(t,["serviceAccount"],w);const h=s(e,["tunedModelDisplayName"]);return h!=null&&l(t,["tunedModelDisplayName"],h),t}function k1(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const i=s(e,["tunedModels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>rm(n,a))),l(t,["tuningJobs"],r)}return t}function I1(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["metadata"]);i!=null&&l(t,["metadata"],i);const r=s(e,["done"]);r!=null&&l(t,["done"],r);const a=s(e,["error"]);return a!=null&&l(t,["error"],a),t}function M1(n,e){const t={},o=s(e,["checkpointId"]);o!=null&&l(t,["checkpointId"],o);const i=s(e,["epoch"]);i!=null&&l(t,["epoch"],i);const r=s(e,["step"]);r!=null&&l(t,["step"],r);const a=s(e,["endpoint"]);return a!=null&&l(t,["endpoint"],a),t}function A1(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["model"],o);const i=s(e,["endpoint"]);i!=null&&l(t,["endpoint"],i);const r=s(e,["checkpoints"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>M1(n,u))),l(t,["checkpoints"],a)}return t}function Gl(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["state"]);i!=null&&l(t,["state"],Bp(n,i));const r=s(e,["createTime"]);r!=null&&l(t,["createTime"],r);const a=s(e,["startTime"]);a!=null&&l(t,["startTime"],a);const u=s(e,["endTime"]);u!=null&&l(t,["endTime"],u);const c=s(e,["updateTime"]);c!=null&&l(t,["updateTime"],c);const d=s(e,["error"]);d!=null&&l(t,["error"],d);const f=s(e,["description"]);f!=null&&l(t,["description"],f);const p=s(e,["baseModel"]);p!=null&&l(t,["baseModel"],p);const m=s(e,["tunedModel"]);m!=null&&l(t,["tunedModel"],A1(n,m));const y=s(e,["supervisedTuningSpec"]);y!=null&&l(t,["supervisedTuningSpec"],y);const C=s(e,["tuningDataStats"]);C!=null&&l(t,["tuningDataStats"],C);const T=s(e,["encryptionSpec"]);T!=null&&l(t,["encryptionSpec"],T);const w=s(e,["partnerModelTuningSpec"]);w!=null&&l(t,["partnerModelTuningSpec"],w);const h=s(e,["distillationSpec"]);h!=null&&l(t,["distillationSpec"],h);const g=s(e,["experiment"]);g!=null&&l(t,["experiment"],g);const v=s(e,["labels"]);v!=null&&l(t,["labels"],v);const S=s(e,["pipelineJob"]);S!=null&&l(t,["pipelineJob"],S);const I=s(e,["serviceAccount"]);I!=null&&l(t,["serviceAccount"],I);const A=s(e,["tunedModelDisplayName"]);return A!=null&&l(t,["tunedModelDisplayName"],A),t}function R1(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const i=s(e,["tuningJobs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Gl(n,a))),l(t,["tuningJobs"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class P1 extends yo{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Yr(po.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const o=await this.tuneMldevInternal(t);let i="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?i=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(i=o.name.split("/operations/")[0]),{name:i,state:Pl.JOB_STATE_QUEUED}}}}async getInternal(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=v1(this.apiClient,e);return u=q("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>Gl(this.apiClient,f))}else{const d=d1(this.apiClient,e);return u=q("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>rm(this.apiClient,f))}}async listInternal(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=T1(this.apiClient,e);return u=q("tuningJobs",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>{const p=R1(this.apiClient,f),m=new Hc;return Object.assign(m,p),m})}else{const d=p1(this.apiClient,e);return u=q("tunedModels",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=k1(this.apiClient,f),m=new Hc;return Object.assign(m,p),m})}}async tuneInternal(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI()){const u=E1(this.apiClient,e);return r=q("tuningJobs",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>Gl(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=y1(this.apiClient,e);return r=q("tunedModels",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>I1(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N1{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const D1=1024*1024*8,L1=3,F1=1e3,U1=2,xs="x-goog-upload-status";async function V1(n,e,t){var o,i,r;let a=0,u=0,c=new Nl(new Response),d="upload";for(a=n.size;u<a;){const p=Math.min(D1,a-u),m=n.slice(u,u+p);u+p>=a&&(d+=", finalize");let y=0,C=F1;for(;y<L1&&(c=await t.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((o=c==null?void 0:c.headers)===null||o===void 0)&&o[xs]));)y++,await z1(C),C=C*U1;if(u+=p,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[xs])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await(c==null?void 0:c.json());if(((r=c==null?void 0:c.headers)===null||r===void 0?void 0:r[xs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function $1(n){return{size:n.size,type:n.type}}function z1(n){return new Promise(e=>setTimeout(e,n))}class G1{async upload(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await V1(e,t,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B1{create(e,t,o){return new O1(e,t,o)}}class O1{constructor(e,t,o){this.url=e,this.headers=t,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hd="x-goog-api-key";class H1{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(hd)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(hd,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W1="gl-node/";class sm{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const o=Xy(e,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const i=new H1(this.apiKey);this.apiClient=new sS({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:W1+"web",uploader:new G1,downloader:new N1}),this.models=new SS(this.apiClient),this.live=new vS(this.apiClient,i,new B1),this.chats=new _0(this.models,this.apiClient),this.caches=new C0(this.apiClient),this.files=new F0(this.apiClient),this.operations=new LS(this.apiClient),this.authTokens=new c1(this.apiClient),this.tunings=new P1(this.apiClient)}}const q1="QUl6YVN5QzV6Q2dYWHdDTmJVbWJRUl9waFJ0bWNpUlNCckNjRHFn",Y1=atob(q1),J1=new sm({apiKey:Y1}),K1=n=>new Promise((e,t)=>{const o=new FileReader;o.onload=()=>{const r=o.result.split(",")[1];e(r)},o.onerror=t,o.readAsDataURL(n)}),Z1=async n=>{try{console.log("Starting image analysis..."),console.log("Image file size:",n.size,"bytes"),console.log("Image file type:",n.type);const e=await K1(n);console.log("Image converted to base64, length:",e.length);const t=`
基于所附图示内容，使用HTML来完整复现原图所表达的信息结构与视觉布局，并提供以下增强功能：

【重要】：生成的元素必须确保拖拽后不会消失，每个元素都要有稳定的DOM结构和正确的坐标定位。

1. 结构分析与分解原则：

为便于开发与管理，首先对整张图进行逻辑划分：
	• 纵向划分：将整图划分为上、中、下三个水平区域；
	• 横向划分：再将每个区域进一步细分为左、中、右三个垂直子区；
	• 形成总计9个区域的"九宫格"结构，每个区域内部逐个绘制原图中的元素节点。

2. 元素级别的绘制要求：
	• 每个元素节点需以HTML DOM元素形式表示（如<div>、<svg>等）；
	• 每个节点都应保留原图的相对位置、大小、文字信息、颜色与风格；
	• 原图中的"图x-y"编号一律删除，保留正文内容与结构逻辑；
	• 所有文本翻译为中文，以符合本地化出版需求；
	• 每个元素必须有明确的边框线框，便于拖拽操作。

3. 交互功能增强（关键要求）：

【核心问题解决】：拖动后元素绝对不能消失！每个元素必须：
	• 具备稳定的DOM结构和唯一ID
	• 拖拽时保持元素的完整性和可见性
	• 拖拽结束后元素必须保持在新位置并继续可见

每个图中元素均应具备以下交互能力：
	• ✅ 可拖拽：用户可任意拖动节点进行布局调整，拖拽后元素必须保持可见且功能正常；
	• ✅ 点击隐藏/显示：点击任一元素，可切换其显示与隐藏状态；
	• ✅ 缩放功能：用户可对任意元素进行局部放大或缩小；
	• ✅ 连接线管理：所有连接线可以显示或隐藏，每个元素外部增加线框；
	• ✅ 连接线创建：右键在元素边框上时，可以增加链接线，鼠标指向另一个元素时产生连接线。

4. 构建顺序建议：

为确保构建过程的清晰与高效，建议遵循以下顺序进行：
	1. 优先绘制图中所有独立元素节点，确保每个元素有稳定的结构；
	2. 为每个元素添加基础交互功能，特别是拖拽功能的稳定性；
	3. 识别元素之间的逻辑/信息连接关系，绘制连接线；
	4. 整合为完整图形系统，保证布局一致性与交互完整性；
	5. 最终调优：语言翻译、样式统一、响应式支持、细节微调。

5. 出版图表规范与注意事项：
	1. 图示中的字号要用小五号黑体（对应fontSize: 12-14）；
	2. 线条的衔接要准确，线条的粗细和箭头的形状要美观；
	3. 黑白印刷的图书，绘制图表切忌用各色底纹，印刷后影响图片质量；
	4. 文本的字体、字号、颜色、字型和位置要恰到好处；
	5. 每个元素都要有清晰的边框，便于用户识别和操作。

请以JSON格式返回结果，包含以下结构：
{
  "elements": [
    {
      "id": "唯一标识符",
      "type": "元素类型(text/box/circle/arrow)",
      "x": "x坐标(0-800)",
      "y": "y坐标(0-600)",
      "width": "宽度",
      "height": "高度",
      "text": "文本内容(中文)",
      "color": "文字颜色",
      "backgroundColor": "背景颜色",
      "borderColor": "边框颜色",
      "fontSize": "字体大小(小五号黑体)",
      "visible": true
    }
  ],
  "connections": [
    {
      "id": "连接线ID",
      "fromElementId": "起始元素ID",
      "toElementId": "目标元素ID",
      "lineType": "straight",
      "lineStyle": "solid",
      "arrowType": "single",
      "color": "#333333",
      "width": 2,
      "visible": true
    }
  ],
  "description": "图表描述"
}

请确保返回的是有效的JSON格式，不要包含任何其他文本。
`;console.log("Sending request to Gemini API using new SDK...");const o=await J1.models.generateContentStream({model:"gemini-2.5-pro-preview-05-06",contents:[{parts:[{text:t},{inlineData:{mimeType:n.type,data:e}}]}],config:{temperature:.4,topK:32,topP:1,maxOutputTokens:4096,responseMimeType:"application/json",responseSchema:{type:$.OBJECT,properties:{elements:{type:$.ARRAY,items:{type:$.OBJECT,properties:{id:{type:$.STRING},type:{type:$.STRING},x:{type:$.NUMBER},y:{type:$.NUMBER},width:{type:$.NUMBER},height:{type:$.NUMBER},text:{type:$.STRING},color:{type:$.STRING},backgroundColor:{type:$.STRING},borderColor:{type:$.STRING},borderWidth:{type:$.NUMBER},fontSize:{type:$.NUMBER},fontWeight:{type:$.STRING},visible:{type:$.BOOLEAN},rotation:{type:$.NUMBER},zIndex:{type:$.NUMBER}}}},connections:{type:$.ARRAY,items:{type:$.OBJECT,properties:{id:{type:$.STRING},fromElementId:{type:$.STRING},toElementId:{type:$.STRING},lineType:{type:$.STRING},lineStyle:{type:$.STRING},arrowType:{type:$.STRING},color:{type:$.STRING},width:{type:$.NUMBER},visible:{type:$.BOOLEAN}}}},description:{type:$.STRING}}}}});let i="";for await(const r of o)r.text&&(i+=r.text);console.log("Received response from Gemini API"),console.log("Response length:",i.length),console.log("Response preview:",i.substring(0,200)+"...");try{console.log("Parsing AI response as JSON...");const r=JSON.parse(i);if(!r.elements||!Array.isArray(r.elements))throw new Error("Invalid response: missing or invalid elements array");if(r.elements=r.elements.map(a=>({id:a.id||Ot(),type:a.type||"text",x:Math.max(0,Math.min(800,a.x||100)),y:Math.max(0,Math.min(600,a.y||100)),width:Math.max(50,a.width||120),height:Math.max(30,a.height||40),text:a.text||"文本",color:a.color||"#333333",backgroundColor:a.backgroundColor||"#ffffff",borderColor:a.borderColor||"#cccccc",borderWidth:a.borderWidth||1,fontSize:a.fontSize||14,fontWeight:a.fontWeight||"normal",visible:a.visible!==!1,rotation:a.rotation||0,zIndex:a.zIndex||1})),r.connections&&Array.isArray(r.connections)){const a=r.connections.map(u=>({id:u.id||Ot(),fromElementId:u.fromElementId,toElementId:u.toElementId,lineType:u.lineType||"straight",lineStyle:u.lineStyle||"solid",arrowType:u.arrowType||"single",color:u.color||"#333333",width:u.width||2,visible:u.visible!==!1}));return console.log("Successfully parsed AI response"),console.log("Elements count:",r.elements.length),console.log("Connections count:",a.length),{...r,connections:a}}else return console.log("Successfully parsed AI response"),console.log("Elements count:",r.elements.length),console.log("Connections count:",0),{...r,connections:[]}}catch(r){throw console.error("Failed to parse AI response as JSON:",r),console.log("Raw response:",i),new Error(`AI响应解析失败: ${r.message}. 原始响应: ${i.substring(0,500)}...`)}}catch(e){if(console.error("Error in analyzeImageAndGenerateDiagram:",e),e instanceof Error){if(e.message.includes("API key"))throw new Error("API密钥配置错误，请检查Gemini API密钥设置");if(e.message.includes("quota"))throw new Error("API配额已用完，请稍后再试或检查账户配额");if(e.message.includes("network")||e.message.includes("fetch"))throw new Error("网络连接错误，请检查网络连接后重试")}throw e}},X1="QUl6YVN5QzV6Q2dYWHdDTmJVbWJRUl9waFJ0bWNpUlNCckNjRHFn",Q1=atob(X1),b1=new sm({apiKey:Q1}),j1=({className:n=""})=>{const{elements:e,connections:t,setElements:o,setConnections:i,setUploadedImage:r,isProcessing:a,setIsProcessing:u,saveToHistory:c}=fi(),[d,f]=H.useState([{id:Ot(),type:"system",content:"欢迎使用以图画图系统！请上传一张图片，我将帮您分析并生成可交互的图表。",timestamp:new Date}]),[p,m]=H.useState(""),y=H.useRef(null),C=H.useRef(null),T=()=>{var x;(x=y.current)==null||x.scrollIntoView({behavior:"smooth"})};H.useEffect(()=>{T()},[d]);const w=x=>{const E={...x,id:Ot(),timestamp:new Date};f(M=>[...M,E])},h=async x=>{try{console.log("开始处理图片上传:",x.name);const E=URL.createObjectURL(x);r(E),w({type:"user",content:`上传了图片: ${x.name}`,imageUrl:E}),await g(x)}catch(E){console.error("图片上传失败:",E),w({type:"system",content:"图片上传失败，请重试。"})}},g=async x=>{var E;try{console.log("开始自动生成图表..."),u(!0),w({type:"assistant",content:"正在分析图片并生成交互式图表，请稍候..."}),console.log("调用AI服务分析图片...");const M=await Z1(x);console.log("AI分析完成，解析元素..."),console.log("AI响应:",M);const D=v(M);console.log("解析得到的元素数量:",D.length),D.length>0?(o(D),M.connections&&M.connections.length>0&&i(M.connections),c("AI自动生成图表"),w({type:"assistant",content:`图表生成完成！我已经识别并创建了 ${D.length} 个图表元素${(E=M.connections)!=null&&E.length?`和 ${M.connections.length} 条连接线`:""}。您可以在右侧画布中查看和编辑这些元素。

${M.description||""}

您可以：
- 拖拽元素调整位置
- 双击元素编辑文本
- 拖拽元素四角调整大小
- 右键添加连接点
- 在聊天中提出修改建议`})):w({type:"assistant",content:"抱歉，我无法从这张图片中识别出有效的图表元素。请尝试上传更清晰的图表图片，或者告诉我您希望创建什么样的图表。"})}catch(M){console.error("自动生成失败:",M);let D="图表生成失败，";M instanceof Error?D+=M.message:D+="请检查网络连接后重试。",w({type:"assistant",content:D})}finally{u(!1)}},v=x=>{console.log("开始解析AI响应..."),console.log("AI响应类型:",typeof x),console.log("AI响应内容:",x);try{return x&&x.elements&&Array.isArray(x.elements)?(console.log("找到elements数组，长度:",x.elements.length),x.elements):(console.log("未找到有效的elements数组，返回测试元素"),[{id:Ot(),type:"text",x:150,y:100,width:120,height:40,text:"测试文本元素",color:"#333333",backgroundColor:"transparent",borderColor:"#cccccc",borderWidth:1,fontSize:14,fontWeight:"normal",visible:!0,rotation:0,zIndex:1},{id:Ot(),type:"box",x:300,y:200,width:140,height:80,text:"测试矩形",color:"#ffffff",backgroundColor:"#007bff",borderColor:"#0056b3",borderWidth:2,fontSize:16,fontWeight:"bold",visible:!0,rotation:0,zIndex:1},{id:Ot(),type:"circle",x:500,y:150,width:100,height:100,text:"测试圆形",color:"#333333",backgroundColor:"#28a745",borderColor:"#1e7e34",borderWidth:2,fontSize:14,fontWeight:"normal",visible:!0,rotation:0,zIndex:1}])}catch(E){return console.error("解析AI响应时出错:",E),[]}},S=async()=>{var E;if(!p.trim()||a)return;const x=p.trim();m(""),w({type:"user",content:x});try{u(!0),w({type:"assistant",content:"正在分析您的需求并生成相应的图表修改..."});const M={elements:e,connections:t,userRequest:x},D=`
用户当前有一个图表，包含以下元素：
${JSON.stringify(M.elements,null,2)}

连接线：
${JSON.stringify(M.connections,null,2)}

用户的修改要求："${x}"

请根据用户的要求，对图表进行相应的修改。可能的操作包括：
1. 添加新元素
2. 修改现有元素的属性（位置、大小、文本、颜色等）
3. 删除元素
4. 添加或修改连接线
5. 重新布局

请返回修改后的完整图表数据，格式与之前相同的JSON结构。

如果用户的要求不够明确，请提供建议或询问更多细节。

请确保返回的是有效的JSON格式，不要包含任何其他文本。
`,O=await b1.models.generateContentStream({model:"gemini-2.5-pro-preview-05-06",contents:[{parts:[{text:D}]}],config:{temperature:.4,topK:32,topP:1,maxOutputTokens:4096,responseMimeType:"application/json",responseSchema:{type:$.OBJECT,properties:{elements:{type:$.ARRAY,items:{type:$.OBJECT,properties:{id:{type:$.STRING},type:{type:$.STRING},x:{type:$.NUMBER},y:{type:$.NUMBER},width:{type:$.NUMBER},height:{type:$.NUMBER},text:{type:$.STRING},color:{type:$.STRING},backgroundColor:{type:$.STRING},borderColor:{type:$.STRING},borderWidth:{type:$.NUMBER},fontSize:{type:$.NUMBER},fontWeight:{type:$.STRING},visible:{type:$.BOOLEAN},rotation:{type:$.NUMBER},zIndex:{type:$.NUMBER}}}},connections:{type:$.ARRAY,items:{type:$.OBJECT,properties:{id:{type:$.STRING},fromElementId:{type:$.STRING},toElementId:{type:$.STRING},color:{type:$.STRING},width:{type:$.NUMBER}}}},description:{type:$.STRING}}}}});let W="";for await(const J of O)J.text&&(W+=J.text);try{const J=JSON.parse(W);if(J.elements&&Array.isArray(J.elements)){const ue=v(J);o(ue),J.connections&&Array.isArray(J.connections)&&i(J.connections),c(`AI修改: ${x}`),w({type:"assistant",content:`已根据您的要求完成图表修改！

修改内容：
- 更新了 ${ue.length} 个元素
- ${((E=J.connections)==null?void 0:E.length)||0} 条连接线

${J.description||""}

您可以继续提出其他修改建议。`})}else w({type:"assistant",content:W||"我理解了您的需求，但需要更多具体信息才能进行修改。请告诉我您希望如何具体调整图表？"})}catch(J){console.error("解析AI响应失败:",J),w({type:"assistant",content:W||`抱歉，我无法理解您的具体需求。请尝试更详细地描述您希望如何修改图表，比如：

- "添加一个蓝色的矩形，文字是XXX"
- "把第一个元素移动到右边"
- "改变所有文字的颜色为红色"
- "添加从A到B的连接线"`})}}catch(M){console.error("AI对话失败:",M);let D="抱歉，AI服务暂时不可用。";M instanceof Error&&(M.message.includes("API key")?D="API密钥配置错误，请检查设置。":M.message.includes("quota")?D="API配额已用完，请稍后再试。":(M.message.includes("network")||M.message.includes("fetch"))&&(D="网络连接错误，请检查网络后重试。")),w({type:"assistant",content:D+`

您仍然可以手动编辑图表元素：
- 拖拽元素调整位置
- 双击元素编辑文本
- 拖拽四角调整大小
- 右键添加连接点`})}finally{u(!1)}},I=()=>{if(e.length===0){w({type:"system",content:"当前画布为空，无法导出。请先添加一些元素。"});return}switch(prompt(`请选择导出格式:
1. PNG图片
2. SVG矢量图
3. JSON数据

请输入数字 (1-3):`,"1")){case"1":A();break;case"2":L();break;case"3":F();break;default:w({type:"system",content:"导出已取消。"})}},A=()=>{try{if(!document.querySelector(".canvas"))throw new Error("找不到画布元素");const E=document.createElement("canvas"),M=E.getContext("2d");if(!M)throw new Error("无法创建画布上下文");const D=b();E.width=D.width,E.height=D.height,M.fillStyle="#ffffff",M.fillRect(0,0,D.width,D.height),e.forEach(O=>{k(M,O,D)}),t.forEach(O=>{R(M,O,D)}),E.toBlob(O=>{if(O){const W=URL.createObjectURL(O),J=document.createElement("a");J.href=W,J.download="diagram.png",document.body.appendChild(J),J.click(),document.body.removeChild(J),URL.revokeObjectURL(W),w({type:"assistant",content:"PNG图片导出成功！文件已开始下载。"})}else throw new Error("无法生成PNG文件")},"image/png")}catch(x){w({type:"system",content:`PNG导出失败: ${x instanceof Error?x.message:"未知错误"}`})}},k=(x,E,M)=>{const{x:D,y:O,width:W,height:J,text:ue,color:Xe,backgroundColor:St,borderColor:cn,borderWidth:An}=E,it=D-M.x,Et=O-M.y;switch(x.fillStyle=St||"#ffffff",E.type){case"box":x.fillRect(it,Et,W,J);break;case"circle":x.beginPath(),x.ellipse(it+W/2,Et+J/2,W/2,J/2,0,0,2*Math.PI),x.fill();break;default:x.fillRect(it,Et,W,J);break}if((An||0)>0)switch(x.strokeStyle=cn||"#cccccc",x.lineWidth=An||1,E.type){case"box":x.strokeRect(it,Et,W,J);break;case"circle":x.beginPath(),x.ellipse(it+W/2,Et+J/2,W/2,J/2,0,0,2*Math.PI),x.stroke();break;default:x.strokeRect(it,Et,W,J);break}ue&&(x.fillStyle=Xe||"#333333",x.font="14px Arial",x.textAlign="center",x.textBaseline="middle",x.fillText(ue,it+W/2,Et+J/2))},R=(x,E,M)=>{const D=e.find(St=>St.id===E.fromElementId),O=e.find(St=>St.id===E.toElementId);if(!D||!O)return;const W=D.x+D.width/2-M.x,J=D.y+D.height/2-M.y,ue=O.x+O.width/2-M.x,Xe=O.y+O.height/2-M.y;x.strokeStyle=E.color||"#333",x.lineWidth=E.width||2,x.beginPath(),x.moveTo(W,J),x.lineTo(ue,Xe),x.stroke()},L=()=>{try{const x=b();let E=`<svg xmlns="http://www.w3.org/2000/svg" width="${x.width}" height="${x.height}" viewBox="${x.x} ${x.y} ${x.width} ${x.height}">
`;e.forEach(M=>{E+=Ue(M)}),t.forEach(M=>{E+=Ve(M)}),E+="</svg>",ye(E,"diagram.svg","image/svg+xml"),w({type:"assistant",content:"SVG文件导出成功！文件已开始下载。"})}catch(x){w({type:"system",content:`SVG导出失败: ${x instanceof Error?x.message:"未知错误"}`})}},F=()=>{try{const x={version:"1.0",timestamp:new Date().toISOString(),elements:e,connections:t,canvasState:{scale:1,offsetX:0,offsetY:0}},E=JSON.stringify(x,null,2);ye(E,"diagram.json","application/json"),w({type:"assistant",content:`JSON数据导出成功！包含 ${e.length} 个元素和 ${t.length} 条连接线。`})}catch(x){w({type:"system",content:`JSON导出失败: ${x instanceof Error?x.message:"未知错误"}`})}},b=()=>{if(e.length===0)return{x:0,y:0,width:800,height:600};let x=1/0,E=1/0,M=-1/0,D=-1/0;e.forEach(W=>{x=Math.min(x,W.x),E=Math.min(E,W.y),M=Math.max(M,W.x+W.width),D=Math.max(D,W.y+W.height)});const O=50;return{x:x-O,y:E-O,width:M-x+O*2,height:D-E+O*2}},Ue=x=>{const{x:E,y:M,width:D,height:O,text:W,color:J,backgroundColor:ue,borderColor:Xe,borderWidth:St}=x;let cn="";switch(x.type){case"box":cn+=`  <rect x="${E}" y="${M}" width="${D}" height="${O}" fill="${ue}" stroke="${Xe}" stroke-width="${St}" />
`;break;case"circle":const An=E+D/2,it=M+O/2,Et=D/2,lm=O/2;cn+=`  <ellipse cx="${An}" cy="${it}" rx="${Et}" ry="${lm}" fill="${ue}" stroke="${Xe}" stroke-width="${St}" />
`;break;case"text":default:cn+=`  <rect x="${E}" y="${M}" width="${D}" height="${O}" fill="${ue}" stroke="${Xe}" stroke-width="${St}" />
`;break}if(W){const An=E+D/2,it=M+O/2;cn+=`  <text x="${An}" y="${it}" text-anchor="middle" dominant-baseline="middle" fill="${J}" font-size="14">${W}</text>
`}return cn},Ve=x=>{const E=e.find(ue=>ue.id===x.fromElementId),M=e.find(ue=>ue.id===x.toElementId);if(!E||!M)return"";const D=E.x+E.width/2,O=E.y+E.height/2,W=M.x+M.width/2,J=M.y+M.height/2;return`  <line x1="${D}" y1="${O}" x2="${W}" y2="${J}" stroke="${x.color||"#333"}" stroke-width="${x.width||2}" />
`},ye=(x,E,M)=>{const D=new Blob([x],{type:M}),O=URL.createObjectURL(D),W=document.createElement("a");W.href=O,W.download=E,document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(O)},$e=()=>{var x;(x=C.current)==null||x.click()},xt=x=>{var M;const E=(M=x.target.files)==null?void 0:M[0];E&&E.type.startsWith("image/")&&h(E),x.target.value=""},_t=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),S())},V=x=>x.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"});return _.jsxs("div",{className:`chat-panel ${n}`,style:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"#ffffff"},children:[_.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e0e0e0",backgroundColor:"#f8f9fa"},children:[_.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:"600"},children:"AI 助手"}),_.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"12px",color:"#666"},children:"上传图片自动生成图表，或描述您的需求"})]}),_.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px",display:"flex",flexDirection:"column",gap:"12px"},children:[d.map(x=>_.jsxs("div",{style:{display:"flex",flexDirection:x.type==="user"?"row-reverse":"row",gap:"8px",alignItems:"flex-start"},children:[_.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:x.type==="user"?"#007bff":"#28a745",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"bold",flexShrink:0},children:x.type==="user"?"我":x.type==="assistant"?"AI":"系"}),_.jsxs("div",{style:{maxWidth:"70%",backgroundColor:x.type==="user"?"#007bff":"#f1f3f4",color:x.type==="user"?"white":"#333",padding:"8px 12px",borderRadius:"12px",fontSize:"14px",lineHeight:"1.4",whiteSpace:"pre-wrap"},children:[x.content,x.imageUrl&&_.jsx("div",{style:{marginTop:"8px"},children:_.jsx("img",{src:x.imageUrl,alt:"上传的图片",style:{maxWidth:"200px",maxHeight:"150px",borderRadius:"8px",objectFit:"cover"}})}),_.jsx("div",{style:{fontSize:"10px",opacity:.7,marginTop:"4px",textAlign:x.type==="user"?"right":"left"},children:V(x.timestamp)})]})]},x.id)),a&&_.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"flex-start"},children:[_.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"#28a745",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"bold"},children:"AI"}),_.jsxs("div",{style:{backgroundColor:"#f1f3f4",padding:"8px 12px",borderRadius:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx("div",{className:"spinner",style:{width:"16px",height:"16px"}}),_.jsx("span",{style:{fontSize:"14px",color:"#666"},children:"正在思考..."})]})]}),_.jsx("div",{ref:y})]}),_.jsxs("div",{style:{padding:"16px",borderTop:"1px solid #e0e0e0",backgroundColor:"#f8f9fa"},children:[_.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"12px",flexWrap:"wrap"},children:[_.jsxs("button",{className:"btn btn-outline",style:{fontSize:"12px"},onClick:I,children:[_.jsx(Rp,{size:14}),"导出"]}),_.jsxs("button",{className:"btn btn-outline",style:{fontSize:"12px"},onClick:$e,children:[_.jsx(ry,{size:14}),"上传图片"]}),_.jsx("input",{ref:C,type:"file",accept:"image/*",onChange:xt,style:{display:"none"}})]}),_.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"flex-end"},children:[_.jsx("textarea",{value:p,onChange:x=>m(x.target.value),onKeyPress:_t,placeholder:"描述您想要的修改，或提出问题...",style:{flex:1,minHeight:"40px",maxHeight:"120px",padding:"8px 12px",border:"1px solid #dee2e6",borderRadius:"20px",fontSize:"14px",resize:"none",outline:"none"},disabled:a}),_.jsx("button",{className:"btn btn-primary",onClick:S,disabled:!p.trim()||a,style:{borderRadius:"50%",width:"40px",height:"40px",padding:"0",display:"flex",alignItems:"center",justifyContent:"center"},children:_.jsx(ty,{size:16})})]}),_.jsx("div",{style:{fontSize:"11px",color:"#999",marginTop:"8px",textAlign:"center"},children:"按 Enter 发送，Shift + Enter 换行"})]})]})},eE=()=>{const{uploadedImage:n}=fi(),[e,t]=H.useState(1),o=()=>{t(a=>Math.min(a*1.2,3))},i=()=>{t(a=>Math.max(a/1.2,.3))},r=()=>{t(1)};return _.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",padding:"16px"},children:[_.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"16px",color:"#333",borderBottom:"1px solid #e0e0e0",paddingBottom:"8px"},children:"原图预览"}),_.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:n?_.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginBottom:"12px",padding:"0 16px"},children:[_.jsx("button",{onClick:i,style:{padding:"6px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"缩小",children:_.jsx(Np,{size:16})}),_.jsxs("button",{onClick:r,style:{padding:"6px 12px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#fff",cursor:"pointer",fontSize:"12px",minWidth:"50px"},title:"重置缩放",children:[Math.round(e*100),"%"]}),_.jsx("button",{onClick:o,style:{padding:"6px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"放大",children:_.jsx(Pp,{size:16})})]}),_.jsx("div",{style:{flex:1,overflow:"auto",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 16px 16px"},children:_.jsx("img",{src:n,alt:"上传的原图",style:{transform:`scale(${e})`,transformOrigin:"center",maxWidth:"none",maxHeight:"none",border:"1px solid #e0e0e0",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"transform 0.2s ease"}})}),_.jsx("div",{style:{fontSize:"12px",color:"#666",textAlign:"center",padding:"8px 16px",borderTop:"1px solid #f0f0f0"},children:"原始上传图片"})]}):_.jsxs("div",{style:{textAlign:"center",color:"#999",padding:"32px 16px"},children:[_.jsx(Zg,{size:48,style:{marginBottom:"16px",opacity:.5}}),_.jsx("div",{style:{fontSize:"14px",marginBottom:"8px"},children:"暂无上传图片"}),_.jsxs("div",{style:{fontSize:"12px",lineHeight:"1.4"},children:["请使用顶部工具栏的",_.jsx("br",{}),'"上传图片" 按钮上传图片']})]})})]})};const tE=()=>{const[n,e]=H.useState(!1),[t,o]=H.useState(!1);return _.jsx(Ug,{children:_.jsxs("div",{className:"app",style:{height:"100vh",display:"flex",flexDirection:"column",backgroundColor:"#f5f5f5",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},children:[_.jsxs("div",{style:{height:"60px",backgroundColor:"#ffffff",borderBottom:"1px solid #e0e0e0",display:"flex",alignItems:"center",padding:"0 16px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",zIndex:1e3},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[_.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"#007bff",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontWeight:"bold",fontSize:"16px"},children:"图"}),_.jsx("h1",{style:{margin:0,fontSize:"20px",fontWeight:"600",color:"#333"},children:"以图画图系统"})]}),_.jsx("div",{style:{flex:1,margin:"0 20px"},children:_.jsx(ly,{onExport:()=>{console.log("Export diagram")}})}),_.jsxs("div",{style:{display:"flex",gap:"8px"},children:[_.jsx("button",{className:"btn btn-outline",onClick:()=>e(!n),style:{padding:"8px"},title:n?"展开原图":"收起原图",children:n?_.jsx(Og,{size:16}):_.jsx(Bg,{size:16})}),_.jsx("button",{className:"btn btn-outline",onClick:()=>o(!t),style:{padding:"8px"},title:t?"展开AI助手":"收起AI助手",children:_.jsx(Qg,{size:16})})]})]}),_.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden"},children:[!n&&_.jsx("div",{style:{width:"400px",flexShrink:0,backgroundColor:"#ffffff",borderRight:"1px solid #e0e0e0",display:"flex",flexDirection:"column"},children:_.jsx(eE,{})}),_.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",backgroundColor:"#ffffff"},children:_.jsx("div",{style:{flex:1,position:"relative"},children:_.jsx(my,{})})}),!t&&_.jsxs("div",{style:{width:"400px",flexShrink:0,backgroundColor:"#ffffff",borderLeft:"1px solid #e0e0e0",display:"flex",flexDirection:"column"},children:[_.jsxs("div",{style:{height:"40px",backgroundColor:"#f8f9fa",borderBottom:"1px solid #e0e0e0",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px"},children:[_.jsx("h4",{style:{margin:0,fontSize:"14px",fontWeight:"600",color:"#333"},children:"AI 助手"}),_.jsx("button",{className:"btn btn-ghost",onClick:()=>o(!0),style:{padding:"4px"},children:_.jsx(sy,{size:16})})]}),_.jsx("div",{style:{flex:1},children:_.jsx(j1,{})})]})]}),_.jsxs("div",{style:{height:"24px",backgroundColor:"#f8f9fa",borderTop:"1px solid #e0e0e0",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px",fontSize:"12px",color:"#666"},children:[_.jsx("div",{children:"就绪"}),_.jsx("div",{children:"以图画图系统 v1.0.0"})]})]})})};_s.createRoot(document.getElementById("root")).render(_.jsx(Em.StrictMode,{children:_.jsx(tE,{})}));
